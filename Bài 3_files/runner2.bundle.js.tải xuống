!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=342)}([function(e,t,n){"use strict";var r=n(53),o=n(160),i=n(50),a=n(29),l=n(120),s="Array Iterator",c=a.set,p=a.getterFor(s);e.exports=l(Array,"Array",(function(e,t){c(this,{type:s,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(57),n(0),n(16),n(70),n(46),n(19),n(56),n(10),n(3),n(73),n(34),n(20),n(32),n(39),n(60),n(61),n(2),n(106);var{pyTypeError:s,pyObject:c,toPy:p,Suspension:u,pyFunc:d,pyList:f,pyDict:v,pyStr:m,pyCallOrSuspend:h,pyFalse:g}=n(6),{notifyVisibilityChange:_}=n(28),{getCssPrefix:y,hasLegacyDict:b}=n(9),{objectToKwargs:k,s_raise_event:S,pyTryFinally:w}=n(8),{defer:C}=n(25),O={loadModule:function(e,t){var n=new Sk.builtin.module;Sk.sysmodules.mp$ass_subscript(new Sk.builtin.str(e),n),n.$js="/* source code not available */",n.$d=t;var r=/^(.*)\.([^.]+)$/.exec(e);r&&(O.getModule(r[1]).$d[r[2]]=n)},getModule:function(e){return Sk.sysmodules.mp$subscript(new Sk.builtin.str(e))},staticmethod:function(e){return new Sk.builtin.staticmethod(e)},keywordArrayToHashMap:function(e){for(var t={},n=0;n<e.length;n+=2)t[e[n].toString()]=e[n+1];return t},withKwargs:function(e){var t=function(t,n){for(var r={},o=0;o<t.length-1;o+=2)r[t[o].v]=Sk.ffi.remapToJs(t[o+1]);return e.apply(this,[r].concat(Array.prototype.slice.call(arguments,1)))};return t.co_kwargs=!0,t},funcWithKwargs:function(e){return new Sk.builtin.func(O.withKwargs(e))},withRawKwargs:function(e){return e.co_kwargs=!0,e},funcWithRawKwargsDict:function(e){var t=function(t,n){var r=O.keywordArrayToHashMap(t);return e.apply(this,[r].concat(Array.prototype.slice.call(arguments,1)))};return t.co_kwargs=!0,new Sk.builtin.func(t)},funcFastCall:e=>(e.co_fastcall=1,new Sk.builtin.func(e))};O.pyCall=Sk.misceval.callsimArray,O.pyCallOrSuspend=Sk.misceval.callsimOrSuspendArray;var P=function(e){var t="";for(var n in e)t+="["+JSON.stringify(e[n])+"]";return t},x=function e(t,n,r,o){if(o){var i=o(t,n);if(void 0!==i)return i}if(t instanceof Sk.builtin.dict){for(var a={},l=t.tp$iter(),s=l.tp$iternext();void 0!==s;s=l.tp$iternext()){if(!(s instanceof Sk.builtin.str))throw new Sk.builtin.TypeError("Cannot use '"+s.tp$name+"' objects as the key in a dict when sending to a server-side module; only string keys are allowed (arguments"+P(n)+")");var c=Sk.ffi.remapToJs(s);n.push(c),a[c]=e(t.mp$subscript(s),n,r,o),n.pop()}return a}if(t instanceof Sk.builtin.list||t instanceof Sk.builtin.tuple){for(var p=[],u=0;u<t.v.length;u++)n.push(u),p.push(e(t.v[u],n,r,o)),n.pop();return p}if(t instanceof Sk.builtin.bool)return!!t.v;if(t instanceof Sk.builtin.str)return t.v;if(t instanceof Sk.builtin.int_||t instanceof Sk.builtin.float_)return Sk.builtin.asnum$(t);if(t instanceof Sk.builtin.none)return null;if("string"==typeof t)return t;if("object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype){var d={};for(var f in t)n.push(f),d[f]=e(t[f],n,r,o),n.pop();return d}if(t instanceof Array){for(var v=[],m=0;m<t.length;m++)n.push(m),v.push(e(t[m],n,r,o)),n.pop();return v}var h=r(t,n);if(void 0===h)throw new Sk.builtin.Exception("Cannot accept '"+(t&&t.tp$name?t.tp$name:typeof t)+"' object here (x"+P(n)+")");return h};O.remapToJs=function(e,t,n){return x(e,[],t,n)};var T=(e,t)=>{var n;if(e){null!==(n=t)&&void 0!==n||(t={});var r=a({},t);return e.forEach((e=>{r[e.name]=e})),r}};O.mkComponentCls=function(e,t,n){var r,o,i,a,l,s,{base:c,properties:p,events:u,layouts:d,element:v,locals:m,kwargs:h,slots:g=!0}=n;return null!==(r=h)&&void 0!==r||(h=[]),h.push("_anvil_classic",{properties:p,events:u,element:v,layouts:d}),null!==(o=c)&&void 0!==o||(c=e.ClassicComponent),s=Array.isArray(c)?c:[c],null!==(i=u)&&void 0!==i||(u=[]),null!==(a=p)&&void 0!==a||(p=[]),null!==(l=m)&&void 0!==l||(m=()=>{}),Sk.misceval.buildClass(e,((t,n)=>{g&&!b()&&(n.__slots__=new f),m(n),O.mkGettersSetters(n,p,e)}),t,s,void 0,h)},O.mkNew=(e,t)=>{var n=Sk.abstr.typeLookup(e,Sk.builtin.str.$new);return O.funcFastCall((function(e,r){var o=O.pyCallOrSuspend(n,e,r);return Sk.misceval.chain(o,(e=>(o=e,t?t(o):null)),(()=>o))}))},O.mkGettersSetters=function(e,t,n){(t||[]).forEach((t=>{e[t.name]=O.pyCall(n.ComponentProperty,[t.name])}))},O.initClassicComponentClassPrototype=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{properties:n=[],events:r,element:o,layouts:i}=t,l=e.prototype,s=l._anvilClassic$propDefaults||{},c=l._anvilClassic$propMap||{},p=l._anvilClassic$propTypes||[],u=l._anvilClassic$eventTypes||{},d=l._anvilClassic$layoutProps||[],f=l._anvilClassic$dataBindingProps,v={};Object.entries(c).forEach((e=>{var[t,n]=e;v[t]=a({},n)}));var m=[...p];n.forEach((e=>{var{name:t,type:n,description:r,group:o,dataBindingProp:i}=e;v[t]=a({},e);var l={name:t,type:n,description:r,group:o};["options","nullable","multiline","important","priority","hidden","deprecated","pyVal","hideFromDesigner","allowBindingWriteback","showInDesignerWhen","inlineEditElement","designerHint","iconset","allowCustomValue","accept"].forEach((t=>{e[t]&&(l[t]=e[t])}));var s=m.findIndex((e=>e.name===t));-1===s?m.push(l):m[s]=l,i&&(f=t)}));var h,g=Object.keys(v).filter((e=>v[e].initialize)),_=T(r,u);i&&(h=[...d]).push(...i);var y=Object.assign({},s,Object.fromEntries(n.filter((e=>!e.readOnly)).map((e=>[e.name,e.defaultValue]))));Object.defineProperties(l,{_anvilClassic$propDefaults:{value:y,writable:!0},_anvilClassic$propMap:{value:v,writable:!0},_anvilClassic$propTypes:{value:m,writable:!0},_anvilClassic$propsToInitialize:{value:g,writable:!0}}),_&&Object.defineProperty(l,"_anvilClassic$eventTypes",{value:_,writable:!0}),o&&Object.defineProperty(l,"_anvilClassic$createElement",{value:e=>O.h(o,e),writable:!0}),i&&Object.defineProperty(l,"_anvilClassic$layoutProps",{value:h,writable:!0}),f&&Object.defineProperty(l,"_anvilClassic$dataBindingProps",{value:f,writable:!0})};O.h=O.createElement=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("function"==typeof e)return e(t,...r);var a=t||{},{refName:l,children:s,style:c,className:p,innerHTML:u}=a,d=o(a,["refName","children","style","className","innerHTML"]),f=document.createElement(e),v={[l]:f};return r=s||r,c&&(f.style.cssText=c),p&&(f.className=p),u&&(f.innerHTML=u),Object.keys(d).forEach((e=>{var t=d[e];f.setAttribute(e,null==t?t:t.toString())})),r.forEach((e=>{if("string"==typeof e||"number"==typeof e)f.appendChild(document.createTextNode(e));else if(!0!==e&&e){var[t,n]=e;f.appendChild(t),Object.assign(v,n)}else;})),[f,v]},O.defer=C,O.suspensionFromPromise=function(e){var t=new Sk.misceval.Suspension;return t.resume=function(){if(t.data.error)throw t.data.error;return t.data.result},t.data={type:"Sk.promise",promise:e},t},O.suspensionPromise=function(e){var t=new Promise(e);return O.suspensionFromPromise(t)},O.suspensionHandlers={timer:function(e){return new Promise((function(t,n){setTimeout((function(){t(e.resume())}),1e3*e.data.delay)}))}},O.callAsyncWithoutDefaultError=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(O.suspensionHandlers),Sk.misceval.callAsync.apply(null,e)},O.callAsync=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sk.misceval.callAsync(O.suspensionHandlers,...t).catch((e=>{throw e}))},O.asyncToPromise=e=>Sk.misceval.asyncToPromise((()=>{return(t=e())instanceof Sk.misceval.Suspension&&t.optional&&(t=t.resume()),t;var t})).catch((e=>{throw e})),O.raiseEventOrSuspend=function(e,t,n){return h(t.tp$getattr(S),[new m(n)],k(e))},O.raiseEventAsync=function(e,t,n){return O.asyncToPromise((()=>O.raiseEventOrSuspend(e,t,n)))},O.whileOrSuspend=function(e,t,n){function r(t){return t instanceof Sk.misceval.Suspension?new Sk.misceval.Suspension(r,t):t===Sk.misceval.Break||t instanceof Sk.misceval.Break?t.brValue:o(e())}function o(i){for(;;){if(i instanceof Sk.misceval.Suspension)return new Sk.misceval.Suspension(o,i);if(!i)return n?n():void 0;var a=t();if(a instanceof Sk.misceval.Suspension)return new Sk.misceval.Suspension(r,a);if(a===Sk.misceval.Break||a instanceof Sk.misceval.Break)return a.brValue;i=e()}}return o(e())},O.mapSetter=function(e,t){return function(n,r,o){var i={};i[e]=t?t(o):o,n._jsVal.setOptions(i)}},O.mapGetter=function(e,t){return function(n,r){var o=n._jsVal[e];if(o){var i=o.call(n._jsVal);return t?t(i):i}}},O.setAttrsFromDict=function(e,t){var n=t.tp$getattr(new Sk.builtin.str("items"));return Sk.misceval.iterFor(Sk.abstr.iter(Sk.misceval.call(n)),(t=>e.tp$setattr(t.v[0],t.v[1],!0)))},O.mkNewDeserializedPreservingIdentityInner=(e,t)=>(n,r,o)=>{var i,a=new Sk.builtin.str(n.anvil$serializableName);try{i=o.mp$subscript(a)}catch(e){i={},o.mp$ass_subscript(a,i)}var l=r.v[0].v,s=i[l];return s||(s=i[l]=t?t(n):Sk.misceval.callsim(n)),r.v.length<=1?s:e?Sk.misceval.chain(e(s,r.v[1],o),(()=>s)):Sk.misceval.chain(O.setAttrsFromDict(s,r.v[1]),(()=>s))},O.mkNewDeserializedPreservingIdentity=function(e,t){return new Sk.builtin.classmethod(new Sk.builtin.func(O.mkNewDeserializedPreservingIdentityInner(e,t)))},O.mkSerializePreservingIdentityInner=e=>(t,n)=>{var r,o=t._anvil.$lastSerialKey;if(o&&o.pyGlobals===n)return new Sk.builtin.list([o.pyId]);var i,a=t.constructor.anvil$serializableName,l=new Sk.builtin.str(a+"_max");try{i=n.mp$subscript(l)}catch(e){i=new Sk.builtin.int_(0)}n.mp$ass_subscript(l,new Sk.builtin.int_(i.v+1)),t._anvil.$lastSerialKey={pyId:i,pyGlobals:n};var s=e?e(t):null!==(r=Sk.abstr.lookupSpecial(t,Sk.builtin.str.$dict))&&void 0!==r?r:new v;return Sk.misceval.chain(s,(e=>new Sk.builtin.list([i,e])))},O.mkSerializePreservingIdentity=function(e){return new Sk.builtin.func(O.mkSerializePreservingIdentityInner(e))};var{isTrue:E}=Sk.misceval;O.getOuterClass=function(e){var{align:t,icon:n,icon_align:r,role:o,spacing_above:i,spacing_below:a,text:l,visible:s}=e,c=y(),p=[],u=["none","small","medium","large"];if(E(t)&&["center","right","left"].includes(t.toString())&&p.push("align-"+t.toString()),E(i)&&u.includes(i.toString())&&p.push("anvil-spacing-above-"+i.toString()),E(a)&&u.includes(a.toString())&&p.push("anvil-spacing-below-"+a.toString()),E(n)&&p.push("anvil-component-icon-present"),E(r)&&p.push(r+"-icon"),void 0===s||E(s)||p.push(c+"visible-false"),E(o))for(var d of O.applyRole(o))p.push("anvil-role-"+d);return E(l)&&p.push(c+"has-text"),p.join(" ")};var j=/[a-zA-Z%]/g;O.cssLength=e=>"default"!==e&&e?(""+e).match(j)?e:e+"px":"";var A=/[^A-Za-z0-9_-]/g;O.applyRole=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];if(null===(e=Sk.ffi.toJs(e)));else if(Array.isArray(e))for(var r of e){if("string"!=typeof r)throw new Sk.builtin.TypeError("role must be None, a string, or a list of strings");n.push(r.replace(A,""))}else{if("string"!=typeof e)throw new Sk.builtin.TypeError("role must be None, a string, or a list of strings");n.push(e.replace(A,""))}if(null!==t){var o=null!==t.getAttribute("anvil-role"),i=0!==n.length;i&&!o?(t.setAttribute("anvil-role",n.join(" ")),t.className=t.className+" anvil-role-"+n.join(" anvil-role-")):i?(t.setAttribute("anvil-role",n.join(" ")),t.className=Array.prototype.filter.call(t.classList,(e=>!e.startsWith("anvil-role-"))).join(" ")+" anvil-role-"+n.join(" anvil-role-")):o&&(t.removeAttribute("anvil-role"),t.className=Array.prototype.filter.call(t.classList,(e=>!e.startsWith("anvil-role-"))).join(" "))}return n},O.getColor=e=>{var t=(e=Sk.builtin.checkNone(e)?"":e.toString()).match(/^theme:(.*)$/);if(t){var n=window.anvilThemeVars[t[1]];return n?"var(".concat(n,")"):""}return e},O.loadScript=(e,t)=>{var n=document.createElement("script");n.src=e;var r=new Promise(((e,r)=>{n.onload=()=>{e(null),null==t||t()},n.onerror=r}));return document.body.appendChild(n),r},O.getOuterStyle=function(e){var{align:t,font_size:n,font:r,bold:o,italic:i,underline:a,background:l,foreground:s,border:c,height:p,width:u}=e,d={};E(t)&&(d["text-align"]=t.toString()),"number"==typeof(n=Sk.ffi.remapToJs(n))&&(d["font-size"]=n+"px"),E(r)&&(d["font-family"]=r.toString()),E(o)&&(d["font-weight"]="bold"),E(i)&&(d["font-style"]="italic"),E(a)&&(d["text-decoration"]="underline"),E(l)&&(d["background-color"]=O.getColor(l)),E(s)&&(d.color=O.getColor(s)),E(c)&&(d.border=c.toString()),E(p)&&(d.height=O.cssLength(p.toString())),E(u)&&(d.width=O.cssLength(u.toString()));var f=Object.keys(d).map((e=>e+": "+d[e])).join("; ");return f?f+";":f},O.getOuterAttrs=function(e){var{tooltip:t,source:n,role:r,enabled:o}=e,i={};if(E(t)&&(i.title=t.toString()),E(n)&&(i.src=n.toString()),E(r)){var a=O.applyRole(r);i["anvil-role"]=a.join(" ")}return void 0===o||E(o)||(i.disabled=""),i},O.IconComponent=e=>{var{side:t,icon:n,icon_align:r}=e;t=t?t.toString():"";var o="",i=!1;if(E(n)){var a=(n=n.toString()).split(":");2===a.length&&a[0].startsWith("fa")?o=a[0]+" fa-"+a[1]:i=!0}var l="icon"+t[0].toUpperCase()+t.slice(1),s=y();return r=E(r)?s+r.toString()+"-icon":"",t=s+t,i?O.h("i",{refName:l,className:"anvil-component-icon ".concat(t," ").concat(r)},O.h("img",{src:n,style:"height: 1em; vertical-align: text-bottom;"})):O.h("i",{refName:l,className:"anvil-component-icon ".concat(t," ").concat(o," ").concat(r)})},O.OuterElement=function(e){for(var{refName:t,style:n,className:i}=e,a=o(e,["refName","style","className"]),l=O.getOuterClass(a)+(i?" "+i:""),s=O.getOuterStyle(a)+(n?" "+n:""),c=O.getOuterAttrs(a),p=arguments.length,u=new Array(p>1?p-1:0),d=1;d<p;d++)u[d-1]=arguments[d];return O.h("div",r({refName:t||"outer",className:l,style:s},c,{children:u}))};
/*!propGroups()!1*/
var M={text:{text:{name:"text",type:"string",description:"The text displayed on this component",defaultValue:Sk.builtin.str.$empty,exampleValue:"Hello",important:!0,pyVal:!0,priority:10,set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString();var r=y(),{outer:o,text:i}=e._anvil.elements;o.classList.toggle(r+"has-text",!!n),i.textContent=n}},align:{name:"align",type:"enum",options:["left","center","right"],description:"Align this component's text",defaultValue:new Sk.builtin.str("left"),designerHint:"align-horizontal",pyVal:!0,set(e,t,n){n=n.toString();var r=e._anvil.domNode,o=y();r.classList.remove(o+"align-left",o+"align-center",o+"align-right"),r.style.textAlign=n,["left","center","right"].includes(n)&&r.classList.add(o+"align-"+n)}},font_size:{name:"font_size",type:"number",nullable:!0,description:"The height of text displayed on this component in pixels",defaultValue:Sk.builtin.none.none$,pyVal:!0,exampleValue:16,set(e,t,n){n=Sk.ffi.remapToJs(n),t.css("font-size","number"==typeof n?n+"px":"")}},font:{name:"font",type:"string",description:"The font to use for this component.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"Arial",set(e,t,n){t.css("font-family",n.toString())}},bold:{name:"bold",type:"boolean",description:"Display this component's text in bold",defaultValue:Sk.builtin.bool.false$,pyVal:!0,exampleValue:!0,designerHint:"font-bold",set(e,t,n){t.css("font-weight",E(n)?"bold":"")}},italic:{name:"italic",type:"boolean",description:"Display this component's text in italics",defaultValue:Sk.builtin.bool.false$,pyVal:!0,exampleValue:!0,designerHint:"font-italic",set(e,t,n){t.css("font-style",E(n)?"italic":"")}},underline:{name:"underline",type:"boolean",description:"Display this component's text underlined",defaultValue:Sk.builtin.bool.false$,pyVal:!0,exampleValue:!0,designerHint:"font-underline",set(e,t,n){t.add(t.children("span, div")).css("text-decoration",E(n)?"underline":"")}}},icon:{icon:{name:"icon",type:"icon",iconset:"font-awesome-4.7.0",defaultValue:Sk.builtin.str.$empty,exampleValue:"fa:user",description:"The icon to display on this component. Either a URL, or a FontAwesome Icon, e.g. 'fa:user'.",pyVal:!0,important:!0,set(e,t,n){t.removeClass("anvil-component-icon-present");var r=e._anvil.elements,o=()=>{};if(n instanceof Sk.builtin.str&&(n=n.toString())){var i=n.split(":");o=2===i.length&&i[0].startsWith("fa")?e=>{e.classList.add(i[0]),e.classList.add("fa-"+i[1])}:e=>{var t=document.createElement("img");t.src=n,t.style.cssText="height: 1em; vertical-align: text-bottom;",e.appendChild(t)},t.addClass("anvil-component-icon-present")}Object.keys(r).filter((e=>e.startsWith("icon"))).forEach((e=>{var t=r[e];for(t.className=t.className.split(" ").filter((e=>!e.startsWith("fa"))).join(" ");t.firstChild;)t.removeChild(t.firstChild);o(t)}))}},icon_align:{name:"icon_align",description:"The alignment of the icon on this component. Set to 'top' for a centred icon on a component with no text.",type:"enum",defaultValue:new Sk.builtin.str("left"),pyVal:!0,options:["left_edge","left","top","right","right_edge"],set(e,t,n){var r=y(),o=["right_edge","left_edge","top","right","left"].map((e=>r+e+"-icon"));e._anvil.domNode.classList.remove(...o);var i=t.find(".anvil-component-icon").filter((function(){var e=$(this).closest(".anvil-component");return 0==e.length||e[0]==t[0]}));i.removeClass(o),t.addClass(r+n+"-icon"),i.addClass(r+n+"-icon")}}},align:{align:{name:"align",type:"enum",options:["left","center","right"],description:"Align this component's content",defaultValue:new Sk.builtin.str("center"),set(e,t,n){t.css("text-align",n.toString())},important:!0}},appearance:{background:{name:"background",type:"color",description:"The background colour of this component.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"#ff0000",designerHint:"background-color",set(e,t,n){e._anvil.domNode.style.backgroundColor=O.getColor(n)}},foreground:{name:"foreground",type:"color",description:"The foreground colour of this component.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"#ff0000",designerHint:"foreground-color",set(e,t,n){e._anvil.domNode.style.color=O.getColor(n)}},border:{name:"border",type:"string",description:"The border of this component. Can take any valid CSS border value.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"1px solid #888888",designerHint:"border",set(e,t,n){t.css("border",E(n)?n.toString():"")}},visible:{name:"visible",important:!0,type:"boolean",description:"Should this component be displayed?",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!1,designerHint:"visible",set(e,t,n){var r=E(n);return t.toggleClass(y()+"visible-false",!r),_(e,r)}},role:{name:"role",important:!1,type:"themeRole",description:"Choose how this component can appear, based on your app's visual theme.",defaultValue:Sk.builtin.none.none$,pyVal:!0,exampleValue:"title",set(e,t,n){O.applyRole(n,e._anvil.domNode)}}},visibility:{visible:{name:"visible",important:!0,type:"boolean",description:"Should this component be displayed?",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!1,designerHint:"visible",set(e,t,n){var r=E(n);return t.toggleClass(y()+"visible-false",!r),_(e,r)}}},interaction:{enabled:{name:"enabled",important:!0,type:"boolean",description:"True if this component should allow user interaction.",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!1,designerHint:"enabled",set(e,t,n){var r=e._anvil.domNode,o=y(),i=r.querySelector(".".concat(o,"to-disable"));E(n)?(r.removeAttribute("disabled"),null!==i&&i.removeAttribute("disabled")):(r.setAttribute("disabled",""),null!==i&&i.setAttribute("disabled",""))}}},height:{height:{name:"height",type:"string",defaultValue:Sk.builtin.str.$empty,exampleValue:new Sk.builtin.str("100"),description:"The height of this component.",pyVal:!0,set(e,t,n){t.css("height",O.cssLength(n.toString()))}}},layout:{width:{name:"width",type:"string",defaultValue:new Sk.builtin.str("default"),pyVal:!0,description:'The width of this {{component}}, or "default" to have the width set by the container.',deprecated:!0,set(e,t,n){t.css("width",O.cssLength(n.toString()))}},spacing_above:{name:"spacing_above",type:"enum",options:["none","small","medium","large"],defaultValue:new Sk.builtin.str("small"),pyVal:!0,description:"The vertical space above this component.",set(e,t,n){n=n.toString();for(var r=["none","small","medium","large"],o=0;o<r.length;o++){var i="anvil-spacing-above-"+r[o];n==r[o]?t.addClass(i):t.removeClass(i)}}},spacing_below:{name:"spacing_below",type:"enum",options:["none","small","medium","large"],defaultValue:new Sk.builtin.str("small"),pyVal:!0,description:"The vertical space below this component.",set(e,t,n){n=n.toString();for(var r=["none","small","medium","large"],o=0;o<r.length;o++){var i="anvil-spacing-below-"+r[o];n==r[o]?t.addClass(i):t.removeClass(i)}}}},containers:{row_spacing:{name:"row_spacing",deprecated:!0,important:!0,priority:9,type:"number",description:"The spacing between rows of components in this container, in pixels.",defaultValue:new Sk.builtin.int_(10),pyVal:!0}},"user data":{tag:{name:"tag",defaultValue:null,important:!1,type:"object",description:"Use this property to store any extra information about this component"}},tooltip:{tooltip:{name:"tooltip",important:!1,type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,description:"Text to display when you hover the mouse over this component",set(e,t,n){t.attr("title",E(n)?n.toString():null)}}},mapOverlays:{clickable:{name:"clickable",important:!0,type:"boolean",description:"True if this overlay raises mouse events.",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:O.mapSetter("clickable",E),get:O.mapGetter("clickable",Sk.builtin.bool)},draggable:{name:"draggable",type:"boolean",important:!0,description:"True if this overlay can be dragged.",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:O.mapSetter("draggable",E),get:O.mapGetter("draggable",Sk.builtin.bool)},visible:{name:"visible",type:"boolean",important:!0,description:"True if this overlay should be displayed.",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:O.mapSetter("visible",E),get:O.mapGetter("visible",Sk.builtin.bool)},z_index:{name:"z_index",type:"number",important:!0,description:"The z-index compared to other overlays.",mapProp:!0,set:O.mapSetter("zIndex"),get:O.mapGetter("zIndex")}},mapPolyOverlays:{editable:{name:"editable",type:"boolean",important:!0,description:"True if this overlay can be edited by the user.",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:O.mapSetter("editable",E)},stroke_color:{name:"stroke_color",type:"string",important:!0,description:"The color to draw the overlay outline.",mapProp:!0,set:O.mapSetter("strokeColor")},stroke_opacity:{name:"stroke_opacity",type:"number",important:!0,description:"The opacity of the overlay outline.",mapProp:!0,set:O.mapSetter("strokeOpacity")},stroke_weight:{name:"stroke_weight",type:"number",important:!0,description:"The weight of the overlay outline",mapProp:!0,set:O.mapSetter("strokeWeight")}},mapAreaOverlays:{stroke_position:{name:"stroke_position",pyType:"anvil.GoogleMap.StrokePosition",important:!0,description:"The stroke position. Defaults to CENTER.",mapProp:!0,set:O.mapSetter("strokePosition")},fill_color:{name:"fill_color",type:"string",important:!0,description:"The color to draw the overlay outline.",mapProp:!0,set:O.mapSetter("fillColor")},fill_opacity:{name:"fill_opacity",type:"number",important:!0,description:"The opacity of the overlay outline.",mapProp:!0,set:O.mapSetter("fillOpacity")}}},N={universal:[{name:"show",description:"When the {{component}} is shown on the screen",parameters:[]},{name:"hide",description:"When the {{component}} is removed from the screen",parameters:[]}],focus:[{name:"focus",description:"When the {{component}} gets focus",parameters:[]},{name:"lost_focus",description:"When the {{component}} loses focus",parameters:[]}],mouse:[{name:"mouse_enter",description:"When the mouse cursor enters this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer, within this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer, within this component",important:!0}]},{name:"mouse_leave",description:"When the mouse cursor leaves this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer relative to this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer relative to this component",important:!0}]},{name:"mouse_move",description:"When the mouse cursor moves over this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer within this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer within this component",important:!0}],important:!0},{name:"mouse_down",description:"When a mouse button is pressed on this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer within this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer within this component",important:!0},{name:"button",description:"The button that was pressed (1 = left, 2 = middle, 3 = right)",important:!0},{name:"keys",description:"A dictionary of keys including 'shift', 'alt', 'ctrl', 'meta'. Each key's value is a boolean indicating if it was pressed during the click event. The meta key on a mac is the Command key"}],important:!0},{name:"mouse_up",description:"When a mouse button is released on this component",parameters:[{name:"x",description:"The x coordinate of the mouse pointer within this component",important:!0},{name:"y",description:"The y coordinate of the mouse pointer within this component",important:!0},{name:"button",description:"The button that was released (1 = left, 2 = middle, 3 = right)",important:!0},{name:"keys",description:"A dictionary of keys including 'shift', 'alt', 'ctrl', 'meta'. Each key's value is a boolean indicating if it was pressed during the click event. The meta key on a mac is the Command key",important:!1}],important:!0}],mapOverlays:[{name:"click",description:"when an overlay is clicked.",parameters:[{name:"lat_lng",description:"The position that was clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"dblclick",description:"when an overlay is double clicked.",parameters:[{name:"lat_lng",description:"The position that was double-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"drag",description:"while the user drags an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"dragend",description:"when the user stops dragging an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"dragstart",description:"when the user starts dragging an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"mousedown",description:"for a mousedown on an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"mouseout",description:"when the mouse leaves the area of an overlay icon.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"mouseover",description:"when the mouse enters the area of an overlay icon.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"mouseup",description:"for a mouseup on an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},{name:"rightclick",description:"for a right-click on an overlay.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0}]},L=/\{\{component\}\}/g;
/*!eventGroups()!1*/O.assembleGroups=function(e,t,n,r){r=r||{};var o=[],i={};return n.forEach((n=>{var l=e[n];for(var s in l){var c=l[s];c.group=n;var p=r[c.name]||{};(c=a(a({},c),p)).description&&(c.description=c.description.replace(L,t)),p.omit||o.push(c),i[c.name]=!0}})),Object.keys(r).forEach((e=>{i[e]||(r[e].name=e,o.push(r[e]))})),o},O.assembleGroupEvents=function(e,t,n){return O.assembleGroups(N,e,t,n)},O.assembleGroupProperties=function(e,t){return O.assembleGroups(M,"component",e,t)},O.setupDefaultMouseEvents=function(e){e._anvil.element.on("mouseenter",(t=>{var n=e._anvil.element.offset();O.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top},e,"mouse_enter")})),e._anvil.element.on("mouseleave",(t=>{var n=e._anvil.element.offset();O.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top},e,"mouse_leave")})),e._anvil.element.on("mousemove",(t=>{var n=e._anvil.element.offset();O.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top,button:-1},e,"mouse_move")})),e._anvil.element.on("touchmove",(t=>{var n=e._anvil.element.offset();if(void 0!==e._anvil.eventHandlers.mouse_move){var r=t.originalEvent.changedTouches[0].pageX-n.left,o=t.originalEvent.changedTouches[0].pageY-n.top;O.raiseEventAsync({x:r,y:o,button:-1},e,"mouse_move"),t.stopPropagation(),t.preventDefault()}})),e._anvil.element.on("touchend",(t=>{var n=e._anvil.element.offset();if(void 0!==e._anvil.eventHandlers.mouse_up){var r=t.originalEvent.changedTouches[0].pageX-n.left,o=t.originalEvent.changedTouches[0].pageY-n.top;O.raiseEventAsync({x:r,y:o,button:t.which,keys:{meta:!1,shift:!1,ctrl:!1,alt:!1}},e,"mouse_up"),t.stopPropagation(),t.preventDefault()}})),e._anvil.element.on("mouseup",(t=>{var n=e._anvil.element.offset();O.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top,button:t.which,keys:{meta:t.metaKey,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey}},e,"mouse_up")})),e._anvil.element.on("touchstart",(t=>{var n=e._anvil.element.offset();if(void 0!==e._anvil.eventHandlers.mouse_down){var r=t.originalEvent.changedTouches[0].pageX-n.left,o=t.originalEvent.changedTouches[0].pageY-n.top;O.raiseEventAsync({x:r,y:o,button:t.which,keys:{meta:!1,shift:!1,ctrl:!1,alt:!1}},e,"mouse_down"),t.stopPropagation(),t.preventDefault()}})),e._anvil.element.on("mousedown",(t=>{var n=e._anvil.element.offset();O.raiseEventAsync({x:t.pageX-n.left,y:t.pageY-n.top,button:t.which,keys:{meta:t.metaKey,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey}},e,"mouse_down")}))},O.calculateHeight=function(){var e=$(".anvil-measure-content").children();0==e.length&&(e=$("#components,#appGoesHere,.modal-dialog,.anvil-measure-this"));var t=0;return e.each((function(e,n){var r=(n=$(n)).hasClass("modal-dialog")?30:0;t=Math.max(t,n.offset().top+n.outerHeight()+r)})),t},O.addHeightHandle=function(e){};var I=!1;document.addEventListener("click",(()=>{I=!0,setTimeout((()=>{I=!1}))}),!0),document.addEventListener("click",(()=>{I=!1})),O.isPopupOK=()=>I,O.getUrlForMedia=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e=>{var t=null;return{getUrl:()=>(null===t&&(t=window.URL.createObjectURL(e)),t),release(){null!==t&&(window.URL.revokeObjectURL(t),t=null)},blob:e}};if(!e||e===Sk.builtin.none.none$)return{getUrl:()=>"",release:()=>{}};if(e._data instanceof Blob)return n(e._data);var r=Sk.abstr.gattr(e,new Sk.builtin.str("get_url"));return Sk.misceval.chain(Sk.misceval.callsimOrSuspendArray(r,[],t),(t=>{return t instanceof Sk.builtin.str?{getUrl:()=>t.toString(),release(){}}:Sk.misceval.chain(Sk.abstr.gattr(e,new Sk.builtin.str("content_type"),!0),(t=>(r=t,Sk.misceval.callsimOrSuspend(Sk.abstr.gattr(e,new Sk.builtin.str("get_bytes"))))),(e=>{var t=O.getUint8ArrayFromPyBytes(e),o=new Blob([t],{type:r.toString()});return n(o)}));var r}))},O.getUint8ArrayFromPyBytes=function(e){if(Sk.__future__.python3)return new Uint8Array(e.v);for(var t=new Uint8Array(e.v.length),n=0;n<e.v.length;n++)t[n]=e.v.charCodeAt(n);return t},O.logPagination=!1,O.repaginateChildren=(e,t,n,r)=>{O.logPagination&&console.log("Repaginate children starting from",n,"with quota",r);var o=null,i=null,a=!1;n&&([o,i,a]=n);var l=null==n,s=[...e._anvil.components];return e._anvil.lastChildPagination=e._anvil.lastChildPagination||new Array(s.length),Sk.misceval.chain(void 0,(()=>Sk.misceval.iterArray(s,((t,n)=>{var o,{component:i,layoutProperties:a}=t;return a.pinned&&(null===(o=i._anvil)||void 0===o?void 0:o.paginate)?(i._anvil.pagination={startAfter:null,rowQuota:r},Sk.misceval.chain(i._anvil.paginate(),(t=>{var[o,,]=t;e._anvil.lastChildPagination[n]=void 0,r-=o}),(()=>n+1))):n+1}),0)),(()=>Sk.misceval.iterArray(s,((i,s)=>{var c,{component:p,layoutProperties:u}=i;if(!u.pinned&&(null===(c=p._anvil)||void 0===c?void 0:c.paginate)){var d=n&&s==o;if(s<t)return s+1;if(l||d&&!a){var f=n&&n[0]==s;return p._anvil.pagination={startAfter:f?n[1]:null,rowQuota:r},Sk.misceval.chain(p._anvil.paginate(),(t=>{var[n,o,i]=t;e._anvil.lastChildPagination[s]=[n,o,i],n>0&&(r-=n),l=!0}),(()=>s+1))}return p._anvil.pagination={startAfter:null,rowQuota:0},Sk.misceval.chain(p._anvil.paginate(),(()=>{e._anvil.lastChildPagination[s]=void 0,l=l||d}),(()=>s+1))}return s+1}),0)),(()=>{var t=e._anvil.lastChildPagination.reduce(((e,t)=>e+(t?t[0]:0)),0),n=e._anvil.lastChildPagination.reduce(((e,t,n)=>t&&t[0]?[n,t[1],t[2]]:e),null),r=!0;for(var o of e._anvil.lastChildPagination)if(o&&!1===o[2])r=!1;else if(o&&"INVALID"===o[2]){r="INVALID";break}return O.logPagination&&console.log("Children displayed",t,"rows.",r?"Done":"Interrupted","at",n),[t,n,r]}))},O.remapToJsOrWrap=Sk.ffi.remapToJsOrWrap,O.unwrapOrRemapToPy=Sk.ffi.toPy,O.callJs=function(e,t){var n,r,o=Sk.ffi.toJs(t);try{r=Function("return (".concat(o,")"))()}catch(t){if(!(t instanceof ReferenceError&&t.message.includes(o)))throw t;var i="Could not find global JS function '".concat(o,"'.");throw(null==e?void 0:e._anvil)&&!e._anvil.onPage&&(i+=" This form is not currently visible - to call functions defined in its HTML on load, use call_js in the form 'show' event handler."),new Sk.builtin.NameError(i)}if("function"!=typeof r)throw new s("".concat(o," is not callable, got ").concat(typeof r));for(var a=null==e||null===(n=e.anvil$hooks)||void 0===n?void 0:n.domElement,l=a&&$(a),c=arguments.length,p=new Array(c>2?c-2:0),u=2;u<c;u++)p[u-2]=arguments[u];var d=r.apply(l,p.map(O.remapToJsOrWrap));return d=d instanceof Promise?O.suspensionFromPromise(d.then(Sk.ffi.toPy)):Sk.ffi.toPy(d)},O.withDelayPrint=e=>{if(!window.outstandingPrintDelayPromises)return e;var t=Math.random().toString(36).substring(6),n=C();return window.outstandingPrintDelayPromises[t]=n,e.then(n.resolve)},O.delayPrint=e=>{window.outstandingPrintDelayPromises&&(window.outstandingPrintDelayPromises[e]=C())},O.resumePrint=e=>{window.outstandingPrintDelayPromises&&window.outstandingPrintDelayPromises[e]&&window.outstandingPrintDelayPromises[e].resolve()},O.pyTryFinally=w,e.exports=O;var D=function(e){$.fn[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.on(e,...n)}};for(var V of["click","mouseover","mouseout"])D(V);$.ajaxTransport("+binary",(function(e,t,n){if(window.FormData&&(e.dataType&&"binary"==e.dataType||e.data&&(window.ArrayBuffer&&e.data instanceof ArrayBuffer||window.Blob&&e.data instanceof Blob)))return{send:function(t,n){var r=new XMLHttpRequest,o=e.url,i=e.type,a=e.async||!0,l=e.responseType||"blob",s=e.data||null,c=e.username||null,p=e.password||null;for(var u in r.addEventListener("load",(function(){var t={};t[e.dataType]=r.response,n(r.status,r.statusText,t,r.getAllResponseHeaders())})),r.open(i,o,a,c,p),t)r.setRequestHeader(u,t[u]);r.responseType=l,r.send(s)},abort:function(){n.abort()}}}))},function(e,t,n){var r=n(4),o=n(205),i=n(0),a=n(22),l=n(5),s=l("iterator"),c=l("toStringTag"),p=i.values;for(var u in o){var d=r[u],f=d&&d.prototype;if(f){if(f[s]!==p)try{a(f,s,p)}catch(e){f[s]=p}if(f[c]||a(f,c,u),o[u])for(var v in i)if(f[v]!==i[v])try{a(f,v,i[v])}catch(e){f[v]=i[v]}}}},function(e,t,n){"use strict";var r=n(23),o=n(11),i=n(7),a=n(103),l="toString",s=RegExp.prototype,c=s[l],p=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=l;(p||u)&&r(RegExp.prototype,l,(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)}),{unsafe:!0})},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(131))},function(e,t,n){var r=n(4),o=n(113),i=n(14),a=n(93),l=n(116),s=n(194),c=o("wks"),p=r.Symbol,u=s?p:p&&p.withoutSetter||a;e.exports=function(e){return i(c,e)||(l&&i(p,e)?c[e]=p[e]:c[e]=u("Symbol."+e)),c[e]}},function(e,t,n){"use strict";n(16),Object.defineProperty(t,"__esModule",{value:!0}),t.checkOneArg=t.checkNoKwargs=t.checkNoArgs=t.checkArgsLen=t.copyKeywordsToNamedArgs=t.buildNativeClass=t.promiseToSuspension=t.suspensionToPromise=t.arrayFromIterable=t.pyCallOrSuspend=t.pyCall=t.richCompareBool=t.iterArray=t.iterForOrSuspend=t.buildPyClass=t.objectRepr=t.retryOptionalSuspensionOrThrow=t.tryCatchOrSuspend=t.chainOrSuspend=t.Break=t.Suspension=t.isTrue=t.pyHasAttr=t.pyIsInstance=t.pyIsSubclass=t.pyCheckType=t.checkNone=t.checkIterable=t.checkCallable=t.checkBytes=t.checkAnySet=t.checkInt=t.checkBool=t.checkString=t.pyExternalError=t.pyUnicodeEncodeError=t.pyUnicodeDecodeError=t.pyUnicodeError=t.pyValueError=t.pyTypeError=t.pySystemError=t.pyTabError=t.pyIndentationError=t.pySyntaxError=t.pyRecursionError=t.pyNotImplementedError=t.pyRuntimeError=t.pyReferenceError=t.pyTimeoutError=t.pyFileNotFoundError=t.pyOSError=t.pyUnboundLocalError=t.pyNameError=t.pyMemoryError=t.pyKeyError=t.pyIndexError=t.pyLookupError=t.pyModuleNotFoundError=t.pyImportError=t.pyEOFError=t.pyBufferError=t.pyAttributeError=t.pyAssertionError=t.pyZeroDivisionError=t.pyOverflowError=t.pyFloatingPointError=t.pyArithmeticError=t.pyStopAsyncIteration=t.pyStopIteration=t.pyException=t.pyGeneratorExit=t.pyKeyboardInterrupt=t.pySystemExit=t.pyBaseException=t.pyProperty=t.pyStaticMethod=t.pyClassMethod=t.pyWrapperDescriptor=t.pyGetSetDescriptor=t.pySuper=t.pyType=t.pyTuple=t.pyStr=t.pyBuiltinFunctionOrMethod=t.pySlice=t.pySet=t.pyObject=t.pyModule=t.pyMappingProxy=t.pyNoneType=t.pyList=t.pyLong=t.pyInt=t.pyFunc=t.pyFrozenSet=t.pyFloat=t.pyDict=t.pyBytes=t.pyBool=t.importModule=void 0,t.pyNotImplemented=t.pyNone=t.pyFalse=t.pyTrue=t.remapToJsOrWrap=t.proxy=t.toJs=t.toPy=t.pyObjectHash=t.setUpModuleMethods=t.typeName=t.typeLookup=t.lookupSpecial=t.pyIter=t.keywordArrayToPyDict=t.keywordArrayFromPyDict=void 0;var{builtin:{bool:{true$:r,false$:o},none:{none$:i},NotImplemented:{NotImplemented$:a},bool:l,bytes:s,dict:c,float_:p,frozenset:u,func:d,int_:f,lng:v,list:m,none:h,mappingproxy:g,module:_,object:y,set:b,slice:k,sk_method:S,str:w,tuple:C,type:O,super_:P,getset_descriptor:x,wrapper_descriptor:T,classmethod:E,staticmethod:j,property:$,BaseException:A,SystemExit:M,KeyboardInterrupt:N,GeneratorExit:L,Exception:I,StopIteration:D,StopAsyncIteration:V,ArithmeticError:F,FloatingPointError:R,OverflowError:G,ZeroDivisionError:B,AssertionError:H,AttributeError:U,BufferError:z,EOFError:J,ImportError:W,ModuleNotFoundError:q,LookupError:K,IndexError:Y,KeyError:Z,MemoryError:X,NameError:Q,UnboundLocalError:ee,OSError:te,FileNotFoundError:ne,TimeoutError:re,ReferenceError:oe,RuntimeError:ie,NotImplementedError:ae,RecursionError:le,SyntaxError:se,IndentationError:ce,TabError:pe,SystemError:ue,TypeError:de,ValueError:fe,UnicodeError:ve,UnicodeDecodeError:me,UnicodeEncodeError:he,ExternalError:ge,checkString:_e,checkBool:ye,checkInt:be,checkAnySet:ke,checkBytes:Se,checkCallable:we,checkIterable:Ce,checkNone:Oe,pyCheckType:Pe,issubclass:xe,isinstance:Te,hasattr:Ee},misceval:{isTrue:je,Suspension:$e,Break:Ae,chain:Me,tryCatch:Ne,retryOptionalSuspensionOrThrow:Le,objectRepr:Ie,buildClass:De,iterFor:Ve,iterArray:Fe,richCompareBool:Re,callsimArray:Ge,callsimOrSuspendArray:Be,arrayFromIterable:He,asyncToPromise:Ue,promiseToSuspension:ze},abstr:{buildNativeClass:Je,copyKeywordsToNamedArgs:We,checkArgsLen:qe,checkNoArgs:Ke,checkNoKwargs:Ye,checkOneArg:Ze,keywordArrayFromPyDict:Xe,keywordArrayToPyDict:Qe,iter:et,lookupSpecial:tt,typeLookup:nt,typeName:rt,setUpModuleMethods:ot,objectHash:it},ffi:{toPy:at,toJs:lt,proxy:st,remapToJsOrWrap:ct},importModule:pt}=Sk;t.pyNotImplemented=a,t.pyNone=i,t.pyFalse=o,t.pyTrue=r,t.remapToJsOrWrap=ct,t.proxy=st,t.toJs=lt,t.toPy=at,t.pyObjectHash=it,t.setUpModuleMethods=ot,t.typeName=rt,t.typeLookup=nt,t.lookupSpecial=tt,t.pyIter=et,t.keywordArrayToPyDict=Qe,t.keywordArrayFromPyDict=Xe,t.checkOneArg=Ze,t.checkNoKwargs=Ye,t.checkNoArgs=Ke,t.checkArgsLen=qe,t.copyKeywordsToNamedArgs=We,t.buildNativeClass=Je,t.promiseToSuspension=ze,t.suspensionToPromise=Ue,t.arrayFromIterable=He,t.pyCallOrSuspend=Be,t.pyCall=Ge,t.richCompareBool=Re,t.iterArray=Fe,t.iterForOrSuspend=Ve,t.buildPyClass=De,t.objectRepr=Ie,t.retryOptionalSuspensionOrThrow=Le,t.tryCatchOrSuspend=Ne,t.chainOrSuspend=Me,t.Break=Ae,t.Suspension=$e,t.isTrue=je,t.pyHasAttr=Ee,t.pyIsInstance=Te,t.pyIsSubclass=xe,t.pyCheckType=Pe,t.checkNone=Oe,t.checkIterable=Ce,t.checkCallable=we,t.checkBytes=Se,t.checkAnySet=ke,t.checkInt=be,t.checkBool=ye,t.checkString=_e,t.pyExternalError=ge,t.pyUnicodeEncodeError=he,t.pyUnicodeDecodeError=me,t.pyUnicodeError=ve,t.pyValueError=fe,t.pyTypeError=de,t.pySystemError=ue,t.pyTabError=pe,t.pyIndentationError=ce,t.pySyntaxError=se,t.pyRecursionError=le,t.pyNotImplementedError=ae,t.pyRuntimeError=ie,t.pyReferenceError=oe,t.pyTimeoutError=re,t.pyFileNotFoundError=ne,t.pyOSError=te,t.pyUnboundLocalError=ee,t.pyNameError=Q,t.pyMemoryError=X,t.pyKeyError=Z,t.pyIndexError=Y,t.pyLookupError=K,t.pyModuleNotFoundError=q,t.pyImportError=W,t.pyEOFError=J,t.pyBufferError=z,t.pyAttributeError=U,t.pyAssertionError=H,t.pyZeroDivisionError=B,t.pyOverflowError=G,t.pyFloatingPointError=R,t.pyArithmeticError=F,t.pyStopAsyncIteration=V,t.pyStopIteration=D,t.pyException=I,t.pyGeneratorExit=L,t.pyKeyboardInterrupt=N,t.pySystemExit=M,t.pyBaseException=A,t.pyProperty=$,t.pyStaticMethod=j,t.pyClassMethod=E,t.pyWrapperDescriptor=T,t.pyGetSetDescriptor=x,t.pySuper=P,t.pyType=O,t.pyTuple=C,t.pyStr=w,t.pyBuiltinFunctionOrMethod=S,t.pySlice=k,t.pySet=b,t.pyObject=y,t.pyModule=_,t.pyMappingProxy=g,t.pyNoneType=h,t.pyList=m,t.pyLong=v,t.pyInt=f,t.pyFunc=d,t.pyFrozenSet=u,t.pyFloat=p,t.pyDict=c,t.pyBytes=s,t.pyBool=l,t.importModule=pt},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n(0),n(56),n(3),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getModule=oe,t.importFrom=function(e,t){var n=oe(e);return Sk.abstr.gattr(n,new r.pyStr(t))},t.pyLazyMod=ie,t.reportError=function(e){window.onerror(null,null,null,null,e)},t.pyTryFinally=ue,t.funcFastCall=function(e){return e.co_fastcall=1,new r.pyFunc(e)},t.initNativeSubclass=function(e){var t=new r.pySuper(e,e).tp$getattr(b);return(0,r.pyCall)(t)},t.Mutex=t.pyMapToKwargs=t.kwargsToJsObject=t.kwargsToPyMap=t.objectToPyMap=t.objectToKwargs=t.strError=t.objToKw=t.kwToObj=t.tzMod=t.datetimeMod=t.anvilJsMod=t.anvilServerMod=t.anvilMod=t.s_hide=t.s_show=t.s_x_anvil_classic_hide=t.s_x_anvil_classic_show=t.s_x_anvil_page_hidden=t.s_x_anvil_page_shown=t.s_x_anvil_page_removed=t.s_x_anvil_page_added=t.s_notify_visibility_change=t.s_notify_mounted_by_parent=t.s_clear=t.s_properties=t.s_builtin=t.s_form=t.s_name=t.s_anvil_get_interactions=t.s_anvil_properties=t.s_anvil_events=t.s_get_components=t.s_set_data_binding_listener=t.s_page_shown=t.s_page_removed=t.s_page_added=t.s_set_parent=t.s_anvil_disable_drop_mode=t.s_anvil_enable_drop_mode=t.s_anvil_set_section_property_values=t.s_anvil_get_section_dom_element=t.s_anvil_get_sections=t.s_anvil_update_layout_properties=t.s_anvil_get_container_design_info=t.s_anvil_update_design_name=t.s_anvil_set_property_values=t.s_anvil_setup_dom=t.s_anvil_dom_element=t.s_get_attribute=t.s_setattr=t.s_init_subclass=t.s_new=t.s_init=t.s_refreshing_data_bindings=t.s_refresh_data_bindings=t.s_item=t.s_layout=t.s_slot=t.s_slots=t.s_parent=t.s_raise_event=t.s_remove_from_parent=t.s_add_component=t.s_remove_event_handler=t.s_add_event_handler=void 0;var r=n(6),o=n(25);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=new r.pyStr("add_event_handler"),l=new r.pyStr("remove_event_handler"),s=new r.pyStr("add_component"),c=new r.pyStr("remove_from_parent"),p=new r.pyStr("raise_event"),u=new r.pyStr("parent"),d=new r.pyStr("slots"),f=new r.pyStr("slot"),v=new r.pyStr("layout"),m=new r.pyStr("item"),h=new r.pyStr("refresh_data_bindings"),g=new r.pyStr("refreshing_data_bindings"),_=new r.pyStr("__init__"),y=new r.pyStr("__new__"),b=new r.pyStr("__init_subclass__"),k=new r.pyStr("__setattr__"),S=new r.pyStr("__getattribute__"),w=new r.pyStr("_anvil_dom_element_"),C=new r.pyStr("_anvil_setup_dom_"),O=new r.pyStr("_anvil_set_property_values_"),P=new r.pyStr("_anvil_update_design_name_"),x=new r.pyStr("_anvil_get_container_design_info_"),T=new r.pyStr("_anvil_update_layout_properties_"),E=new r.pyStr("_anvil_get_sections_"),j=new r.pyStr("_anvil_get_section_dom_element_"),$=new r.pyStr("_anvil_set_section_property_values_"),A=new r.pyStr("_anvil_enable_drop_mode_"),M=new r.pyStr("_anvil_disable_drop_mode_"),N=new r.pyStr("set_parent"),L=new r.pyStr("page_added"),I=new r.pyStr("page_removed"),D=new r.pyStr("page_shown"),V=new r.pyStr("set_data_binding_listener"),F=new r.pyStr("get_components"),R=new r.pyStr("_anvil_events_"),G=new r.pyStr("_anvil_properties_"),B=new r.pyStr("_anvil_get_interactions_"),H=new r.pyStr("name"),U=new r.pyStr("form"),z=new r.pyStr("builtin"),J=new r.pyStr("properties"),W=new r.pyStr("clear"),q=new r.pyStr("_notify_mounted_by_parent"),K=new r.pyStr("_notify_visibility_change"),Y=new r.pyStr("x-anvil-page-added"),Z=new r.pyStr("x-anvil-page-removed"),X=new r.pyStr("x-anvil-page-shown"),Q=new r.pyStr("x-anvil-page-hidden"),ee=new r.pyStr("x-anvil-classic-show"),te=new r.pyStr("x-anvil-classic-hide"),ne=new r.pyStr("show"),re=new r.pyStr("hide");function oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new r.pyStr(e),o=()=>Sk.sysmodules.quick$lookup(n),i=o();if(void 0!==i)return i;var a=Sk.importModule(e,!1,!0);return t?(0,r.chainOrSuspend)(a,o):((0,r.retryOptionalSuspensionOrThrow)(a),o())}function ie(e){var t;return new Proxy({},{get(n,o){var i,a;return null!==(i=t)&&void 0!==i||(t=oe(e)),null!==(a=n[o])&&void 0!==a?a:n[o]=Sk.abstr.gattr(t,new r.pyStr(o))},set(n,o,i){var a;return null!==(a=t)&&void 0!==a||(t=oe(e)),n[o]=i,t.tp$setattr(new r.pyStr(o),i),!0},has(n,r){var o;return null!==(o=t)&&void 0!==o||(t=oe(e)),r in t.$d}})}t.s_hide=re,t.s_show=ne,t.s_x_anvil_classic_hide=te,t.s_x_anvil_classic_show=ee,t.s_x_anvil_page_hidden=Q,t.s_x_anvil_page_shown=X,t.s_x_anvil_page_removed=Z,t.s_x_anvil_page_added=Y,t.s_notify_visibility_change=K,t.s_notify_mounted_by_parent=q,t.s_clear=W,t.s_properties=J,t.s_builtin=z,t.s_form=U,t.s_name=H,t.s_anvil_get_interactions=B,t.s_anvil_properties=G,t.s_anvil_events=R,t.s_get_components=F,t.s_set_data_binding_listener=V,t.s_page_shown=D,t.s_page_removed=I,t.s_page_added=L,t.s_set_parent=N,t.s_anvil_disable_drop_mode=M,t.s_anvil_enable_drop_mode=A,t.s_anvil_set_section_property_values=$,t.s_anvil_get_section_dom_element=j,t.s_anvil_get_sections=E,t.s_anvil_update_layout_properties=T,t.s_anvil_get_container_design_info=x,t.s_anvil_update_design_name=P,t.s_anvil_set_property_values=O,t.s_anvil_setup_dom=C,t.s_anvil_dom_element=w,t.s_get_attribute=S,t.s_setattr=k,t.s_init_subclass=b,t.s_new=y,t.s_init=_,t.s_refreshing_data_bindings=g,t.s_refresh_data_bindings=h,t.s_item=m,t.s_layout=v,t.s_slot=f,t.s_slots=d,t.s_parent=u,t.s_raise_event=p,t.s_remove_from_parent=c,t.s_add_component=s,t.s_remove_event_handler=l,t.s_add_event_handler=a;var ae=ie("anvil");t.anvilMod=ae;var le=ie("anvil.server");t.anvilServerMod=le;var se=ie("anvil.js");t.anvilJsMod=se;var ce=ie("datetime");t.datetimeMod=ce;var pe=ie("anvil.tz");t.tzMod=pe;t.kwToObj=e=>{var t={};if(!e)return t;for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t};t.objToKw=e=>{var t=[];for(var[n,r]of Object.entries(e))t.push(n,r);return t};t.strError=e=>"string"==typeof e?e:e instanceof Sk.builtin.BaseException?e.toString():"<Internal error>";t.objectToKwargs=e=>{var t=[];for(var[n,o]of Object.entries(e||{}))t.push(n,(0,r.toPy)(o));return t};t.objectToPyMap=e=>Object.fromEntries(Object.entries(e||{}).map((e=>{var[t,n]=e;return[t,(0,r.toPy)(n)]})));t.kwargsToPyMap=e=>{var t={};if(void 0===e)return t;for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t};t.kwargsToJsObject=e=>{var t={};if(void 0===e)return t;for(var n=0;n<e.length;n+=2)t[e[n]]=(0,r.toJs)(e[n+1]);return t};function ue(e,t){var n,o=!1;return(0,r.tryCatchOrSuspend)((()=>(0,r.chainOrSuspend)(e(),(e=>(o=!0,n=e,t())),(()=>n))),(e=>(0,r.chainOrSuspend)(!o&&t(),(()=>{throw e}))))}t.pyMapToKwargs=e=>{var t=[];for(var[n,r]of Object.entries(e))t.push(n,r);return t};class de{constructor(){i(this,"_complete",!1),i(this,"_deferred",null),i(this,"_suspension",null)}get suspension(){var e,t;return this._complete?null:(null!==(e=this._deferred)&&void 0!==e||(this._deferred=(0,o.defer)()),null!==(t=this._suspension)&&void 0!==t||(this._suspension=(0,r.promiseToSuspension)(this._deferred.promise)),this._suspension)}done(){var e;this._complete=!0,null===(e=this._deferred)||void 0===e||e.resolve(null)}}t.Mutex=class{constructor(){i(this,"_prev",null)}withLock(e){var t=this._prev,n=new de;return this._prev=n,()=>ue((()=>(0,r.chainOrSuspend)(null==t?void 0:t.suspension,e)),(()=>n.done()))}runWithLock(e){return this.withLock(e)()}}},function(e,t,n){"use strict";n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setLegacyOptions=function(e){var t;if(l)return;if(l=!0,Number(null!==(t=e.version)&&void 0!==t?t:2)<3)for(var n in i)i[n]=!0;else{var r,s=null!==(r=e.legacy_features)&&void 0!==r?r:{};for(var c of Object.keys(s))a(c)&&(i[c]=!!s[c])}(function(){if(!i.__dict__)return;var e=Sk.sysmodules.quick$lookup(new o.pyStr("anvil"));if(!e)return;var t=e.$d.ClassicComponent;t.prototype.__dict__=new o.pyGetSetDescriptor(t,Sk.generic.getSetDict)})(),function(){if(!i.root_container)return;var e=document.getElementById("appGoesHere");if(!e)return;if(e.parentElement!==document.body)return;var t=document.createElement("div");t.className="anvil-root-container",e.replaceWith(t),t.append(e)}()},t.getCssPrefix=function(){return null!=r?r:r=window.anvilParams.runtimeVersion<3||i.class_names?"":"anvil-"},t.getInlineStyles=function(e){return window.anvilParams.runtimeVersion>=3?"":s[e]},t.hasLegacyDict=function(){return window.anvilParams.runtimeVersion<3||i.__dict__};var r,o=n(6),i={class_names:!1,bootstrap3:!1,__dict__:!1,root_container:!1},a=e=>e in i,l=!1;var s={checkbox:"padding: 7px 7px 7px 20px;",radio:"padding: 7px 7px 7px 20px;"}},function(e,t,n){"use strict";var r,o,i,a,l=n(12),s=n(38),c=n(4),p=n(35),u=n(148),d=n(23),f=n(95),v=n(44),m=n(86),h=n(15),g=n(54),_=n(59),y=n(78),b=n(149),k=n(150),S=n(87),w=n(125).set,C=n(199),O=n(151),P=n(201),x=n(127),T=n(202),E=n(29),j=n(94),$=n(5),A=n(88),M=n(146),N=$("species"),L="Promise",I=E.get,D=E.set,V=E.getterFor(L),F=u,R=c.TypeError,G=c.document,B=c.process,H=p("fetch"),U=x.f,z=U,J=!!(G&&G.createEvent&&c.dispatchEvent),W="function"==typeof PromiseRejectionEvent,q="unhandledrejection",K=j(L,(function(){if(!(y(F)!==String(F))){if(66===M)return!0;if(!A&&!W)return!0}if(s&&!F.prototype.finally)return!0;if(M>=51&&/native code/.test(F))return!1;var e=F.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[N]=t,!(e.then((function(){}))instanceof t)})),Y=K||!k((function(e){F.all(e).catch((function(){}))})),Z=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;C((function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,l,s,c=n[i++],p=o?c.ok:c.fail,u=c.resolve,d=c.reject,f=c.domain;try{p?(o||(2===e.rejection&&ne(e),e.rejection=1),!0===p?a=r:(f&&f.enter(),a=p(r),f&&(f.exit(),s=!0)),a===c.promise?d(R("Promise-chain cycle")):(l=Z(a))?l.call(a,u,d):u(a)):d(r)}catch(e){f&&!s&&f.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ee(e)}))}},Q=function(e,t,n){var r,o;J?((r=G.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!W&&(o=c["on"+e])?o(r):e===q&&P("Unhandled promise rejection",n)},ee=function(e){w.call(c,(function(){var t,n=e.facade,r=e.value;if(te(e)&&(t=T((function(){A?B.emit("unhandledRejection",r,n):Q(q,n,r)})),e.rejection=A||te(e)?2:1,t.error))throw t.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e){w.call(c,(function(){var t=e.facade;A?B.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},re=function(e,t,n){return function(r){e(t,r,n)}},oe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,X(e,!0))},ie=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw R("Promise can't be resolved itself");var r=Z(t);r?C((function(){var n={done:!1};try{r.call(t,re(ie,n,e),re(oe,n,e))}catch(t){oe(n,t,e)}})):(e.value=t,e.state=1,X(e,!1))}catch(t){oe({done:!1},t,e)}}};K&&(F=function(e){_(this,F,L),g(e),r.call(this);var t=I(this);try{e(re(ie,t),re(oe,t))}catch(e){oe(t,e)}},(r=function(e){D(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(F.prototype,{then:function(e,t){var n=V(this),r=U(S(this,F));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?B.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=I(e);this.promise=e,this.resolve=re(ie,t),this.reject=re(oe,t)},x.f=U=function(e){return e===F||e===i?new o(e):z(e)},s||"function"!=typeof u||(a=u.prototype.then,d(u.prototype,"then",(function(e,t){var n=this;return new F((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&l({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(F,H.apply(c,arguments))}}))),l({global:!0,wrap:!0,forced:K},{Promise:F}),v(F,L,!1,!0),m(L),i=p(L),l({target:L,stat:!0,forced:K},{reject:function(e){var t=U(this);return t.reject.call(void 0,e),t.promise}}),l({target:L,stat:!0,forced:s||K},{resolve:function(e){return O(s&&this===i?F:this,e)}}),l({target:L,stat:!0,forced:Y},{all:function(e){var t=this,n=U(t),r=n.resolve,o=n.reject,i=T((function(){var n=g(t.resolve),i=[],a=0,l=1;b(e,(function(e){var s=a++,c=!1;i.push(void 0),l++,n.call(t,e).then((function(e){c||(c=!0,i[s]=e,--l||r(i))}),o)})),--l||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=U(t),r=n.reject,o=T((function(){var o=g(t.resolve);b(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(4),o=n(58).f,i=n(22),a=n(23),l=n(77),s=n(143),c=n(94);e.exports=function(e,t){var n,p,u,d,f,v=e.target,m=e.global,h=e.stat;if(n=m?r:h?r[v]||l(v,{}):(r[v]||{}).prototype)for(p in t){if(d=t[p],u=e.noTargetGet?(f=o(n,p))&&f.value:n[p],!c(m?p:v+(h?".":"#")+p,e.forced)&&void 0!==u){if(typeof d==typeof u)continue;s(d,u)}(e.sham||u&&u.sham)&&i(d,"sham",!0),a(n,p,d,e)}}},function(e,t,n){"use strict";var r=n(12),o=n(144).indexOf,i=n(193),a=n(145),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),p=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!c||!p},{indexOf:function(e){return s?l.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(12),o=n(15),i=n(123),a=n(66),l=n(17),s=n(53),c=n(84),p=n(5),u=n(197),d=n(145),f=u("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),m=p("species"),h=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!f||!v},{slice:function(e,t){var n,r,p,u=s(this),d=l(u.length),f=a(e,d),v=a(void 0===t?d:t,d);if(i(u)&&("function"!=typeof(n=u.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return h.call(u,f,v);for(r=new(void 0===n?Array:n)(g(v-f,0)),p=0;f<v;f++,p++)f in u&&c(r,p,u[f]);return r.length=p,r}})},function(e,t,n){var r=n(36),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(7);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(12),o=n(147);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){"use strict";var r=n(89),o=n(11),i=n(17),a=n(36),l=n(27),s=n(104),c=n(269),p=n(91),u=Math.max,d=Math.min;r("replace",2,(function(e,t,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,m=f?"$":"$0";return[function(n,r){var o=l(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!f&&v||"string"==typeof r&&-1===r.indexOf(m)){var l=n(t,e,this,r);if(l.done)return l.value}var h=o(e),g=String(this),_="function"==typeof r;_||(r=String(r));var y=h.global;if(y){var b=h.unicode;h.lastIndex=0}for(var k=[];;){var S=p(h,g);if(null===S)break;if(k.push(S),!y)break;""===String(S[0])&&(h.lastIndex=s(g,i(h.lastIndex),b))}for(var w,C="",O=0,P=0;P<k.length;P++){S=k[P];for(var x=String(S[0]),T=u(d(a(S.index),g.length),0),E=[],j=1;j<S.length;j++)E.push(void 0===(w=S[j])?w:String(w));var $=S.groups;if(_){var A=[x].concat(E,T,g);void 0!==$&&A.push($);var M=String(r.apply(void 0,A))}else M=c(x,g,T,E,$,r);T>=O&&(C+=g.slice(O,T)+M,O=T+x.length)}return C+g.slice(O)}]}))},function(e,t,n){var r=n(18),o=n(112),i=n(11),a=n(65),l=Object.defineProperty;t.f=r?l:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(18),o=n(21),i=n(42);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(4),o=n(22),i=n(14),a=n(77),l=n(78),s=n(29),c=s.get,p=s.enforce,u=String(String).split("String");(e.exports=function(e,t,n,l){var s,c=!!l&&!!l.unsafe,d=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),(s=p(n)).source||(s.source=u.join("string"==typeof t?t:""))),e!==r?(c?!f&&e[t]&&(d=!0):delete e[t],d?e[t]=n:o(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(0),n(10),n(3),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.defer=function(){var e={resolve:()=>{},reject:()=>{}};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e},t.getRandomStr=function(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(65+Math.floor(26*Math.random()));return t},t.PostponedResizeObserver=t.ResizeObserverPolyfill=t.globalSuppressLoading=t.generateUUID=void 0;var i=window.crypto.randomUUID?()=>window.crypto.randomUUID():function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))};t.generateUUID=i;var a={value:0,inc(){this.value++},dec(){this.value--}};t.globalSuppressLoading=a;var l=null!==(r=window.ResizeObserver)&&void 0!==r?r:class{constructor(e){o(this,"target",null),o(this,"prev",null),o(this,"cb",void 0),o(this,"mo",void 0),this.cb=()=>{this._is_resized()&&e()},this.mo=new MutationObserver((t=>{for(var n of t)if("style"===n.attributeName&&this._is_resized())return e()}))}_is_resized(){var e=this.target;if(null===e)return this.prev=null,!1;var t="".concat(e.style.width,":").concat(e.style.height,":").concat(e.clientWidth,":").concat(e.clientHeight);return t!==this.prev&&(this.prev=t,!0)}observe(e){this.target=e,this.mo.observe(e,{attributes:!0,attributeFilter:["style"]}),$(window).on("resize",this.cb)}unobserve(){this.disconnect()}disconnect(){this.target=null,this.mo.disconnect(),$(window).off("resize",this.cb)}};t.ResizeObserverPolyfill=l;t.PostponedResizeObserver=class extends l{constructor(e){super((()=>{this._init?this._init=!1:(clearTimeout(this._t),this._t=setTimeout(e,50))})),o(this,"_init",!0),o(this,"_t",void 0)}observe(e){super.observe(e),setTimeout((()=>{this._init=!1}))}disconnect(){super.disconnect(),this._init=!0}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(131))},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){"use strict";n(0),n(270),n(3),n(39),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getPyParent=a,t.raiseWritebackEventOrSuspend=function(e,t,n){return(0,r.chainOrSuspend)(null!=n?n:Sk.abstr.gattr(e,t,!0),(n=>m(e,new r.pyStr("x-anvil-write-back-"+t),["property",t,"value",n])))},t.getListenerCallbacks=y,t.notifyComponentMounted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return O(e,!0,t)},t.notifyComponentUnmounted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return O(e,!1,t)},t.notifyVisibilityChange=P,t.addEventHandler=t.raiseEventOrSuspend=t.getComponentParent=t.Component=t.EMPTY_CONTAINER_DESIGN_INFO=t.EMPTY_DESIGN_INFO=t.runOnNextInstantiation=t.getDefaultDepIdForComponent=t.setDefaultDepIdForNextComponent=t.ComponentTag=t.isComponent=void 0;var r=n(6),o=n(8),i=n(271);function a(e){var t,n;return null==e||null===(t=e._Component)||void 0===t||null===(n=t.parent)||void 0===n?void 0:n.pyParent}t.isComponent=e=>!!(null==e?void 0:e.anvil$hooks);var l=(0,r.buildPyClass)({__name__:new r.pyStr("anvil")},((e,t)=>{t.__serialize__=new r.pyFunc((e=>e.$d)),t.__repr__=new r.pyFunc((e=>new r.pyStr("ComponentTag("+(0,r.objectRepr)(e.$d)+")")))}),"ComponentTag");function s(e){if((0,r.checkString)(e))return e.toString();if(e instanceof r.pyDict){var t=e.quick$lookup(o.s_name);if(void 0!==t&&(0,r.checkString)(t))return t.toString()}throw new r.pyTypeError("Invalid argument for ".concat((0,r.objectRepr)(o.s_anvil_events),", got ").concat((0,r.objectRepr)(e)))}t.ComponentTag=l;var c,p,u=new r.pyStr("__mro__"),d=Object.prototype.hasOwnProperty;function f(e){(0,i.setupClsHooks)(e);var t=e.tp$getattr(u),n=new Set;for(var a of(0,r.arrayFromIterable)(t)){if(a===v)break;if(d.call(a.prototype,o.s_anvil_events.toString())){var l=a.tp$getattr(o.s_anvil_events);if(l)for(var c of(0,r.arrayFromIterable)(l))n.add(s(c))}}return e._ComponentClass={allowedEvents:n,providesHooksInPython:{}},r.pyNone}t.setDefaultDepIdForNextComponent=e=>{c=e};t.getDefaultDepIdForComponent=e=>{var t;return null!==(t=null==e?void 0:e._Component.defaultDepId)&&void 0!==t?t:null};t.runOnNextInstantiation=e=>{p=e};t.EMPTY_DESIGN_INFO={propertyDescriptions:[],events:[],interactions:[]};t.EMPTY_CONTAINER_DESIGN_INFO={layoutPropertyDescriptions:[]};(0,r.buildNativeClass)("anvil.AnvilMagicDescriptor",{constructor:function(e){this.key=e},slots:{tp$descr_get(e,t){var n;if(null!=e?n=e[this.key]:null!=t&&(n=t.prototype[this.key]),n)return(0,r.toPy)(n)},tp$descr_set(e,t,n){throw new r.pyAttributeError("readonly")}}});var v=(0,r.buildNativeClass)("anvil.Component",{constructor:function(){},slots:{tp$new(e,t){var n=this.constructor,r=new n,{_ComponentClass:{allowedEvents:o,providesHooksInPython:a}}=n;return r._Component={allowedEvents:o,eventHandlers:{},tag:new l,defaultDepId:c,pageState:{ancestorsMounted:!1,ancestorsVisible:!1,currentlyMounted:!1,currentlyVisible:!0,addedFired:!1,shownFired:!1},fallbackDomElement:null},c=void 0,(0,i.setupInstanceHooks)(r,n),p&&(p(r),p=void 0),r}},classmethods:{__init_subclass__:{$meth(e,t){return f(this)},$flags:{FastCall:!0}}},proto:{anvil$hookSpec:{setupDom(){var e,t;return null!==(t=(e=this._Component).fallbackDomElement)&&void 0!==t?t:e.fallbackDomElement=document.createElement("div")},getDomElement(){var e,t;return null!==(t=(e=this._Component).fallbackDomElement)&&void 0!==t?t:e.fallbackDomElement=document.createElement("div")},getProperties:()=>[],getEvents:()=>[],getInteractions:()=>[]},$verifyEventName(e,t){var{allowedEvents:n}=this._Component;if(!Sk.builtin.checkString(e))throw new Sk.builtin.TypeError("expected the first argument to be a string");var r=e.toString();if(r.startsWith("x-")||n.has(r))return r;throw new Sk.builtin.ValueError("Cannot ".concat(t," for unknown event '").concat(r,"' on ").concat(this.tp$name," component. Custom event names must start with 'x-'."))},$verifyCallable(e,t){if(!Sk.builtin.checkCallable(t))throw new Sk.builtin.TypeError("The '".concat(e,"' event handler added to ").concat(this.tp$name," must be a callable, not type '").concat(Sk.abstr.typeName(t),"'"))},anvilComponent$setParent(e,t){var n,{onRemove:o,setVisibility:i,isMounted:a=!0}=t;this._Component.parent={pyParent:e,remove:[o],setVisibility:i};var l,s,c=this._Component.pageState;_(this)?n=null!==(l=null===(s=this._withLayout._pyLayout)||void 0===s?void 0:s._Component.pageState.currentlyVisible)&&void 0!==l?l:c.currentlyVisible:n=c.currentlyVisible;n||null==i||i(n);var p=e._Component.pageState;return c.ancestorsVisible=p.ancestorsVisible&&p.currentlyVisible,c.ancestorsMounted=p.ancestorsMounted&&p.currentlyMounted,a?(0,r.chainOrSuspend)(r.pyNone,...w(this,e)):r.pyNone},anvilComponent$onRemove(e){var t;null===(t=this._Component.parent)||void 0===t||t.remove.push(e)}},methods:{
/*!defBuiltinMethod(,event_name,handler_func:callable)!2*/
set_event_handler:{$meth:function(e,t){var n=this.$verifyEventName(e,"set event handler for");return Sk.builtin.checkNone(t)?delete this._Component.eventHandlers[n]:(this.$verifyCallable(n,t),this._Component.eventHandlers[n]=[t]),Sk.builtin.none.none$},$flags:{MinArgs:2,MaxArgs:2},$doc:"Set a function to call when the 'event_name' event happens on this component. Using set_event_handler removes all other handlers. Setting the handler function to None removes all handlers."},
/*!defBuiltinMethod(,event_name,handler_func:callable)!2*/
add_event_handler:{$meth:function(e,t){var n,r=this.$verifyEventName(e,"set event handler");return this.$verifyCallable(r,t),((n=this._Component.eventHandlers)[r]||(n[r]=[])).push(t),Sk.builtin.none.none$},$flags:{MinArgs:2,MaxArgs:2},$doc:"Add an event handler function to be called when the event happens on this component. Event handlers will be called in the order they are added. Adding the same event handler multiple times will mean it gets called multiple times."},
/*!defBuiltinMethod(,event_name,[handler_func:callable])!2*/
remove_event_handler:{$meth:function(e,t){var n=this.$verifyEventName(e,"remove event handler");if(void 0===t)return delete this._Component.eventHandlers[n],Sk.builtin.none.none$;this.$verifyCallable(n,t);var o=this._Component.eventHandlers[n];if(void 0===o)throw new Sk.builtin.LookupError("event handler '".concat(t,"' was not found in '").concat(n,"' event handlers for this component"));var i=o.filter((e=>e!==t&&Sk.misceval.richCompareBool(e,t,"NotEq")));if(i.length===o.length)throw new Sk.builtin.LookupError("event handler '".concat(t,"' was not found in '").concat(n,"' event handlers for this component"));return i.length?this._Component.eventHandlers[n]=i:delete this._Component.eventHandlers[n],r.pyNone},$flags:{MinArgs:1,MaxArgs:2},$doc:"Remove a specific event handler function for a given event. Calling remove_event_handler with just the event name will remove all the handlers for this event"},
/*!defBuiltinMethod(,event_name,**event_args)!2*/
raise_event:{$meth:function(e,t){(0,r.checkOneArg)("raise_event",e);var n=this.$verifyEventName(e[0],"raise event");return(0,r.chainOrSuspend)(r.pyNone,...y(this,n,t))},$flags:{FastCall:!0},$doc:"Trigger the event on this component. Any keyword arguments are passed to the handler function."},
/*!defBuiltinMethod(_)!2*/
remove_from_parent:{$meth:function(){var e=this._Component.parent,t=[];if(e){for(var n of(delete this._Component.parent,e.remove))t.push(n);var o=this._Component.pageState;o.currentlyMounted&&t.push(...C(this,e.pyParent)),o.ancestorsMounted=!1,o.ancestorsVisible=!1}return(0,r.chainOrSuspend)(null,...t,(()=>r.pyNone))},$flags:{NoArgs:!0},$doc:"Remove this component from its parent container."},_notify_mounted_by_parent:{$meth(e,t){return O(this,(0,r.isTrue)(e),(0,r.isTrue)(t))},$flags:{NamedArgs:[null,"root"],Defaults:[r.pyFalse]},$doc:"Notify this component, and all its children, that it has been mounted by its parent"},_notify_visibility_change:{$meth(e){return P(this,(0,r.isTrue)(e))},$flags:{OneArg:!0},$doc:"Notify the component's parent and children that its visible status has changed"},
/*!defBuiltinMethod(,smooth=False)!2*/
scroll_into_view:{$meth:function(e){var t={behavior:(0,r.isTrue)(e)?"smooth":"instant",block:"center",inline:"center"};return(0,r.chainOrSuspend)(this.anvil$hooks.setupDom(),(e=>(e.scrollIntoView(t),r.pyNone)))},$flags:{NamedArgs:["smooth"],Defaults:[Sk.builtin.bool.false$]},$doc:"Scroll the window to make sure this component is in view."},
/*!defBuiltinMethod(tuple_of_event_handlers, event_name)!2*/
get_event_handlers:{$meth:function(e){return e=this.$verifyEventName(e,"get event handlers"),new Sk.builtin.tuple(this._Component.eventHandlers[e]||[])},$flags:{OneArg:!0},$doc:"Get the current event_handlers for a given event_name"}},getsets:{parent:{$get(){return a(this)||Sk.builtin.none.none$},$set(){throw new Sk.builtin.AttributeError("Cannot set a '"+this.tp$name+"' component's parent this way - use 'add_component' on the container instead")}},__name__:{$get(){return Sk.abstr.lookupSpecial(this.ob$type,Sk.builtin.str.$name)}},tag:{$get(){return this._Component.tag},$set(e){this._Component.tag=null!=e?e:new l},$doc:"Use this property to store any extra information about this component"}},flags:{sk$klass:!0}});t.Component=v,f(v);t.getComponentParent=e=>v.prototype.parent.tp$descr_get(e,null);var m=(e,t,n)=>(0,r.pyCallOrSuspend)(e.tp$getattr(o.s_raise_event),[t],n);t.raiseEventOrSuspend=m;
/*!defClass(anvil,Component)!*/
t.addEventHandler=(e,t,n)=>(0,r.pyCallOrSuspend)(e.tp$getattr(o.s_add_event_handler),[t,(0,o.funcFastCall)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,r.chainOrSuspend)(n(t),(()=>r.pyNone))}))]);var h=e=>(0,r.pyCall)(e.tp$getattr(o.s_get_components),[]).valueOf(),g=e=>!!(0,r.lookupSpecial)(e,o.s_get_components),_=e=>!!e._withLayout;function y(e,t,n){var i,a=null!==(i=e._Component.eventHandlers[t])&&void 0!==i?i:[],l=(0,o.kwToObj)(n);return l.sender=e,l.event_name=new r.pyStr(t),a.map((e=>()=>(0,r.pyCallOrSuspend)(e,[],(0,o.objToKw)(l))))}function b(e){var t=e._Component.pageState;return!(!(t.currentlyMounted&&t.ancestorsMounted&&t.ancestorsVisible&&t.currentlyVisible)||t.shownFired)&&(t.shownFired=!0,!0)}function k(e){var t=e._Component.pageState;return!!t.shownFired&&(t.shownFired=!1,!0)}function S(e,t,n){var r,o,i;t(e,n)&&(g(e)?i=h(e):_(e)&&(i=e._withLayout.pyLayout?[e._withLayout.pyLayout]:null),null===(r=i)||void 0===r||null===(o=r.forEach)||void 0===o||o.call(r,(n=>S(n,t,e))))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e._Component.pageState;if(n.currentlyMounted=!0,t){if(!n.ancestorsMounted)return[]}else n.ancestorsMounted=!0,n.ancestorsVisible=!0;var r=[],o=[],i=[];return S(e,((e,t)=>{var n=e._Component.pageState;if(t){n.ancestorsMounted=!0;var a=t._Component.pageState;if(n.ancestorsVisible=a.ancestorsVisible&&a.currentlyVisible,!n.currentlyMounted)return!1}return function(e){var t=e._Component.pageState;return!(!t.currentlyMounted||!t.ancestorsMounted||t.addedFired||(t.addedFired=!0,0))}(e)&&(r.push(...y(e,"x-anvil-page-added")),i.push(...y(e,"x-anvil-classic-show"))),b(e)&&o.push(...y(e,"x-anvil-page-shown")),!0}),null),i.reverse(),[...r,...o,...i]}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e._Component.pageState;if(n.currentlyMounted=!1,t){if(!n.ancestorsMounted)return[]}else n.ancestorsMounted=!1,n.ancestorsVisible=!1;var r=[],o=[],i=[];return S(e,((e,t)=>{var n=e._Component.pageState;return!(t&&(n.ancestorsMounted=!1,n.ancestorsVisible=!1,!n.currentlyMounted))&&(k(e)&&o.push(...y(e,"x-anvil-page-hidden")),function(e){var t=e._Component.pageState;return!!t.addedFired&&(t.addedFired=!1,!0)}(e)&&(r.push(...y(e,"x-anvil-page-removed")),i.push(...y(e,"x-anvil-classic-hide"))),!0)}),null),[...o,...r,...i]}function O(e,t){var n,o,i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=null!==(n=null===(o=e._Component.parent)||void 0===o?void 0:o.pyParent)&&void 0!==n?n:null,s=(0,r.isTrue)(a);return l||s?t===e._Component.pageState.currentlyMounted?r.pyNone:(i=t?w(e,s?null:l):C(e,s?null:l),(0,r.chainOrSuspend)(r.pyNone,...i)):r.pyNone}function P(e,t){var n,o,i=e._Component.pageState;if(i.currentlyVisible===t)return r.pyNone;i.currentlyVisible=t;var a,l=null===(n=null!==(o=e._Component.portalParent)&&void 0!==o?o:e._Component.parent)||void 0===n?void 0:n.setVisibility;return null==l||l(t),a=t?function(e){var t=e._Component.pageState;if(t.currentlyVisible=!0,!t.ancestorsVisible)return[];var n=[],r=[];return S(e,((e,t)=>{var o=e._Component.pageState;return!(t&&(o.ancestorsVisible=!0,!o.currentlyVisible)||(b(e)&&(n.push(...y(e,"x-anvil-page-shown")),r.push(...y(e,"x-anvil-classic-show"))),0))}),null),[...n,...r]}(e):function(e){var t=e._Component.pageState;if(t.currentlyVisible=!1,!t.ancestorsVisible)return[];var n=[];return S(e,((e,t)=>{var r=e._Component.pageState;return!(t&&(r.ancestorsVisible=!1,!r.currentlyVisible)||(k(e)&&n.push(...y(e,"x-anvil-page-hidden")),0))}),null),n}(e),(0,r.chainOrSuspend)(r.pyNone,...a)}},function(e,t,n){var r,o,i,a=n(190),l=n(4),s=n(15),c=n(22),p=n(14),u=n(79),d=n(80),f=n(81),v=l.WeakMap;if(a){var m=u.state||(u.state=new v),h=m.get,g=m.has,_=m.set;r=function(e,t){return t.facade=e,_.call(m,e,t),t},o=function(e){return h.call(m,e)||{}},i=function(e){return g.call(m,e)}}else{var y=d("state");f[y]=!0,r=function(e,t){return t.facade=e,c(e,y,t),t},o=function(e){return p(e,y)?e[y]:{}},i=function(e){return p(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";n(13),n(0),n(62),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.Container=t.validateChild=void 0;var r=n(74),o=n(6),i=n(8),a=n(28),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add_component";if(!(0,a.isComponent)(e))throw new o.pyTypeError("Argument to ".concat(t," must be a component, not ")+(0,o.typeName)(e));if((0,a.getPyParent)(e))throw new o.pyValueError("This component is already added to a container, call remove_from_parent() first");if(r.topLevelForms.has(e)){var n=r.topLevelForms.openForm===e?"is the open_form":"is already inside an alert";throw new o.pyValueError("This component ".concat(n," and cannot be added to a container"))}};t.validateChild=l;var s=Sk.abstr.buildNativeClass("anvil.Container",{constructor:function(){},base:a.Component,methods:{clear:{$meth(){var e=(0,o.pyCall)(this.tp$getattr(i.s_get_components)).valueOf().map((e=>()=>(0,o.pyCallOrSuspend)(e.tp$getattr(i.s_remove_from_parent))));return(0,o.chainOrSuspend)(o.pyNone,...e)},$flags:{NoArgs:!0}},raise_event_on_children:{$meth(e,t){(0,o.checkOneArg)("raise_event_on_children",e);var n=e[0];if(!(0,o.checkString)(n))throw new o.pyTypeError("event_name must be a string");var r=(0,o.pyCall)(this.tp$getattr(i.s_get_components)).valueOf().map((e=>()=>(0,o.pyCallOrSuspend)(e.tp$getattr(i.s_raise_event),[n],t)));return(0,o.chainOrSuspend)(null,...r)},$flags:{FastCall:!0}},get_components:{$meth(){var e;return new o.pyList([...null!==(e=this._Container.components)&&void 0!==e?e:[]])},$flags:{NoArgs:!0}},add_component:{$meth(e,t){var n;(0,o.checkOneArg)("add_component",e);var r=e[0],[i,a,s,c]=(0,o.copyKeywordsToNamedArgs)("add_component",["on_remove","on_set_visibility","mounted","index"],[],t,[o.pyNone,o.pyNone,o.pyTrue,o.pyNone]);if(c!==o.pyNone&&!(0,o.checkInt)(c))throw new o.pyValueError("Container.add_component(): index must be an integer or None");l(r);var p=this._Container.components;null==p||p.splice(null!==(n=(0,o.toJs)(c))&&void 0!==n?n:p.length,0,r);var u=p&&(()=>{var e=p.indexOf(r);-1!==e&&p.splice(e,1)}),d=null!=u?u:()=>null;if(i!==o.pyNone){if(!(0,o.checkCallable)(i))throw new o.pyValueError("Container.add_component(): the on_remove argument must be None or a function, not ".concat(Sk.abstr.typeName(i)));d=()=>(null==u||u(),(0,o.pyCall)(i,[]))}else d=()=>{var e;null==u||u(),null===(e=r.anvil$hooks.domElement)||void 0===e||e.remove()};var f=void 0;if(a!==o.pyNone){if(!(0,o.checkCallable)(a))throw new o.pyValueError("Container.add_component(): the on_set_visibility argument must be None or a function, not ".concat(Sk.abstr.typeName(a)));f=e=>(0,o.pyCall)(a,[e?o.pyTrue:o.pyFalse])}return r.anvilComponent$setParent(this,{onRemove:d,setVisibility:f,isMounted:(0,o.isTrue)(s)})},$flags:{FastCall:!0}}},classmethods:{validate_child:{$meth:e=>(l(e),o.pyNone),$flags:{OneArg:!0}},__init_subclass__:{$meth(e,t){p(this);var n=new o.pySuper(s,this).tp$getattr(i.s_init_subclass);return(0,o.pyCallOrSuspend)(n,e,t)},$flags:{FastCall:!0}}},flags:{sk$solidBase:!1}});t.Container=s;var c=(0,o.typeLookup)(s,i.s_get_components);function p(e){var t=e.$typeLookup(i.s_get_components)===c,n=e.prototype;Object.defineProperty(n,"_Container",{get(){return this===n?{}:(Object.defineProperty(this,"_Container",{value:{},writable:!0}),t&&(this._Container.components=[]),this._Container)},configurable:!0})}p(s),(0,i.initNativeSubclass)(s)},function(e,t,n){var r=n(27);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(89),o=n(102),i=n(11),a=n(27),l=n(87),s=n(104),c=n(17),p=n(91),u=n(69),d=n(7),f=[].push,v=Math.min,m=4294967295,h=!d((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?m:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var l,s,c,p=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,h=new RegExp(e.source,d+"g");(l=u.call(h,r))&&!((s=h.lastIndex)>v&&(p.push(r.slice(v,l.index)),l.length>1&&l.index<r.length&&f.apply(p,l.slice(1)),c=l[0].length,v=s,p.length>=i));)h.lastIndex===l.index&&h.lastIndex++;return v===r.length?!c&&h.test("")||p.push(""):p.push(r.slice(v)),p.length>i?p.slice(0,i):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var u=i(e),d=String(this),f=l(u,RegExp),g=u.unicode,_=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new f(h?u:"^(?:"+u.source+")",_),b=void 0===o?m:o>>>0;if(0===b)return[];if(0===d.length)return null===p(y,d)?[d]:[];for(var k=0,S=0,w=[];S<d.length;){y.lastIndex=h?S:0;var C,O=p(y,h?d:d.slice(S));if(null===O||(C=v(c(y.lastIndex+(h?0:S)),d.length))===k)S=s(d,S,g);else{if(w.push(d.slice(k,S)),w.length===b)return w;for(var P=1;P<=O.length-1;P++)if(w.push(O[P]),w.length===b)return w;S=k=C}}return w.push(d.slice(k)),w}]}),!h)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(89),o=n(11),i=n(17),a=n(27),l=n(104),s=n(91);r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=o(e),c=String(this);if(!a.global)return s(a,c);var p=a.unicode;a.lastIndex=0;for(var u,d=[],f=0;null!==(u=s(a,c));){var v=String(u[0]);d[f]=v,""===v&&(a.lastIndex=l(c,i(a.lastIndex),p)),f++}return 0===f?null:d}]}))},function(e,t,n){var r=n(192),o=n(4),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(26),o=n(171),i=n(33),a=n(172),l=n(178),s=n(238),c=o("wks"),p=r.Symbol,u=s?p:p&&p.withoutSetter||a;e.exports=function(e){return i(c,e)||(l&&i(p,e)?c[e]=p[e]:c[e]=u("Symbol."+e)),c[e]}},function(e,t){e.exports=!1},function(e,t,n){"use strict";var r,o=n(12),i=n(58).f,a=n(17),l=n(153),s=n(27),c=n(154),p=n(38),u="".startsWith,d=Math.min,f=c("startsWith");o({target:"String",proto:!0,forced:!!(p||f||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!f},{startsWith:function(e){var t=String(s(this));l(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(24);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(47);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(21).f,o=n(14),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(12),o=n(7),i=n(155),a=n(11),l=n(66),s=n(17),c=n(87),p=i.ArrayBuffer,u=i.DataView,d=p.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new p(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(a(this),e);for(var n=a(this).byteLength,r=l(e,n),o=l(void 0===t?n:t,n),i=new(c(this,p))(s(o-r)),f=new u(this),v=new u(i),m=0;r<o;)v.setUint8(m++,f.getUint8(r++));return i}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(40),o=n(49),i=n(97);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(40),o=n(167),i=n(41),a=n(132),l=Object.defineProperty;t.f=r?l:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(12),o=n(38),i=n(148),a=n(7),l=n(35),s=n(87),c=n(151),p=n(23);r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,l("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),o||"function"!=typeof i||i.prototype.finally||p(i.prototype,"finally",l("Promise").prototype.finally)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInvisibleComponent=function(e){var t,n;return null===(t=e._anvil)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.invisible}},function(e,t,n){var r=n(92),o=n(27);e.exports=function(e){return r(o(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(72),o=n(50),i=n(5)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(12),o=n(149),i=n(84);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,n){i(t,e,n)}),{AS_ENTRIES:!0}),t}})},function(e,t,n){"use strict";var r=n(12),o=n(18),i=n(4),a=n(14),l=n(15),s=n(21).f,c=n(143),p=i.Symbol;if(o&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var u={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new p(e):void 0===e?p():p(e);return""===e&&(u[t]=!0),t};c(d,p);var f=d.prototype=p.prototype;f.constructor=d;var v=f.toString,m="Symbol(test)"==String(p("test")),h=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=v.call(e);if(a(u,e))return"";var n=m?t.slice(7,-1):t.replace(h,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){var r=n(18),o=n(111),i=n(42),a=n(53),l=n(65),s=n(14),c=n(112),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=a(e),t=l(t,!0),c)try{return p(e,t)}catch(e){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){n(277)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";var r=n(4),o=n(105),i=n(7),a=r.Int8Array,l=o.aTypedArray,s=o.exportTypedArrayMethod,c=[].toLocaleString,p=[].slice,u=!!a&&i((function(){c.call(new a(1))}));s("toLocaleString",(function(){return c.apply(u?p.call(l(this)):l(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])})))},function(e,t,n){"use strict";var r=n(12),o=n(66),i=n(36),a=n(17),l=n(31),s=n(162),c=n(84),p=n(197),u=n(145),d=p("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,m=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,r,p,u,d,f,_=l(this),y=a(_.length),b=o(e,y),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=y-b):(n=k-2,r=m(v(i(t),0),y-b)),y+n-r>h)throw TypeError(g);for(p=s(_,r),u=0;u<r;u++)(d=b+u)in _&&c(p,u,_[d]);if(p.length=r,n<r){for(u=b;u<y-r;u++)f=u+n,(d=u+r)in _?_[f]=_[d]:delete _[f];for(u=y;u>y-r+n;u--)delete _[u-1]}else if(n>r)for(u=y-r;u>b;u--)f=u+n-1,(d=u+r-1)in _?_[f]=_[d]:delete _[f];for(u=0;u<n;u++)_[u+b]=arguments[u+2];return _.length=y-r+n,p}})},function(e,t,n){var r=n(26),o=n(164).f,i=n(48),a=n(133),l=n(134),s=n(173),c=n(236);e.exports=function(e,t){var n,p,u,d,f,v=e.target,m=e.global,h=e.stat;if(n=m?r:h?r[v]||l(v,{}):(r[v]||{}).prototype)for(p in t){if(d=t[p],u=e.noTargetGet?(f=o(n,p))&&f.value:n[p],!c(m?p:v+(h?".":"#")+p,e.forced)&&void 0!==u){if(typeof d==typeof u)continue;s(d,u)}(e.sham||u&&u.sham)&&i(d,"sham",!0),a(n,p,d,e)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(15);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(36),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t,n){var r,o=n(11),i=n(117),a=n(83),l=n(81),s=n(119),c=n(76),p=n(80),u="prototype",d="script",f=p("IE_PROTO"),v=function(){},m=function(e){return"<"+d+">"+e+"</"+d+">"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,n;h=r?function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):(t=c("iframe"),n="java"+d+":",t.style.display="none",s.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F);for(var o=a.length;o--;)delete h[u][a[o]];return h()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[u]=o(e),n=new v,v[u]=null,n[f]=e):n=h(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(11),o=n(196);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){"use strict";var r,o,i=n(103),a=n(152),l=RegExp.prototype.exec,s=String.prototype.replace,c=l,p=(r=/a/,o=/b*/g,l.call(r,"a"),l.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(p||d||u)&&(c=function(e){var t,n,r,o,a=this,c=u&&a.sticky,f=i.call(a),v=a.source,m=0,h=e;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),h=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,m++),n=new RegExp("^(?:"+v+")",f)),d&&(n=new RegExp("^"+v+"$(?!\\s)",f)),p&&(t=a.lastIndex),r=l.call(c?n:a,h),c?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:p&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";var r=n(12),o=n(4),i=n(155),a=n(86),l="ArrayBuffer",s=i[l];r({global:!0,forced:o[l]!==s},{ArrayBuffer:s}),a(l)},function(e,t,n){var r=n(14),o=n(31),i=n(80),a=n(195),l=i("IE_PROTO"),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(198),o=n(43),i=n(5)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var r=n(12),o=n(153),i=n(27);r({target:"String",proto:!0,forced:!n(154)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i;n(13),n(0),n(56),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.temporaryHackSetupData=function(e){t.data=i=e},t.setData=function(e){var n,a,l,s,c,{app:p,appId:u,appOrigin:d}=e,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["app","appId","appOrigin"]),v=Object.fromEntries(Object.entries(p.dependency_code).map((e=>{var[t,{package_name:n}]=e;return[t,n]})).filter((e=>{var[t,n]=e;return void 0!==n})));t.data=i={app:p,appId:u,appOrigin:d,serverParams:f,appPackage:p.package_name||"main_package",dependencyPackages:v,logicalDepIds:p.dependency_ids},window.anvilAppDependencies=i.app.dependency_code,window.anvilAppDependencyIds=i.app.dependency_ids,window.debugAnvilData=i,window.anvilAppMainPackage=i.appPackage,window.anvilParams=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({appId:u,appOrigin:d},f),window.anvilServiceClientConfig=Object.fromEntries((null!==(n=p.services)&&void 0!==n?n:[]).map((e=>{var{source:t,client_config:n}=e;return[t,n]})));var m={},h=(e,t)=>{var{forms:n}=t;if(n)for(var{custom_component:r,class_name:o,properties:i}of n)r&&(m[e+":"+o]=i)};for(var[g,_]of(h(null,p),Object.entries(p.dependency_code)))h(g,_);window.anvilCustomComponentProperties=m,window.anvilThemeColors=null!==(a=null===(l=i.app.theme)||void 0===l?void 0:l.color_scheme)&&void 0!==a?a:{},window.anvilThemeVars=null!==(s=null===(c=i.app.theme)||void 0===c?void 0:c.vars)&&void 0!==s?s:{}},t.topLevelForms=t.data=void 0,t.data=i;var a={openForm:null,alertForms:new Set,has:e=>a.openForm===e||a.alertForms.has(e)};t.topLevelForms=a},function(e,t,n){var r=n(166),o=n(64);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(4),o=n(15),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(4),o=n(22);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(79),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(4),o=n(77),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},function(e,t,n){var r=n(113),o=n(93),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(114),o=n(83).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";var r=n(65),o=n(21),i=n(42);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(35);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(35),o=n(21),i=n(5),a=n(18),l=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[l]&&n(t,l,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(11),o=n(54),i=n(5)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(43),o=n(4);e.exports="process"==r(o.process)},function(e,t,n){"use strict";n(204);var r=n(23),o=n(7),i=n(5),a=n(69),l=n(22),s=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p="$0"==="a".replace(/./,"$0"),u=i("replace"),d=!!/./[u]&&""===/./[u]("a","$0"),f=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var v=i(e),m=!o((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),h=m&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!m||!h||"replace"===e&&(!c||!p||d)||"split"===e&&!f){var g=/./[v],_=n(v,""[e],(function(e,t,n,r,o){return t.exec===a?m&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=_[0],b=_[1];r(String.prototype,e,y),r(RegExp.prototype,v,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&l(RegExp.prototype[v],"sham",!0)}},function(e,t,n){var r=n(36),o=n(27),i=function(e){return function(t,n){var i,a,l=String(o(t)),s=r(n),c=l.length;return s<0||s>=c?e?"":void 0:(i=l.charCodeAt(s))<55296||i>56319||s+1===c||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):i:e?l.slice(s,s+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){var r=n(43),o=n(69);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(7),o=n(43),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(7),o=/#|\.prototype\./,i=function(e,t){var n=l[a(e)];return n==c||n!=s&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=i.data={},s=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(23);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){var r=n(5),o=n(50),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(100),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r,o,i=n(184),a=n(185),l=RegExp.prototype.exec,s=String.prototype.replace,c=l,p=(r=/a/,o=/b*/g,l.call(r,"a"),l.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(p||d||u)&&(c=function(e){var t,n,r,o,a=this,c=u&&a.sticky,f=i.call(a),v=a.source,m=0,h=e;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),h=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,m++),n=new RegExp("^(?:"+v+")",f)),d&&(n=new RegExp("^"+v+"$(?!\\s)",f)),p&&(t=a.lastIndex),r=l.call(c?n:a,h),c?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:p&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t,n){var r=n(15),o=n(43),i=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){"use strict";var r=n(11);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(90).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r,o=n(209),i=n(18),a=n(4),l=n(15),s=n(14),c=n(72),p=n(22),u=n(23),d=n(21).f,f=n(71),v=n(68),m=n(5),h=n(93),g=a.Int8Array,_=g&&g.prototype,y=a.Uint8ClampedArray,b=y&&y.prototype,k=g&&f(g),S=_&&f(_),w=Object.prototype,C=w.isPrototypeOf,O=m("toStringTag"),P=h("TYPED_ARRAY_TAG"),x=o&&!!v&&"Opera"!==c(a.opera),T=!1,E={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},$=function(e){if(!l(e))return!1;var t=c(e);return s(E,t)||s(j,t)};for(r in E)a[r]||(x=!1);if((!x||"function"!=typeof k||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},x))for(r in E)a[r]&&v(a[r],k);if((!x||!S||S===w)&&(S=k.prototype,x))for(r in E)a[r]&&v(a[r].prototype,S);if(x&&f(b)!==S&&v(b,S),i&&!s(S,O))for(r in T=!0,d(S,O,{get:function(){return l(this)?this[P]:void 0}}),E)a[r]&&p(a[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:x,TYPED_ARRAY_TAG:T&&P,aTypedArray:function(e){if($(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(v){if(C.call(k,e))return e}else for(var t in E)if(s(E,r)){var n=a[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(i){if(n)for(var r in E){var o=a[r];o&&s(o.prototype,e)&&delete o.prototype[e]}S[e]&&!n||u(S,e,n?t:x&&_[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(i){if(v){if(n)for(r in E)(o=a[r])&&s(o,e)&&delete o[e];if(k[e]&&!n)return;try{return u(k,e,n?t:x&&g[e]||t)}catch(e){}}for(r in E)!(o=a[r])||o[e]&&!n||u(o,e,t)}},isView:function(e){if(!l(e))return!1;var t=c(e);return"DataView"===t||s(E,t)||s(j,t)},isTypedArray:$,TypedArray:k,TypedArrayPrototype:S}},function(e,t,n){"use strict";n(211);var r,o=n(12),i=n(18),a=n(128),l=n(4),s=n(117),c=n(23),p=n(59),u=n(14),d=n(147),f=n(212),v=n(90).codeAt,m=n(214),h=n(44),g=n(215),_=n(29),y=l.URL,b=g.URLSearchParams,k=g.getState,S=_.set,w=_.getterFor("URL"),C=Math.floor,O=Math.pow,P="Invalid scheme",x="Invalid host",T="Invalid port",E=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,$=/\d/,A=/^(0x|0X)/,M=/^[0-7]+$/,N=/^\d+$/,L=/^[\dA-Fa-f]+$/,I=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,V=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,R=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return x;if(!(n=B(t.slice(1,-1))))return x;e.host=n}else if(Y(e)){if(t=m(t),I.test(t))return x;if(null===(n=G(t)))return x;e.host=n}else{if(D.test(t))return x;for(n="",r=f(t),o=0;o<r.length;o++)n+=q(r[o],U);e.host=n}},G=function(e){var t,n,r,o,i,a,l,s=e.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),(t=s.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=s[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=A.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?N:8==i?M:L).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=O(256,5-t))return null}else if(a>255)return null;for(l=n.pop(),r=0;r<n.length;r++)l+=n[r]*O(256,3-r);return l},B=function(e){var t,n,r,o,i,a,l,s=[0,0,0,0,0,0,0,0],c=0,p=null,u=0,d=function(){return e.charAt(u)};if(":"==d()){if(":"!=e.charAt(1))return;u+=2,p=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&L.test(d());)t=16*t+parseInt(d(),16),u++,n++;if("."==d()){if(0==n)return;if(u-=n,c>6)return;for(r=0;d();){if(o=null,r>0){if(!("."==d()&&r<4))return;u++}if(!$.test(d()))return;for(;$.test(d());){if(i=parseInt(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;u++}s[c]=256*s[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(u++,!d())return}else if(d())return;s[c++]=t}else{if(null!==p)return;u++,p=++c}}if(null!==p)for(a=c-p,c=7;0!=c&&a>0;)l=s[c],s[c--]=s[p+a-1],s[p+--a]=l;else if(8!=c)return;return s},H=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},U={},z=d({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),J=d({},z,{"#":1,"?":1,"{":1,"}":1}),W=d({},J,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var n=v(e,0);return n>32&&n<127&&!u(t,e)?e:encodeURIComponent(e)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return u(K,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},X=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var n;return 2==e.length&&E.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Q(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},re={},oe={},ie={},ae={},le={},se={},ce={},pe={},ue={},de={},fe={},ve={},me={},he={},ge={},_e={},ye={},be={},ke={},Se={},we={},Ce=function(e,t,n,o){var i,a,l,s,c,p=n||re,d=0,v="",m=!1,h=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(V,"")),t=t.replace(F,""),i=f(t);d<=i.length;){switch(a=i[d],p){case re:if(!a||!E.test(a)){if(n)return P;p=ie;continue}v+=a.toLowerCase(),p=oe;break;case oe:if(a&&(j.test(a)||"+"==a||"-"==a||"."==a))v+=a.toLowerCase();else{if(":"!=a){if(n)return P;v="",p=ie,d=0;continue}if(n&&(Y(e)!=u(K,v)||"file"==v&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=v,n)return void(Y(e)&&K[e.scheme]==e.port&&(e.port=null));v="","file"==e.scheme?p=he:Y(e)&&o&&o.scheme==e.scheme?p=ae:Y(e)?p=pe:"/"==i[d+1]?(p=le,d++):(e.cannotBeABaseURL=!0,e.path.push(""),p=ke)}break;case ie:if(!o||o.cannotBeABaseURL&&"#"!=a)return P;if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,p=we;break}p="file"==o.scheme?he:se;continue;case ae:if("/"!=a||"/"!=i[d+1]){p=se;continue}p=ue,d++;break;case le:if("/"==a){p=de;break}p=be;continue;case se:if(e.scheme=o.scheme,a==r)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&Y(e))p=ce;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",p=Se;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),p=be;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",p=we}break;case ce:if(!Y(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,p=be;continue}p=de}else p=ue;break;case pe:if(p=ue,"/"!=a||"/"!=v.charAt(d+1))continue;d++;break;case ue:if("/"!=a&&"\\"!=a){p=de;continue}break;case de:if("@"==a){m&&(v="%40"+v),m=!0,l=f(v);for(var _=0;_<l.length;_++){var y=l[_];if(":"!=y||g){var b=q(y,W);g?e.password+=b:e.username+=b}else g=!0}v=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(m&&""==v)return"Invalid authority";d-=f(v).length+1,v="",p=fe}else v+=a;break;case fe:case ve:if(n&&"file"==e.scheme){p=_e;continue}if(":"!=a||h){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(Y(e)&&""==v)return x;if(n&&""==v&&(Z(e)||null!==e.port))return;if(s=R(e,v))return s;if(v="",p=ye,n)return;continue}"["==a?h=!0:"]"==a&&(h=!1),v+=a}else{if(""==v)return x;if(s=R(e,v))return s;if(v="",p=me,n==ve)return}break;case me:if(!$.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)||n){if(""!=v){var k=parseInt(v,10);if(k>65535)return T;e.port=Y(e)&&k===K[e.scheme]?null:k,v=""}if(n)return;p=ye;continue}return T}v+=a;break;case he:if(e.scheme="file","/"==a||"\\"==a)p=ge;else{if(!o||"file"!=o.scheme){p=be;continue}if(a==r)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",p=Se;else{if("#"!=a){ee(i.slice(d).join(""))||(e.host=o.host,e.path=o.path.slice(),te(e)),p=be;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",p=we}}break;case ge:if("/"==a||"\\"==a){p=_e;break}o&&"file"==o.scheme&&!ee(i.slice(d).join(""))&&(Q(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),p=be;continue;case _e:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&Q(v))p=be;else if(""==v){if(e.host="",n)return;p=ye}else{if(s=R(e,v))return s;if("localhost"==e.host&&(e.host=""),n)return;v="",p=ye}continue}v+=a;break;case ye:if(Y(e)){if(p=be,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(p=be,"/"!=a))continue}else e.fragment="",p=we;else e.query="",p=Se;break;case be:if(a==r||"/"==a||"\\"==a&&Y(e)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=v).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(te(e),"/"==a||"\\"==a&&Y(e)||e.path.push("")):ne(v)?"/"==a||"\\"==a&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(v)&&(e.host&&(e.host=""),v=v.charAt(0)+":"),e.path.push(v)),v="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",p=Se):"#"==a&&(e.fragment="",p=we)}else v+=q(a,J);break;case ke:"?"==a?(e.query="",p=Se):"#"==a?(e.fragment="",p=we):a!=r&&(e.path[0]+=q(a,U));break;case Se:n||"#"!=a?a!=r&&("'"==a&&Y(e)?e.query+="%27":e.query+="#"==a?"%23":q(a,U)):(e.fragment="",p=we);break;case we:a!=r&&(e.fragment+=q(a,z))}d++}},Oe=function(e){var t,n,r=p(this,Oe,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),l=S(r,{type:"URL"});if(void 0!==o)if(o instanceof Oe)t=w(o);else if(n=Ce(t={},String(o)))throw TypeError(n);if(n=Ce(l,a,null,t))throw TypeError(n);var s=l.searchParams=new b,c=k(s);c.updateSearchParams(l.query),c.updateURL=function(){l.query=String(s)||null},i||(r.href=xe.call(r),r.origin=Te.call(r),r.protocol=Ee.call(r),r.username=je.call(r),r.password=$e.call(r),r.host=Ae.call(r),r.hostname=Me.call(r),r.port=Ne.call(r),r.pathname=Le.call(r),r.search=Ie.call(r),r.searchParams=De.call(r),r.hash=Ve.call(r))},Pe=Oe.prototype,xe=function(){var e=w(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,l=e.query,s=e.fragment,c=t+":";return null!==o?(c+="//",Z(e)&&(c+=n+(r?":"+r:"")+"@"),c+=H(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==l&&(c+="?"+l),null!==s&&(c+="#"+s),c},Te=function(){var e=w(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+H(e.host)+(null!==n?":"+n:""):"null"},Ee=function(){return w(this).scheme+":"},je=function(){return w(this).username},$e=function(){return w(this).password},Ae=function(){var e=w(this),t=e.host,n=e.port;return null===t?"":null===n?H(t):H(t)+":"+n},Me=function(){var e=w(this).host;return null===e?"":H(e)},Ne=function(){var e=w(this).port;return null===e?"":String(e)},Le=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=w(this).query;return e?"?"+e:""},De=function(){return w(this).searchParams},Ve=function(){var e=w(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(Pe,{href:Fe(xe,(function(e){var t=w(this),n=String(e),r=Ce(t,n);if(r)throw TypeError(r);k(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Te),protocol:Fe(Ee,(function(e){var t=w(this);Ce(t,String(e)+":",re)})),username:Fe(je,(function(e){var t=w(this),n=f(String(e));if(!X(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=q(n[r],W)}})),password:Fe($e,(function(e){var t=w(this),n=f(String(e));if(!X(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=q(n[r],W)}})),host:Fe(Ae,(function(e){var t=w(this);t.cannotBeABaseURL||Ce(t,String(e),fe)})),hostname:Fe(Me,(function(e){var t=w(this);t.cannotBeABaseURL||Ce(t,String(e),ve)})),port:Fe(Ne,(function(e){var t=w(this);X(t)||(""==(e=String(e))?t.port=null:Ce(t,e,me))})),pathname:Fe(Le,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],Ce(t,e+"",ye))})),search:Fe(Ie,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ce(t,e,Se)),k(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(De),hash:Fe(Ve,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ce(t,e,we)):t.fragment=null}))}),c(Pe,"toJSON",(function(){return xe.call(this)}),{enumerable:!0}),c(Pe,"toString",(function(){return xe.call(this)}),{enumerable:!0}),y){var Re=y.createObjectURL,Ge=y.revokeObjectURL;Re&&c(Oe,"createObjectURL",(function(e){return Re.apply(y,arguments)})),Ge&&c(Oe,"revokeObjectURL",(function(e){return Ge.apply(y,arguments)}))}h(Oe,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Oe})},function(e,t,n){"use strict";n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setHandled=function(e){var t,{target:n,type:o}=e,i=null!==(t=r[o])&&void 0!==t?t:r[o]=new Set;i.add(n),setTimeout((()=>i.delete(n)))},t.isHandled=function(e){var t,{target:n,type:o}=e;return null===(t=r[o])||void 0===t?void 0:t.has(n)};var r={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VT_GLOBAL=t.CHUNK_SIZE=t.pyValueTypes=t.pyServerEventHandlers=t.pyNamedExceptions=void 0;t.pyNamedExceptions={};t.pyServerEventHandlers={};t.pyValueTypes={};t.CHUNK_SIZE=65536;t.VT_GLOBAL="vt_global"},function(e,t,n){"use strict";n(0),n(10),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.deleteOutstandingRequest=k,t.createRequestTemplate=S,t.waitForOutstandingRequests=w,t.doRpcCall=function(e,t,n,r){var i,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.globalSuppressLoading.value>0,s=arguments.length>5?arguments[5]:void 0,[c,p,u]=S(e,t,n,r,l),{deferred:d}=c;return null!==(i=s)&&void 0!==i||(s=T),s(c,p,u,l),(0,a.promiseToSuspension)(d.promise)},t.incHeartbeatCount=t.getNumOutstandingRequests=t.outstandingRequests=void 0;var r,o=n(25),i=n(8),a=n(6),l=(r=n(1))&&r.__esModule?r:{default:r},s=n(110),c=n(325),p=n(222),u=n(158),d=n(226);function f(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)}))}}var m={};t.outstandingRequests=m;var h,g=()=>Object.keys(m).length;t.getNumOutstandingRequests=g;var _=0;function y(){return b.apply(this,arguments)}function b(){return(b=v((function*(){try{yield O({type:"CALL",id:"client-keepalive-"+_++,command:"anvil.private.echo",args:["keep-alive"],kwargs:{}})}catch(e){}h=void 0,g()>0&&(h=setTimeout(y,3e4))}))).apply(this,arguments)}function k(e){delete m[e],0==Object.keys(m).length&&(clearTimeout(h),h=void 0)}function S(e,t,n,r,u){var d,f,v=l.default.keywordArrayToHashMap(e),m=(0,o.generateUUID)(),h=(0,c.profileStart)("RPC Request"),g=h.append("Call mapping"),_=[],y={},b=[],S={type:"CALL",id:m,args:t,kwargs:v},w=(0,p.serialize)(S,m,{knownCapabilities:_,knownLiveObjectMethods:{},knownLiveObjectInstances:y,blobContent:b,liveObjectSpec:r,commandOrMethod:n});((0,s.diagnosticRequest)({id:m,call:w.command||w.liveObjectCall.backend+":"+w.liveObjectCall.method}),g.end(),u)||(null===(d=(f=window).setLoading)||void 0===d||d.call(f,!0));var C,O=(0,o.defer)(),P={id:m,media:{},deferred:O,suppressLoading:u,knownLiveObjectInstances:y,knownCapabilities:_,onerror(e){var t,n;u||null===(t=(n=window).setLoading)||void 0===t||t.call(n,!1),k(m),console.error("Websocket connection failed",e);var r="Connection to server failed (".concat(e&&(e.code||e.message||e.type)||"FAIL",")");O.reject(l.default.pyCall(i.anvilServerMod.AppOfflineError,[new a.pyStr(r)]))},profile:h};b.length>0&&(C=h.append("Realise blobs"));var x=(0,o.defer)();return Promise.all(w.objects).then((e=>{var t,n;null===(t=C)||void 0===t||t.end(),w.objects=e,console.debug("RPC request: ".concat(null!==(n=w.command)&&void 0!==n?n:w.liveObjectCall.backend+":"+w.liveObjectCall.method),w),x.resolve(w)})).catch((e=>{x.reject(e)})),[P,x.promise,b]}function w(e){return C.apply(this,arguments)}function C(){return(C=v((function*(e){var t,n;for(var{deferred:r}of Object.values(m)){var o;null!==(o=n)&&void 0!==o||(n=e.append("Waiting for ".concat(g()," previous call(s) to complete")));try{yield r.promise}catch(e){}}null===(t=n)||void 0===t||t.end()}))).apply(this,arguments)}t.incHeartbeatCount=()=>_++;function O(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=v((function*(e,t,n,r){var o=yield(0,u.connect)(n);r&&(r.ws=o);var i=null==n?void 0:n.append("Send to websocket"),a=null==i?void 0:i.append("Send JSON Data");if(o.send(JSON.stringify(e)),s.diagnosticData.nSent++,null==a||a.end(),t){var l=null==i?void 0:i.append("Send blob data");o.send(t),null==l||l.end()}yield new Promise((e=>{var t=()=>{0==o.bufferedAmount?(null==i||i.end(),e(null)):setTimeout(t,1)};setTimeout(t,1)}))}))).apply(this,arguments)}function x(){return(x=v((function*(e,t,n){var r,o,{profile:i,id:a}=e,l=i.append("Send call");for(var s of(yield w(l),m[a]=e,yield O(t,null,l,e),l.end(),h||(h=setTimeout(y,3e4)),n)){var c;for(var p of(null!==(c=o)&&void 0!==c||(o=i.append("Send blobs")),s))yield O(p.json,p.data,o,e)}null===(r=o)||void 0===r||r.end()}))).apply(this,arguments)}var T=function(){var e=v((function*(e,t,n,r){var o,{id:i,deferred:a}=e;try{o=yield t}catch(e){var l,s;return console.error(e),k(i),r||null===(l=(s=window).setLoading)||void 0===l||l.call(s,!1),void a.reject(e)}try{yield function(e,t,n){return x.apply(this,arguments)}(e,o,n)}catch(o){if(console.error(o),o instanceof u.WebsocketFallback)return console.log("Falling back to HTTP"),T=d.executeCallHttp,k(i),(0,d.executeCallHttp)(e,t,n,r)}}));return function(t,n,r,o){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(16),Object.defineProperty(t,"__esModule",{value:!0}),t.diagnosticRequest=a,t.diagnosticEvent=function(e){var t={type:e,time:Date.now(),nSent:i.nSent,nReceived:i.nReceived};i.events.push(t),a(t)},t.diagnosticData=void 0;var i={loadTime:Date.now(),userAgent:navigator.userAgent,events:[],requests:[],nSent:0,nReceived:0};function a(e){i.requests.length>100&&(i.requests=i.requests.slice(i.requests.length-50)),i.requests.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({time:Date.now()},e))}t.diagnosticData=i},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(18),o=n(7),i=n(76);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(38),o=n(79);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(14),o=n(53),i=n(144).indexOf,a=n(81);e.exports=function(e,t){var n,l=o(e),s=0,c=[];for(n in l)!r(a,n)&&r(l,n)&&c.push(n);for(;t.length>s;)r(l,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(7);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(18),o=n(21),i=n(11),a=n(118);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),l=r.length,s=0;l>s;)o.f(e,n=r[s++],t[n]);return e}},function(e,t,n){var r=n(114),o=n(83);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(35);e.exports=r("document","documentElement")},function(e,t,n){"use strict";var r=n(12),o=n(121),i=n(71),a=n(68),l=n(44),s=n(22),c=n(23),p=n(5),u=n(38),d=n(50),f=n(122),v=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,h=p("iterator"),g="keys",_="values",y="entries",b=function(){return this};e.exports=function(e,t,n,p,f,k,S){o(n,t,p);var w,C,O,P=function(e){if(e===f&&$)return $;if(!m&&e in E)return E[e];switch(e){case g:case _:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",T=!1,E=e.prototype,j=E[h]||E["@@iterator"]||f&&E[f],$=!m&&j||P(f),A="Array"==t&&E.entries||j;if(A&&(w=i(A.call(new e)),v!==Object.prototype&&w.next&&(u||i(w)===v||(a?a(w,v):"function"!=typeof w[h]&&s(w,h,b)),l(w,x,!0,!0),u&&(d[x]=b))),f==_&&j&&j.name!==_&&(T=!0,$=function(){return j.call(this)}),u&&!S||E[h]===$||s(E,h,$),d[t]=$,f)if(C={values:P(_),keys:k?$:P(g),entries:P(y)},S)for(O in C)(m||T||!(O in E))&&c(E,O,C[O]);else r({target:t,proto:!0,forced:m||T},C);return C}},function(e,t,n){"use strict";var r=n(122).IteratorPrototype,o=n(67),i=n(42),a=n(44),l=n(50),s=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,c,!1,!0),l[c]=s,e}},function(e,t,n){"use strict";var r,o,i,a=n(7),l=n(71),s=n(22),c=n(14),p=n(5),u=n(38),d=p("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):f=!0);var v=null==r||a((function(){var e={};return r[d].call(e)!==e}));v&&(r={}),u&&!v||c(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(43);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(11);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},function(e,t,n){var r,o,i,a=n(4),l=n(7),s=n(45),c=n(119),p=n(76),u=n(126),d=n(88),f=a.location,v=a.setImmediate,m=a.clearImmediate,h=a.process,g=a.MessageChannel,_=a.Dispatch,y=0,b={},k="onreadystatechange",S=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},w=function(e){return function(){S(e)}},C=function(e){S(e.data)},O=function(e){a.postMessage(e+"",f.protocol+"//"+f.host)};v&&m||(v=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},m=function(e){delete b[e]},d?r=function(e){h.nextTick(w(e))}:_&&_.now?r=function(e){_.now(w(e))}:g&&!u?(i=(o=new g).port2,o.port1.onmessage=C,r=s(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!l(O)?(r=O,a.addEventListener("message",C,!1)):r=k in p("script")?function(e){c.appendChild(p("script"))[k]=function(){c.removeChild(this),S(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:v,clear:m}},function(e,t,n){var r=n(85);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(54),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){var r=n(7),o=n(5),i=n(38),a=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";n(0),n(16),n(3),n(34),n(32),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.pyInstantiateComponent=t.getFormInstantiator=t.getNamedFormInstantiator=t.getAnvilComponentInstantiator=t.getAnvilComponentClass=t.getDefaultNamedFormInstantiator=t.getDefaultAnvilComponentInstantiator=t.setInstantiationHooks=t.WELL_KNOWN_PATHS=t.getFormClassObject=t.resolveFormSpec=t.getDefaultDepIdForInstantiation=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=n(6),i=n(74),a=n(28),l=n(8);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var c=e=>e.fromYaml?e.defaultDepId:(0,a.getDefaultDepIdForComponent)(e.requestingComponent);t.getDefaultDepIdForInstantiation=c;var p=/^(?:([^:]+):)?([^:]*)$/,u=(e,t)=>{var n,[,r=null,a]=null!==(n=e.match(p))&&void 0!==n?n:[];if(!a)throw new Error("Invalid YAML spec for form: ".concat(e));var l=r?i.data.logicalDepIds[r]:null;if(r&&!l)throw new o.pyValueError("Dependency not found for ".concat(e));var s=r?i.data.dependencyPackages[l]:t?i.data.dependencyPackages[t]:i.data.appPackage;if(!s)throw new o.pyValueError("Dependency not found for: "+e);return{qualifiedClassName:"".concat(s,".").concat(a),depId:l,formName:a,logicalDepId:r}};t.resolveFormSpec=u;var d=e=>{var{qualifiedClassName:t}=e;return(0,o.chainOrSuspend)(Sk.importModule(t,!1,!0),(()=>{var e=t.split(".").slice(1),n=e[e.length-1],r=Sk.sysmodules.quick$lookup(new o.pyStr(t));if(r)return r.tp$getattr(new o.pyStr(n))}))};t.getFormClassObject=d;t.WELL_KNOWN_PATHS={LAYOUT:"__anvil layout *HV57"};t.setInstantiationHooks=e=>{({getAnvilComponentInstantiator:h,getAnvilComponentClass:m,getNamedFormInstantiator:g}=e),t.getAnvilComponentInstantiator=h,t.getAnvilComponentClass=m,t.getNamedFormInstantiator=g};var f=(e,t)=>{var n=l.anvilMod[t];return(e,t)=>(0,o.pyCallOrSuspend)(n,[],e)};t.getDefaultAnvilComponentInstantiator=f;var v=(e,t,n)=>(0,o.chainOrSuspend)(d(e),(t=>{if(void 0===t)throw new o.pyImportError("Failed to import form "+e.formName);return(e,n)=>(0,o.pyCallOrSuspend)(t,[],e)}));t.getDefaultNamedFormInstantiator=v;var m=(e,t)=>e[t];t.getAnvilComponentClass=m;var h=f;t.getAnvilComponentInstantiator=h;var g=v;t.getNamedFormInstantiator=g;t.getFormInstantiator=(e,t,n)=>{if((0,o.checkString)(t)){var r=u(t.toString(),c(e)),i=g(r,e.requestingComponent,n);return i.anvil$instantiatorForForm=r,i}var a;return null!==(a=t.anvil$underlyingInstantiator)&&void 0!==a?a:e=>(0,o.pyCallOrSuspend)(t,[],e)};var _=r.funcFastCall(((e,t)=>{var n,r,i,l,s,c;[n,r,i,l,s,c]=(0,o.copyKeywordsToNamedArgs)("instantiate_component",["requesting_component","component_to_instantiate","args","kwargs","edit_path","is_editable"],e,t,[new o.pyTuple,new o.pyDict,o.pyNone,o.pyFalse]);var p=(0,o.arrayFromIterable)(i),f=(0,o.keywordArrayFromPyDict)((0,o.pyCall)(o.pyDict,[l]));c=(0,o.isTrue)(c);(0,o.toJs)(s);return(0,o.chainOrSuspend)((0,o.checkString)(r)?d(u(r.toString(),(0,a.getDefaultDepIdForComponent)(n))):r,(e=>{if(void 0===e)throw new o.pyRuntimeError("Unable to resolve "+(0,o.objectRepr)(r));return(0,o.pyCallOrSuspend)(e,p,f)}))}));t.pyInstantiateComponent=_},function(e,t,n){"use strict";n(39),Object.defineProperty(t,"__esModule",{value:!0}),t.warn=function(e){e.toLowerCase().startsWith("warning:")||(e="Warning: "+e);Sk.builtin.print([e])}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(47);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(26),o=n(48),i=n(33),a=n(134),l=n(169),s=n(170),c=s.get,p=s.enforce,u=String(String).split("String");(e.exports=function(e,t,n,l){var s,c=!!l&&!!l.unsafe,d=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),(s=p(n)).source||(s.source=u.join("string"==typeof t?t:""))),e!==r?(c?!f&&e[t]&&(d=!0):delete e[t],d?e[t]=n:o(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},function(e,t,n){var r=n(26),o=n(48);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(26),o=n(134),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},function(e,t,n){var r=n(171),o=n(172),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){var r=n(233),o=n(26),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){e.exports={}},function(e,t,n){var r=n(64);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(14),o=n(191),i=n(58),a=n(21);e.exports=function(e,t){for(var n=o(t),l=a.f,s=i.f,c=0;c<n.length;c++){var p=n[c];r(e,p)||l(e,p,s(t,p))}}},function(e,t,n){var r=n(53),o=n(17),i=n(66),a=function(e){return function(t,n,a){var l,s=r(t),c=o(s.length),p=i(a,c);if(e&&n!=n){for(;c>p;)if((l=s[p++])!=l)return!0}else for(;c>p;p++)if((e||p in s)&&s[p]===n)return e||p||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(18),o=n(7),i=n(14),a=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(i(l,e))return l[e];t||(t={});var n=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,p=i(t,0)?t[0]:s,u=i(t,1)?t[1]:void 0;return l[e]=!!n&&!o((function(){if(c&&!r)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,p,u)}))}},function(e,t,n){var r,o,i=n(4),a=n(85),l=i.process,s=l&&l.versions,c=s&&s.v8;c?o=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t,n){"use strict";var r=n(18),o=n(7),i=n(118),a=n(115),l=n(111),s=n(31),c=n(92),p=Object.assign,u=Object.defineProperty;e.exports=!p||o((function(){if(r&&1!==p({b:1},p(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||i(p({},t)).join("")!=o}))?function(e,t){for(var n=s(e),o=arguments.length,p=1,u=a.f,d=l.f;o>p;)for(var f,v=c(arguments[p++]),m=u?i(v).concat(u(v)):i(v),h=m.length,g=0;h>g;)f=m[g++],r&&!d.call(v,f)||(n[f]=v[f]);return n}:p},function(e,t,n){var r=n(4);e.exports=r.Promise},function(e,t,n){var r=n(11),o=n(96),i=n(17),a=n(45),l=n(55),s=n(124),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var p,u,d,f,v,m,h,g=n&&n.that,_=!(!n||!n.AS_ENTRIES),y=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),k=a(t,g,1+_+b),S=function(e){return p&&s(p),new c(!0,e)},w=function(e){return _?(r(e),b?k(e[0],e[1],S):k(e[0],e[1])):b?k(e,S):k(e)};if(y)p=e;else{if("function"!=typeof(u=l(e)))throw TypeError("Target is not iterable");if(o(u)){for(d=0,f=i(e.length);f>d;d++)if((v=w(e[d]))&&v instanceof c)return v;return new c(!1)}p=u.call(e)}for(m=p.next;!(h=m.call(p)).done;){try{v=w(h.value)}catch(e){throw s(p),e}if("object"==typeof v&&v&&v instanceof c)return v}return new c(!1)}},function(e,t,n){var r=n(5)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(11),o=n(15),i=n(127);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(7);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){var r=n(102);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r=n(4),o=n(18),i=n(209),a=n(22),l=n(95),s=n(7),c=n(59),p=n(36),u=n(17),d=n(210),f=n(275),v=n(71),m=n(68),h=n(82).f,g=n(21).f,_=n(276),y=n(44),b=n(29),k=b.get,S=b.set,w="ArrayBuffer",C="DataView",O="prototype",P="Wrong index",x=r[w],T=x,E=r[C],j=E&&E[O],$=Object.prototype,A=r.RangeError,M=f.pack,N=f.unpack,L=function(e){return[255&e]},I=function(e){return[255&e,e>>8&255]},D=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},V=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},F=function(e){return M(e,23,4)},R=function(e){return M(e,52,8)},G=function(e,t){g(e[O],t,{get:function(){return k(this)[t]}})},B=function(e,t,n,r){var o=d(n),i=k(e);if(o+t>i.byteLength)throw A(P);var a=k(i.buffer).bytes,l=o+i.byteOffset,s=a.slice(l,l+t);return r?s:s.reverse()},H=function(e,t,n,r,o,i){var a=d(n),l=k(e);if(a+t>l.byteLength)throw A(P);for(var s=k(l.buffer).bytes,c=a+l.byteOffset,p=r(+o),u=0;u<t;u++)s[c+u]=p[i?u:t-u-1]};if(i){if(!s((function(){x(1)}))||!s((function(){new x(-1)}))||s((function(){return new x,new x(1.5),new x(NaN),x.name!=w}))){for(var U,z=(T=function(e){return c(this,T),new x(d(e))})[O]=x[O],J=h(x),W=0;J.length>W;)(U=J[W++])in T||a(T,U,x[U]);z.constructor=T}m&&v(j)!==$&&m(j,$);var q=new E(new T(2)),K=j.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||l(j,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,w);var t=d(e);S(this,{bytes:_.call(new Array(t),0),byteLength:t}),o||(this.byteLength=t)},E=function(e,t,n){c(this,E,C),c(e,T,C);var r=k(e).byteLength,i=p(t);if(i<0||i>r)throw A("Wrong offset");if(i+(n=void 0===n?r-i:u(n))>r)throw A("Wrong length");S(this,{buffer:e,byteLength:n,byteOffset:i}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},o&&(G(T,"byteLength"),G(E,"buffer"),G(E,"byteLength"),G(E,"byteOffset")),l(E[O],{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return V(B(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return V(B(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return N(B(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return N(B(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){H(this,1,e,L,t)},setUint8:function(e,t){H(this,1,e,L,t)},setInt16:function(e,t){H(this,2,e,I,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){H(this,2,e,I,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){H(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){H(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){H(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){H(this,8,e,R,t,arguments.length>2?arguments[2]:void 0)}});y(T,w),y(E,C),e.exports={ArrayBuffer:T,DataView:E}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";n(0),n(56),n(3),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.SerializationInfo=void 0;var r=n(6);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=new r.pyStr(":GLOBAL"),s=["keys","items","values","get","pop","popitem","clear","update","setdefault"].map((e=>new r.pyStr(e))),c=(0,r.buildNativeClass)("anvil.server.SerializeInfo",{constructor:function(e){if(this.$txData=new r.pyDict,this.$localData=new r.pyDict,this.$defaultKey=null,this.$enableTxData=!0,this.$originalData=null,e)if(Array.isArray(e)){var t=e.map(r.toPy);this.$originalData=new r.pyList(t),this.$txData=new r.pyDict(t)}else this.$originalData=(0,r.toPy)(e),this.$txData.mp$ass_subscript(l,this.$originalData);else;},slots:i({$r(){return new r.pyStr("SerializationInfo<".concat((0,r.objectRepr)(this.$txData),", ").concat((0,r.objectRepr)(this.$localData),">"))},tp$as_sequence_or_mapping:!0,tp$as_number:!0,nb$bool(){return(0,r.isTrue)(this.$enableTxData)}},Object.fromEntries(["mp$subscript","mp$ass_subscript","tp$iter","sq$length","sq$contains"].map((e=>[e,function(){var t=this.$sharedData("GLOBAL")[0];if(t===r.pyNone)throw new r.pyRuntimeError("This object is part of shared_data; you cannot access shared_data from its __serialize__ method.");return t[e](...arguments)}])))),methods:i({shared_data:{$meth(e,t,n){return new r.pyTuple(this.$sharedData(e,t,n))},$flags:{NamedArgs:["key","transmitted_data_factory","local_data_factory"],Defaults:[r.pyNone,r.pyDict,r.pyDict]}}},Object.fromEntries(s.map((e=>[e,{$meth(t,n){var o=this.$sharedData("GLOBAL")[0];if(o===r.pyNone)throw new r.pyRuntimeError("This object is part of shared_data; you cannot access shared_data from its __serialize__ method.");var i=o.tp$getattr(e);return(0,r.pyCallOrSuspend)(i,t,n)},$flags:{FastCall:!0}}])))),getsets:{remote_is_trusted:{$get:()=>r.pyTrue},local_is_trusted:{$get:()=>r.pyFalse}},proto:{$toJson(){if(1===this.$txData.sq$length()&&this.$txData.sq$contains(l))return this.$txData.mp$subscript(l);var e=[];for(var[t,n]of this.$txData.$items())e.push(t,n);return new r.pyList(e)},$resolveKey(e){if(null==e||e===r.pyNone)return this.$defaultKey;if("string"==typeof e)e=new r.pyStr(":"+e);else if(e instanceof r.pyType){var t=e.anvil$serializableName;e=null!=t?t:"".concat((0,r.lookupSpecial)(e,r.pyStr.$module),".").concat((0,r.lookupSpecial)(e,r.pyStr.$name))}else e=":"+e.toString();return new r.pyStr(e)},$updatePath(e,t){var n,o,i=this.$originalData;for(o of e)o=(0,r.toPy)(o),n=i,i=i.mp$subscript(o);n.mp$ass_subscript(o,t)},$setDefaultKey(e){this.$defaultKey=new r.pyStr(e)},$setTxDataAvailable(e){this.$enableTxData=e},$setDataFactory(e,t,n){var o=e.quick$lookup(t);return void 0===o&&(o=(0,r.pyCall)(null!=n?n:r.pyDict),e.mp$ass_subscript(t,o)),o},$sharedData(e,t,n){e=this.$resolveKey(e);var o=this.$setDataFactory(this.$localData,e,n);return(0,r.isTrue)(this.$enableTxData)?[this.$setDataFactory(this.$txData,e,t),o]:[r.pyNone,o]}}});t.SerializationInfo=c},function(e,t,n){"use strict";n(20),Object.defineProperty(t,"__esModule",{value:!0}),t.connect=function(e){if(null!=u)return u;var n=null==e?void 0:e.append("Connect websocket"),s=(0,o.defer)();t.websocket=u=s.promise;var p=new h(f());window.anvilWebsocket=p;var v=()=>{};p.onopen=()=>{(0,i.diagnosticEvent)("connected"),null==n||n.end(),v=function(e){var t=setInterval((()=>{try{e.send(JSON.stringify(c(c({},d),{},{id:"client-keepalive-"+(0,l.incHeartbeatCount)()})))}catch(e){console.error("Failed to send client keepalive.",e)}}),5e3);return()=>clearInterval(t)}(p),s.resolve(p)};var m=e=>{for(var n in v(),u===s.promise&&(t.websocket=u=null),s.reject(e),r.anvilAppOnline.fetchStatus(!1),l.outstandingRequests)l.outstandingRequests[n].ws!=e.target&&null!=l.outstandingRequests[n].ws||l.outstandingRequests[n].onerror(e)};return p.onclose=e=>{(0,i.diagnosticEvent)("closed"),console.log("WebSocket closed",e),m(e)},p.onerror=e=>{(0,i.diagnosticEvent)("error"),console.log("WebSocket error",e),m(e)},p.onmessage=e=>{r.anvilAppOnline.updateStatus(!0),i.diagnosticData.nReceived++,(0,a.handleMessage)(e.data)},s.promise},t.WebsocketFallback=t.websocket=void 0;var r=n(221),o=n(25),i=n(110),a=n(225),l=n(109);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=null;t.websocket=u;var d={type:"CALL",id:"client-keepalive-",command:"anvil.private.echo",args:["keep-alive"],kwargs:{}};var f=()=>{var e=window.anvilAppOrigin.replace(/^http/,"ws");return"".concat(e,"/_/ws/").concat(window.anvilParams.accessKey||"","?s=").concat(window.anvilSessionToken)},v=!0;class m extends Error{}t.WebsocketFallback=m;class h extends WebSocket{send(e){try{super.send(e)}catch(e){if(v)throw new m("use HTTP");throw e}v=!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.provideLoggingImpl=function(e){r=e},t.setHooks=function(e){o=e.onStdout,i=e.onUpdateReplState},t.logEvent=function(e){s(),r(e)},t.stdout=function(e,t){"\n"!=e&&(a||(a=+new Date),console.log((t?"SERVER: ":"CLIENT: ")+e));o(e,t),t||(null===l&&(l="",setTimeout(s)),l+=e)},t.updateReplState=function(e){i(e)};var r=console.log,o=()=>{},i=e=>{};var a,l=null;function s(){null!==l&&(r({print:l}),l=null)}},function(e,t,n){var r=n(5),o=n(67),i=n(21),a=r("unscopables"),l=Array.prototype;null==l[a]&&i.f(l,a,{configurable:!0,value:o(null)}),e.exports=function(e){l[a][e]=!0}},function(e,t,n){var r=n(18),o=n(4),i=n(94),a=n(203),l=n(21).f,s=n(82).f,c=n(102),p=n(103),u=n(152),d=n(23),f=n(7),v=n(29).set,m=n(86),h=n(5)("match"),g=o.RegExp,_=g.prototype,y=/a/g,b=/a/g,k=new g(y)!==y,S=u.UNSUPPORTED_Y;if(r&&i("RegExp",!k||S||f((function(){return b[h]=!1,g(y)!=y||g(b)==b||"/a/i"!=g(y,"i")})))){for(var w=function(e,t){var n,r=this instanceof w,o=c(e),i=void 0===t;if(!r&&o&&e.constructor===w&&i)return e;k?o&&!i&&(e=e.source):e instanceof w&&(i&&(t=p.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var l=a(k?new g(e,t):g(e,t),r?this:_,w);return S&&n&&v(l,{sticky:n}),l},C=function(e){e in w||l(w,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},O=s(g),P=0;O.length>P;)C(O[P++]);_.constructor=w,w.prototype=_,d(o,"RegExp",w)}m("RegExp")},function(e,t,n){var r=n(15),o=n(123),i=n(5)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i;n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.appendSvgSpinner=function(e){var t,n,r;if(null!==(t=l)&&void 0!==t||(l=document.getElementById("loadingSpinner")),null!==(n=i)&&void 0!==n||(i=null===(r=l)||void 0===r?void 0:r.querySelector("svg")),!i)return;e.appendChild(i.cloneNode(!0))},t.checkForBackgroundImage=s,t.getBodySpinner=u,t.setLoading=function(e,t){var n;null===(n=u())||void 0===n||n.setLoading(!!e,t)},t.SpinnerLoader=void 0;var a,l=null;function s(e){var t=t=>getComputedStyle(e,t).backgroundImage,n=e.querySelector("svg");if(n){for(var r of[void 0,"::after","::before"])if("none"!==t(r))return void n.style.setProperty("display","none");n.style.removeProperty("display")}}var c=new WeakMap;class p{static getOrCreate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.get(e);if(n)return n;var r=new p(e,t);return c.set(e,r),r}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,"el",void 0),o(this,"options",void 0),o(this,"timeout",void 0),o(this,"animation",null),o(this,"refCount",0),this.el=e,this.options=t}get opacity(){return+(getComputedStyle(this.el).opacity||"1")}commitStyles(){if(this.animation){try{this.animation.commitStyles()}catch(e){console.error(e)}this.animation.cancel()}}animate(e,t){var n,r;this.el.style.display="block",this.commitStyles();var o=this.opacity;this.animation=null===(n=(r=this.el).animate)||void 0===n?void 0:n.call(r,[{opacity:o},{opacity:e}],{duration:t,fill:"forwards"});var i=()=>{var t,n;(this.commitStyles(),0===e&&(this.el.style.display="none"),0===this.refCount)&&(null===(t=(n=this.options).onFinish)||void 0===t||t.call(n));this.animation=null};this.animation?this.animation.onfinish=i:(clearTimeout(this.timeout),this.timeout=setTimeout(i,t))}fadeIn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;this.animate(1,e)}fadeOut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;this.animate(0,e)}setLoading(e){var t,n,{animate:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.refCount;(e?this.refCount++:this.refCount--,r)&&(0===o&&this.refCount>0?(null===(t=(n=this.options).onStart)||void 0===t||t.call(n),s(this.el),this.fadeIn()):o>0&&0===this.refCount&&this.fadeOut())}withIndicator(e){var t,n=this;return(t=function*(){n.setLoading(!0),yield e,n.setLoading(!1)},function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function l(e){r(a,o,i,l,s,"next",e)}function s(e){r(a,o,i,l,s,"throw",e)}l(void 0)}))})()}}function u(){var e,t;if(null!==(e=l)&&void 0!==e||(l=document.getElementById("loadingSpinner")),l)return null!==(t=a)&&void 0!==t||(a=p.getOrCreate(l)),a}t.SpinnerLoader=p},function(e,t,n){var r=n(40),o=n(165),i=n(97),a=n(75),l=n(132),s=n(33),c=n(167),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=a(e),t=l(t,!0),c)try{return p(e,t)}catch(e){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(24),o=n(98),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(40),o=n(24),i=n(168);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(26),o=n(47),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(135),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r,o,i,a=n(231),l=n(26),s=n(47),c=n(48),p=n(33),u=n(135),d=n(136),f=n(138),v=l.WeakMap;if(a){var m=u.state||(u.state=new v),h=m.get,g=m.has,_=m.set;r=function(e,t){return t.facade=e,_.call(m,e,t),t},o=function(e){return h.call(m,e)||{}},i=function(e){return g.call(m,e)}}else{var y=d("state");f[y]=!0,r=function(e,t){return t.facade=e,c(e,y,t),t},o=function(e){return p(e,y)?e[y]:{}},i=function(e){return p(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(137),o=n(135);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(33),o=n(232),i=n(164),a=n(49);e.exports=function(e,t){for(var n=o(t),l=a.f,s=i.f,c=0;c<n.length;c++){var p=n[c];r(e,p)||l(e,p,s(t,p))}}},function(e,t,n){var r=n(33),o=n(75),i=n(235).indexOf,a=n(138);e.exports=function(e,t){var n,l=o(e),s=0,c=[];for(n in l)!r(a,n)&&r(l,n)&&c.push(n);for(;t.length>s;)r(l,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(100),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(75),o=n(237),i=n(141),a=n(170),l=n(241),s="Array Iterator",c=a.set,p=a.getterFor(s);e.exports=l(Array,"Array",(function(e,t){c(this,{type:s,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(24);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r,o=n(41),i=n(239),a=n(140),l=n(138),s=n(240),c=n(168),p=n(136),u="prototype",d="script",f=p("IE_PROTO"),v=function(){},m=function(e){return"<"+d+">"+e+"</"+d+">"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,n;h=r?function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):(t=c("iframe"),n="java"+d+":",t.style.display="none",s.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F);for(var o=a.length;o--;)delete h[u][a[o]];return h()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[u]=o(e),n=new v,v[u]=null,n[f]=e):n=h(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(174),o=n(140);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){"use strict";var r,o,i,a=n(24),l=n(182),s=n(48),c=n(33),p=n(37),u=n(137),d=p("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):f=!0);var v=null==r||a((function(){var e={};return r[d].call(e)!==e}));v&&(r={}),u&&!v||c(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(33),o=n(142),i=n(136),a=n(243),l=i("IE_PROTO"),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(49).f,o=n(33),i=n(37)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(41);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(24);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){"use strict";n(257);var r=n(133),o=n(24),i=n(37),a=n(101),l=n(48),s=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p="$0"==="a".replace(/./,"$0"),u=i("replace"),d=!!/./[u]&&""===/./[u]("a","$0"),f=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var v=i(e),m=!o((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),h=m&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!m||!h||"replace"===e&&(!c||!p||d)||"split"===e&&!f){var g=/./[v],_=n(v,""[e],(function(e,t,n,r,o){return t.exec===a?m&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=_[0],b=_[1];r(String.prototype,e,y),r(RegExp.prototype,v,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&l(RegExp.prototype[v],"sham",!0)}},function(e,t,n){"use strict";var r=n(258).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(98),o=n(101);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){var r=n(4),o=n(78),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){var r=n(35),o=n(82),i=n(115),a=n(11);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(4);e.exports=r},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r=n(116);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(7);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(15);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(7),o=n(5),i=n(146),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r={};r[n(5)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r,o,i,a,l,s,c,p,u=n(4),d=n(58).f,f=n(125).set,v=n(126),m=n(200),h=n(88),g=u.MutationObserver||u.WebKitMutationObserver,_=u.document,y=u.process,b=u.Promise,k=d(u,"queueMicrotask"),S=k&&k.value;S||(r=function(){var e,t;for(h&&(e=y.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},v||h||m||!g||!_?b&&b.resolve?(c=b.resolve(void 0),p=c.then,a=function(){p.call(c,r)}):a=h?function(){y.nextTick(r)}:function(){f.call(u,r)}:(l=!0,s=_.createTextNode(""),new g(r).observe(s,{characterData:!0}),a=function(){s.data=l=!l})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,n){var r=n(85);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(4);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var r=n(15),o=n(68);e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},function(e,t,n){"use strict";var r=n(12),o=n(69);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";n(57),n(0),n(19),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BOOTSTRAP_MODAL_BG=void 0;var r=n(9);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){e.offsetHeight}var l=Symbol();class s{constructor(){i(this,l,{})}on(e,t){var n,r;(null!==(r=(n=this[l])[e])&&void 0!==r?r:n[e]=new Set).add(t)}removeListener(e,t){var n;null===(n=this[l][e])||void 0===n||n.delete(t)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o of null!==(i=this[l][e])&&void 0!==i?i:[]){var i;o.apply(this,n)}}once(e,t){var n=this;this.on(e,(function r(){n.removeListener(e,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t.apply(n,i)}))}}var c,p={backdrop:!0,keyboard:!0,show:!0,id:void 0,large:null,title:null,dismissible:!0,body:!0,buttons:[]},u="fade",d="in";function*f(e){if(e)for(yield e;e=e.parentNode;)yield e}t.BOOTSTRAP_MODAL_BG=1040;var v="z-index: ".concat(1040,";"),m={style:"display: none;"};function h(e){var{id:t,large:n,title:r,footer:i,dismissible:a,body:l}=e;t=t?"string"==typeof t?t:"alert-modal-"+t:"alert-modal";var s=null==l?m:{},p=null==r?m:{},u=i?{}:m,d=a?{}:m,f=null==n?"":"".concat(c,"modal-").concat(n?"lg":"sm");return PyDefUtils.h("div",{refName:"modal",id:t,className:"".concat(c,"modal ").concat(c,"fade ").concat(c,"alert-modal"),style:v},PyDefUtils.h("div",{refName:"modalDialog",className:"".concat(c,"modal-dialog ").concat(f)},PyDefUtils.h("div",{refName:"modalContent",className:"".concat(c,"modal-content")},PyDefUtils.h("div",o({refName:"modalHeader",className:"".concat(c,"modal-header")},p),PyDefUtils.h("button",o({refName:"closeButton",type:"button",className:"".concat(c,"close"),"data-dismiss":"modal"},d),PyDefUtils.h("span",{refName:"closeIcon","aria-hidden":"true"},"×"),PyDefUtils.h("span",{refName:"closeText",className:"".concat(c,"sr-only")},"Close")),PyDefUtils.h("h4",{refName:"modalTitle",className:"".concat(c,"modal-title ").concat(c,"alert-title")},r)),PyDefUtils.h("div",o({refName:"modalBody",className:"".concat(c,"modal-body ").concat("string"==typeof l?c+"alert-text":"")},s),l),PyDefUtils.h("div",o({refName:"modalFooter",className:"".concat(c,"modal-footer")},u)))))}function g(e){var{text:t,style:n}=e;return PyDefUtils.h("button",{refName:"alertBtn",type:"button",className:"".concat(c,"btn ").concat(c,"btn-").concat(n||"default"),"data-dismiss":"modal"},t)}class _ extends s{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),i(this,"el",void 0),i(this,"backdrop",void 0),i(this,"elements",void 0),i(this,"content",void 0),i(this,"buttons",void 0),i(this,"_events",{keydownHandler:()=>{},mousedownHandler:()=>{},clickHandler:()=>{},resizeHandler:()=>{}}),i(this,"_isShown",!1),i(this,"_pointerInContent",!1),i(this,"_scrollbarWidth",function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=t-n.offsetWidth;return document.body.removeChild(e),r}()),i(this,"_bodyIsOverflowing",!1),i(this,"_originalBodyPad",""),i(this,"_options",void 0),null==c&&(c=(0,r.getCssPrefix)(),u=c+u,d=c+d);var t=this._options=Object.assign({},_.options,e),[n,a]=PyDefUtils.h(h,o({},t,{footer:!!t.buttons.length}));this.el=n,this.elements=a,(this.backdrop=document.createElement("div")).className="".concat(c,"modal-backdrop");var{modalFooter:l,modalContent:s}=a;for(var{text:p,style:f,onClick:v}of(this.content=s,this.buttons=[],t.buttons)){var[m]=PyDefUtils.h(g,{text:p,style:f});this.buttons.push(m),l.appendChild(m)}}_setEvents(){this._events.keydownHandler=this._handleKeydown.bind(this),document.body.addEventListener("keydown",this._events.keydownHandler),this._events.mousedownHandler=this._handleMousedown.bind(this),this.el.addEventListener("mousedown",this._events.mousedownHandler),this._events.clickHandler=this._handleClick.bind(this),this.el.addEventListener("click",this._events.clickHandler),this._events.resizeHandler=this._handleResize.bind(this),window.addEventListener("resize",this._events.resizeHandler);for(var e=this._options.buttons,t=this.buttons,n=0;n<t.length;n++){var{onClick:r}=e[n];r&&t[n].addEventListener("click",r)}}_handleMousedown(e){this._pointerInContent=!1;var t=f(e.target);for(var n of t)if(n===this.content){this._pointerInContent=!0;break}}_handleClick(e){var t=f(e.target);for(var n of t){if("HTML"===n.tagName)break;if(!0!==this._options.backdrop&&n===this.el)break;if(n===this.content)break;if("modal"===n.getAttribute("data-dismiss")){this.hide();break}if(!this._pointerInContent&&n===this.el){this.hide();break}}this._pointerInContent=!1}_handleKeydown(e){"Escape"===e.key&&this._options.keyboard&&(this.emit("dismiss",this,e),this.hide())}_handleResize(e){this._resize()}_showElement(){var e=this.el;a(this.el),e.classList.add(d),this._resize(),setTimeout((()=>{this.emit("shown",this)}),300)}_showBackdrop(e){if(!1!==this._options.backdrop){var t=this.backdrop;t.classList.add(u),a(t),t.classList.add(d)}setTimeout(e,150)}show(){if(!this._isShown){this._setEvents(),this._checkScrollbar(),this._setScrollbar(),document.body.classList.add("".concat(c,"modal-open"));var e=this.el;return e.style.display="block",e.scrollTop=0,!1!==this._options.backdrop&&document.body.appendChild(this.backdrop),e.isConnected||document.body.appendChild(e),this.emit("show",this),this._isShown=!0,this._showBackdrop((()=>this._showElement())),this}}toggle(){return this._isShown?this.hide():this.show()}_resize(){var e=this.el,t=e.scrollHeight>document.documentElement.clientHeight;e.style.paddingLeft=!this._bodyIsOverflowing&&t?this._scrollbarWidth+"px":"",e.style.paddingRight=this._bodyIsOverflowing&&!t?this._scrollbarWidth+"px":""}hide(){if(this._isShown){var e=this._options,t=this.backdrop,n=this.el.classList;return this.emit("hide",this),this._isShown=!1,n.remove(d),e.backdrop&&t.classList.remove(d),this._removeEvents(),setTimeout((()=>{document.body.classList.remove("".concat(c,"modal-open")),document.body.style.paddingRight=this._originalBodyPad}),150),setTimeout((()=>{e.backdrop&&t.remove(),this.el.style.display="none",this.emit("hidden",this),this.el.remove()}),300),this}}_removeEvents(){document.body.removeEventListener("keydown",this._events.keydownHandler),this.el.removeEventListener("mousedown",this._events.mousedownHandler),this.el.removeEventListener("click",this._events.clickHandler),window.removeEventListener("resize",this._events.resizeHandler);for(var e=this._options.buttons,t=this.buttons,n=0;n<t.length;n++){var{onClick:r}=e[n];r&&t[n].removeEventListener("click",r)}}_checkScrollbar(){this._bodyIsOverflowing=document.body.clientWidth<window.innerWidth}_setScrollbar(){if(this._originalBodyPad=document.body.style.paddingRight||"",this._bodyIsOverflowing){var e=parseInt(this._originalBodyPad||"0",10);document.body.style.paddingRight=e+this._scrollbarWidth+"px"}}}i(_,"options",p);var y=_;t.default=y,window.anvilModal=_},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}n(10),n(39),window.messages=window.messages||{},$((function(){var e;window.addEventListener("message",function(){var e,t=(e=function*(e){if(e.data&&(e.origin==window.anvilParams.ideOrigin||window.anvilAppOrigin.startsWith(e.origin))){var t,n=window.messages[e.data.fn];try{n?t={result:yield n.call(window.messages,e.data.args)}:console.debug("Message not recognised:",e.data)}catch(e){console.error(e,e.stack||"(no stack trace)"),t=e instanceof Sk.builtin.BaseException?{fn:"pythonError",traceback:e.traceback,type:e.tp$name,msg:Sk.ffi.remapToJs(e.args)[0]}:{error:""+e}}t&&(t.requestId=e.data.requestId,window.parent!==window?window.parent.postMessage(t,e.origin):window.opener&&window.opener.postMessage(t,e.origin))}},function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function l(e){r(a,o,i,l,s,"next",e)}function s(e){r(a,o,i,l,s,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}()),window.parent.postMessage({fn:"ready"},"*"),null===(e=window.opener)||void 0===e||e.postMessage({fn:"ready"},"*")}))},function(e,t,n){"use strict";n(3),Object.defineProperty(t,"__esModule",{value:!0}),t.setDesignerApi=function(e){t.designerApi=l=e,s.in_designer=i.pyTrue},t.pyDesignerApi=t.designerApi=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},i=n(6);var a=function(){throw new Error("UI designer not available")},l={inDesigner:!1,getDesignName:e=>null,updateComponentProperties:a,updateComponentSections:()=>null,startEditingSubform:a,startInlineEditing:a,startEditingForm:a,registerInteraction:()=>null,notifyInteractionsChanged:()=>null,notifyDomNodeChanged:()=>null,getDesignerState:a,getDesignComponent:e=>e,requestFormPropertyChange:()=>null};t.designerApi=l;var s={__name__:new i.pyStr("designer"),in_designer:i.pyFalse};t.pyDesignerApi=s,(0,i.setUpModuleMethods)("designer",s,{get_design_name:{$meth:e=>(0,i.toPy)(l.getDesignName(e)),$flags:{OneArg:!0}},update_component_properties:{$meth:(e,t,n)=>(l.updateComponentProperties(e,(0,i.toJs)(t),(0,i.toJs)(n)),i.pyNone),$flags:{NamedArgs:["component","properties","layout_properties"],Defaults:[new i.pyDict,new i.pyDict]}},update_component_sections:{$meth:(e,t)=>(l.updateComponentSections(e,t&&t!==i.pyNone&&(0,i.toJs)(t)),i.pyNone),$flags:{NamedArgs:["component","section_updates"],Defaults:[i.pyNone]}},start_editing_subform:{$meth:e=>(l.startEditingSubform(e),i.pyNone),$flags:{OneArg:!0}},start_editing_form:{$meth:(e,t)=>((0,i.checkString)(t)&&l.startEditingForm(e,t.toString()),i.pyNone),$flags:{NamedArgs:["requesting_component","form_property_value"]}},register_interaction:{$meth:(e,t,n,r)=>n!==i.pyNone&&"dblclick"!==n.toString()?i.pyNone:(0,i.chainOrSuspend)((0,i.toJs)(t)||e.anvil$hooks.setupDom(),(t=>(l.registerInteraction(e,t,"dblclick",(e=>o.default.callAsync(r,void 0,void 0,void 0,(0,i.toPy)(e)))),i.pyNone))),$flags:{NamedArgs:["component","dom_element","event","callback"],Defaults:[new i.pyStr("dblclick"),i.pyNone]}},notify_interactions_changed:{$meth:e=>(l.notifyInteractionsChanged(e),i.pyNone),$flags:{OneArg:!0}},get_design_component:{$meth:e=>l.getDesignComponent(e),$flags:{OneArg:!0}},request_form_property_change:{$meth:(e,t,n,r)=>((0,i.checkString)(t)&&l.requestFormPropertyChange(e,t.toString(),n.toString(),(0,i.toJs)(r)),i.pyNone),$flags:{NamedArgs:["requesting_component","form","property_name","property_value"]}},start_inline_editing:{$meth:(e,t,n)=>(0,i.checkString)(t)?(0,i.chainOrSuspend)((0,i.toJs)(n)||e.anvil$hooks.setupDom(),(n=>(l.startInlineEditing(e,{name:(0,i.toJs)(t),type:"string"},n,{}),i.pyNone))):i.pyNone,$flags:{NamedArgs:["component","property_name","dom_element"],Defaults:[i.pyNone]}}})},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var r=n(36),o=n(17);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(90).charAt,o=n(29),i=n(120),a="String Iterator",l=o.set,s=o.getterFor(a);i(String,"String",(function(e){l(this,{type:a,string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(45),o=n(31),i=n(213),a=n(96),l=n(17),s=n(84),c=n(55);e.exports=function(e){var t,n,p,u,d,f,v=o(e),m="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,_=void 0!==g,y=c(v),b=0;if(_&&(g=r(g,h>2?arguments[2]:void 0,2)),null==y||m==Array&&a(y))for(n=new m(t=l(v.length));t>b;b++)f=_?g(v[b],b):v[b],s(n,b,f);else for(d=(u=y.call(v)).next,n=new m;!(p=d.call(u)).done;b++)f=_?i(u,g,[p.value,b],!0):p.value,s(n,b,f);return n.length=b,n}},function(e,t,n){var r=n(11),o=n(124);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){throw o(e),t}}},function(e,t,n){"use strict";var r=2147483647,o=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",l=Math.floor,s=String.fromCharCode,c=function(e){return e+22+75*(e<26)},p=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;r+=36)e=l(e/35);return l(r+36*e/(e+38))},u=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e);var n,o,i=e.length,u=128,d=0,f=72;for(n=0;n<e.length;n++)(o=e[n])<128&&t.push(s(o));var v=t.length,m=v;for(v&&t.push("-");m<i;){var h=r;for(n=0;n<e.length;n++)(o=e[n])>=u&&o<h&&(h=o);var g=m+1;if(h-u>l((r-d)/g))throw RangeError(a);for(d+=(h-u)*g,u=h,n=0;n<e.length;n++){if((o=e[n])<u&&++d>r)throw RangeError(a);if(o==u){for(var _=d,y=36;;y+=36){var b=y<=f?1:y>=f+26?26:y-f;if(_<b)break;var k=_-b,S=36-b;t.push(s(c(b+k%S))),_=l(k/S)}t.push(s(c(_))),f=p(d,g,m==v),d=0,++m}}++d,++u}return t.join("")};e.exports=function(e){var t,n,r=[],a=e.toLowerCase().replace(i,".").split(".");for(t=0;t<a.length;t++)n=a[t],r.push(o.test(n)?"xn--"+u(n):n);return r.join(".")}},function(e,t,n){"use strict";n(0);var r=n(12),o=n(35),i=n(128),a=n(23),l=n(95),s=n(44),c=n(121),p=n(29),u=n(59),d=n(14),f=n(45),v=n(72),m=n(11),h=n(15),g=n(67),_=n(42),y=n(216),b=n(55),k=n(5),S=o("fetch"),w=o("Headers"),C=k("iterator"),O="URLSearchParams",P=O+"Iterator",x=p.set,T=p.getterFor(O),E=p.getterFor(P),j=/\+/g,$=Array(4),A=function(e){return $[e-1]||($[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},M=function(e){try{return decodeURIComponent(e)}catch(t){return e}},N=function(e){var t=e.replace(j," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(A(n--),M);return t}},L=/[!'()~]|%20/g,I={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return I[e]},V=function(e){return encodeURIComponent(e).replace(L,D)},F=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:N(r.shift()),value:N(r.join("="))}))},R=function(e){this.entries.length=0,F(this.entries,e)},G=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=c((function(e,t){x(this,{type:P,iterator:y(T(e).entries),kind:t})}),"Iterator",(function(){var e=E(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),H=function(){u(this,H,O);var e,t,n,r,o,i,a,l,s,c=arguments.length>0?arguments[0]:void 0,p=[];if(x(this,{type:O,entries:p,updateURL:function(){},updateSearchParams:R}),void 0!==c)if(h(c))if("function"==typeof(e=b(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((a=(i=(o=y(m(r.value))).next).call(o)).done||(l=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:l.value+""})}else for(s in c)d(c,s)&&p.push({key:s,value:c[s]+""});else F(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},U=H.prototype;l(U,{append:function(e,t){G(arguments.length,2);var n=T(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){G(arguments.length,1);for(var t=T(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){G(arguments.length,1);for(var t=T(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){G(arguments.length,1);for(var t=T(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){G(arguments.length,1);for(var t=T(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){G(arguments.length,1);for(var n,r=T(this),o=r.entries,i=!1,a=e+"",l=t+"",s=0;s<o.length;s++)(n=o[s]).key===a&&(i?o.splice(s--,1):(i=!0,n.value=l));i||o.push({key:a,value:l}),r.updateURL()},sort:function(){var e,t,n,r=T(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=T(this).entries,r=f(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),a(U,C,U.entries),a(U,"toString",(function(){for(var e,t=T(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(V(e.key)+"="+V(e.value));return n.join("&")}),{enumerable:!0}),s(H,O),r({global:!0,forced:!i},{URLSearchParams:H}),i||"function"!=typeof S||"function"!=typeof w||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(h(t=arguments[1])&&(n=t.body,v(n)===O&&((r=t.headers?new w(t.headers):new w).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:_(0,String(n)),headers:_(0,r)}))),o.push(t)),S.apply(this,o)}}),e.exports={URLSearchParams:H,getState:T}},function(e,t,n){var r=n(11),o=n(55);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){var r=n(27),o="["+n(156)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},function(e,t,n){"use strict";var r=n(12),o=n(217).trim;r({target:"String",proto:!0,forced:n(303)("trim")},{trim:function(){return o(this)}})},function(e,t,n){"use strict";n(0),n(56),n(3),n(34),n(39),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentClass=
/*!defClass(anvil,Slot)!*/
/*!hideClassBehindAB(anvil,Slot,runtimeV3)!*/
function(e,t){var n=e.match(/^form:(?:([^:]+):)?([^:]*)$/);if(!n)return l.anvilMod[e];var[o,a,s]=n,c=a?i.data.logicalDepIds[a]:null,p=c?i.data.app.dependency_code[c].package_name:t?i.data.app.dependency_code[t].package_name:i.data.appPackage;if(!p)throw'Missing dependency with ID "'.concat(c||a,'"');var[u,d,f]=s.match(/^(.+\.)?([^.]+)$/),v="".concat(p,".").concat(d||"").concat(f);return(0,r.chainOrSuspend)((0,r.tryCatchOrSuspend)((()=>(0,l.getModule)(v,!0)),(e=>{throw window.onerror(null,null,null,null,e),"Error importing ".concat(v,": ").concat((0,l.strError)(e))})),(()=>(0,l.importFrom)(v,f)))},t.WithLayout=t.Slot=void 0;var r=n(6),o=n(28),i=n(74),a=n(129),l=n(8);function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,o,i){return{getPyTarget:e,pyLayoutProps:n,insertionIndex:t,components:[],oneComponent:o,templateSpec:i,lastUse:null,earlierSlots:[],canAddComponent(){return 0===this.components.length||!this.oneComponent},fillCache(){return this.cache||(0,r.chainOrSuspend)(e(),(e=>{var t;return(0,r.chainOrSuspend)(null===(t=e._slotState)||void 0===t?void 0:t.fillCache(),(()=>{var t=Sk.abstr.gattr(e,l.s_add_component);return this.cache={pyTarget:e,pyAddComponent:t,hooks:e.anvil$hooks||e._slotState}}))}))},calculateOffset(){var e=0;for(var t of this.earlierSlots)e+=t._slotState.components.length;return e},enableDropMode(e){var t,n,o,i,a=(e.pyLayoutProperties||new r.pyDict).nb$or(this.pyLayoutProps),l=this.calculateOffset(),c=(null===(t=this.cache)||void 0===t||null===(n=(o=t.hooks).enableDropMode)||void 0===n?void 0:n.call(o,p(p({},e),{},{pyLayoutProperties:a,minChildIdx:this.insertionIndex+l,maxChildIdx:this.insertionIndex+l+this.components.length})))||[],u=c.filter((e=>{var{element:t,dropInfo:{minChildIdx:n,maxChildIdx:o,layout_properties:i}={}}=e;return(void 0===n&&void 0===o||void 0===o&&void 0!==n&&n<=this.insertionIndex+l+this.components.length||void 0===n&&void 0!==o&&o>=this.insertionIndex+l||void 0!==n&&void 0!==o&&n<=this.insertionIndex+l+this.components.length&&o>=this.insertionIndex+l)&&this.pyLayoutProps.$items().every((e=>{var[t,n]=e;return Sk.misceval.richCompareBool((0,r.toPy)(null==i?void 0:i[t.toString()]),n,"Eq")}))})).map((e=>{var{dropInfo:{minChildIdx:t,maxChildIdx:n,layout_properties:o}={}}=e,i=s(e.dropInfo,["minChildIdx","maxChildIdx","layout_properties"]);return p(p({},s(e,["dropInfo"])),{},{dropInfo:p(p({},i),{},{layout_properties:Object.fromEntries(Object.entries(null!=o?o:{}).filter((e=>{var[t,n]=e;return!this.pyLayoutProps.quick$lookup(new r.pyStr(t))}))),minChildIdx:void 0===t?void 0:Math.max(t-this.insertionIndex-l,0),maxChildIdx:void 0===n?void 0:Math.min(n-this.insertionIndex-l,this.components.length),_originalMinChildIdx:t,_originalMaxChildIdx:n})})}));return console.log((0,r.toJs)(this.pyLayoutProps),"got DZs from parent",c,"with offset",l,"target",null===(i=this.cache)||void 0===i?void 0:i.pyTarget,"insertion idx",this.insertionIndex,"components",this.components.length,"Filtered DZs:",u),u},disableDropMode(){var e;null===(e=this.cache)||void 0===e||e.hooks.disableDropMode()},getContainerDesignInfo(e){var t,o,i,a=null===(t=this.cache)||void 0===t||null===(o=(i=t.hooks).getContainerDesignInfo)||void 0===o?void 0:o.call(i,e);return p(p({},a||{}),{},{layoutPropertyDescriptions:((null==a?void 0:a.layoutPropertyDescriptions)||[]).filter((e=>!n.quick$lookup(new r.pyStr(e.name))))})}}}var f=Sk.abstr.buildNativeClass("anvil.Slot",{constructor:function(e,t,n,o,i){e&&(this._slotState=d(e,t,(0,r.toPy)(n||{}),!!o,i))},slots:{tp$init(e,t){Sk.abstr.checkArgsLen("Slot",e,2,3);var[n,o,i,a]=e,s=(0,r.toJs)(o);if("number"!=typeof s)throw new Sk.builtin.TypeError("the second argument (insertion index) should be an integer");if(!(i instanceof Sk.builtin.dict))throw new Sk.builtin.TypeError("the third argument (layout properties) should be a dict");if(a&&!(a instanceof Sk.builtin.dict)&&a!==r.pyNone)throw new Sk.builtin.TypeError("the third argument (template spec) should be a dict or None");var{one_component:c}=(0,l.kwToObj)(t);this._slotState=d((()=>n),s,i,(0,r.isTrue)(c),(0,r.toJs)(a))}},methods:{add_component:{$meth(e,t){Sk.abstr.checkArgsLen("add_component",e,1,1);var[n]=e,o=(0,l.kwToObj)(t),{_slotState:i}=this;for(var[a,s]of i.pyLayoutProps.$items())o[a.toString()]=s;var c=o.index?(0,r.toJs)(o.index):i.components.length;if("number"!=typeof c)throw new Sk.builtin.ValueError("index= must be a number");var p=i.calculateOffset();o.index=new Sk.builtin.int_(c+i.insertionIndex+p);var u=(0,l.objToKw)(o);if(!i.canAddComponent())throw new Sk.builtin.ValueError("There is already a component in this slot");return i.lastUse=n,(0,r.chainOrSuspend)(i.fillCache(),(e=>{var{pyAddComponent:t}=e;return Sk.misceval.callsimOrSuspendArray(t,[n],u)}),(()=>(n.anvilComponent$onRemove((()=>{i.components=i.components.filter((e=>e!==n))})),i.components.push(n),r.pyNone)))},$flags:{FastCall:!0}},get_components:{$meth(){return new r.pyList([...this._slotState.components])},$flags:{NoArgs:!0}},clear:{$meth(){for(var e of[...this._slotState.components])Sk.misceval.callsim(Sk.abstr.gattr(e,l.s_remove_from_parent));return this._slotState.components=[],r.pyNone},$flags:{NoArgs:!0}},offset_by_slot:{$meth(e){Sk.abstr.checkArgsLen("offset_by_slot",e,1,1);var[t]=e;return this._slotState.earlierSlots.push(t),r.pyNone},$flags:{FastCall:!0}}}});
/*!defMethod(_,target_container,insertion_index,[layout_properties])!2*/t.Slot=f;var v=Sk.abstr.buildNativeClass("anvil.WithLayout",{constructor:function(){this.$d=new r.pyDict},base:o.Component,slots:{tp$new(e,t){var{_withLayoutSubclass:n}=this.constructor,i=o.Component.prototype.tp$new.call(this,[]),[a,s]=e,c=(0,r.checkCallable)(a)?(e,t)=>a.tp$call([e,t]):void 0,p=(0,r.checkCallable)(s)?(e,t)=>s.tp$call([e,t]):void 0;i._withLayout={kwargs:t,onAssociate:c,onDissociate:p,domElement:null,_pyLayout:null,_withLayoutSubclass:n,get pyLayout(){return this._pyLayout},set pyLayout(e){this._pyLayout&&delete this._pyLayout._Component.portalParent,this._pyLayout=e,i.$setupPageState()}};var u=function(e){(0,o.addEventHandler)(i,e,(()=>i.$requireLayout((t=>(0,o.raiseEventOrSuspend)(t,e)))))};for(var d of[l.s_x_anvil_page_added,l.s_x_anvil_page_removed,l.s_x_anvil_page_shown,l.s_x_anvil_page_hidden])u(d);return(0,o.addEventHandler)(i,l.s_x_anvil_classic_show,(()=>(0,o.raiseEventOrSuspend)(i,l.s_show))),(0,o.addEventHandler)(i,l.s_x_anvil_classic_hide,(()=>(0,o.raiseEventOrSuspend)(i,l.s_hide))),i},tp$init(e,t){var[n,o]=e;n&&(this._withLayout.onAssociate=(e,t)=>(0,r.pyCallOrSuspend)(n,[e,t])),o&&(this._withLayout.onDissociate=(e,t)=>(0,r.pyCallOrSuspend)(o,[e,t])),t&&0!==t.length&&(this._withLayout.kwargs=t)}},proto:{$requireLayout(e){return(0,r.chainOrSuspend)(Sk.abstr.gattr(this,l.s_layout,!0),(t=>(0,r.chainOrSuspend)(t.anvil$hooks.setupDom(),(()=>e(t)))))},$setupPageState(){var e,t,n=this._Component.pageState,r=this._withLayout.pyLayout;if(r){var o=r._Component.pageState;o.ancestorsVisible=n.ancestorsVisible&&n.currentlyVisible,o.ancestorsMounted=n.ancestorsMounted&&n.currentlyMounted,o.currentlyMounted=!0,Object.defineProperty(r._Component,"portalParent",{get:()=>this._Component.parent,configurable:!0}),null===(e=this._Component.parent)||void 0===e||null===(t=e.setVisibility)||void 0===t||t.call(e,o.currentlyVisible)}},anvil$hookSpec:{setupDom(){return this._withLayout.domElement||this.$requireLayout((e=>this._withLayout.domElement=e.anvil$hooks.domElement))},getDomElement(){return this._withLayout.domElement},getEvents:()=>[{name:"show",description:"When the form is shown on the page",parameters:[],important:!0},{name:"hide",description:"When the form is hidden on the page",parameters:[],important:!0}]}},flags:{sk$klass:!0},classmethods:{__init_subclass__:{$meth(e,t){var n,i=(0,l.kwargsToPyMap)(t),s=i.layout;if((e=>!!e&&"string"==typeof e.type)(s)){var{type:c,defaultDepId:p}=s,u=c.startsWith("form:");this._withLayoutSubclass={layout:u?{type:"form",formSpec:(0,a.resolveFormSpec)(c.substring(5),p)}:{type:"builtin",name:c}}}else if(s&&s instanceof r.pyType&&(0,r.isTrue)((0,r.pyIsSubclass)(s,o.Component)))delete i.layout,this._withLayoutSubclass={layout:{type:"constructor",constructor:s}};else{if(s||!(null===(n=this.prototype.tp$base)||void 0===n?void 0:n._withLayoutSubclass))throw new Sk.builtin.ValueError("layout= argument to WithLayout must be a subclass of Component");this._withLayoutSubclass=this.prototype.tp$base._withLayoutSubclass}var d=new r.pySuper(v,this).tp$getattr(l.s_init_subclass);return(0,r.pyCallOrSuspend)(d,e,t)},$flags:{FastCall:!0}}},getsets:{layout:{$get(){var{pyLayout:e,kwargs:t,onAssociate:n,_withLayoutSubclass:o}=this._withLayout;if(e)return e;if(!o)return r.pyNone;var i=o.layout;i.type;return(0,r.chainOrSuspend)("form"===i.type?(0,a.getNamedFormInstantiator)(i.formSpec,this):"builtin"===i.type?(0,a.getAnvilComponentInstantiator)({fromYaml:!1,requestingComponent:this},i.name):e=>(0,r.pyCallOrSuspend)(i.constructor,[],e),(e=>e(t)),(e=>(this._withLayout.pyLayout=e,null==n?void 0:n(e,this))),(()=>this._withLayout.pyLayout))},$set(e){var{onAssociate:t,pyLayout:n}=this._withLayout;if(n)throw new Sk.builtin.ValueError("Cannot overwrite the 'layout' property of a form after it has been initialised.");if(null==e)throw new Sk.builtin.AttributeError("Cannot delete the 'layout'.");if(!e.tp$getattr(l.s_slots))throw new Sk.builtin.ValueError("A form's 'layout' property must be set to a layout form, not a ".concat(Sk.abstr.typeName(e)," object."));return this._withLayout.pyLayout=e,null==t?void 0:t(e,this)}},__dict__:Sk.generic.getSetDict}});
/*!defMethod(_)!2*/t.WithLayout=v,
/*!defClass(anvil,WithLayout,Component)!*/
/*!hideClassBehindAB(anvil,WithLayout,runtimeV3)!*/
(0,l.initNativeSubclass)(v)},function(e,t,n){"use strict";function r(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:33}n(0),n(46),n(20),n(60),n(61),e.exports={base64EncStr:function(e){for(var t=2,n="",o=e.length,i=0,a=0;a<o;a++)t=a%3,i|=e.charCodeAt(a)<<(16>>>t&24),2!==t&&e.length-a!=1||(n+=String.fromCharCode(r(i>>>18&63),r(i>>>12&63),r(i>>>6&63),r(63&i)),i=0);return n.substr(0,n.length-2+t)+(2===t?"":1===t?"=":"==")},base64DecToStr:function(e){for(var t=function(e,t){for(var n,r,o,i=e.replace(/[^A-Za-z0-9+/]/g,""),a=i.length,l=t?Math.ceil((3*a+1>>2)/t)*t:3*a+1>>2,s=new Uint8Array(l),c=0,p=0,u=0;u<a;u++)if(r=3&u,c|=((o=i.charCodeAt(u))>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:43===o?62:47===o?63:0)<<6*(3-r),3===r||a-u==1){for(n=0;n<3&&p<l;n++,p++)s[p]=c>>>(16>>>n&24)&255;c=0}return s}(e),n="",r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return n}}},function(e,t,n){"use strict";n(10),Object.defineProperty(t,"__esModule",{value:!0}),t.anvilAppOnline=void 0;var r=n(25);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}var l=7500;function s(){return(s=a((function*(e){var t=new AbortController,{signal:n}=t,r=!1,o=fetch(e,{signal:n});setTimeout((()=>{r||t.abort()}),l);var i=yield o;return r=!0,i}))).apply(this,arguments)}var c=new class{constructor(){o(this,"onLine",navigator.onLine),o(this,"offlineTimeout",5e3),o(this,"lastCheck",0),o(this,"deferredStatus",null)}updateStatus(e){this.onLine=e,this.lastCheck=Date.now(),this.deferredStatus=null}fetchStatus(e){var t=this;return a((function*(){if(e===t.onLine)return t.onLine;if(t.deferredStatus)return t.deferredStatus.promise;var n,o=t.deferredStatus=(0,r.defer)();try{yield function(e){return s.apply(this,arguments)}("_/check-app-online?t="+Date.now()),n=!0}catch(e){n=!1}return o.resolve(n),t.updateStatus(n),n}))()}checkStatus(){var e=this;return a((function*(){return e.lastCheck>Date.now()-e.offlineTimeout?e.onLine:e.fetchStatus()}))()}};function p(){c.updateStatus(navigator.onLine)}t.anvilAppOnline=c,window.anvilAppOnline=c,window.addEventListener("online",p),window.addEventListener("offline",p)},function(e,t,n){"use strict";n(0),n(16),n(46),n(10),n(3),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=function(e,t,n){var r,{knownCapabilities:a,knownLiveObjectMethods:p,knownLiveObjectInstances:d,blobContent:f,commandOrMethod:v,liveObjectSpec:g}=n,_=[],y=new c.SerializationInfo,b=m(e,[],_,y),k=[],S=y.$toJson();if(y.$setTxDataAvailable(!1),b[l.VT_GLOBAL]=m(S,[l.VT_GLOBAL],k,y),null!==(r=b.objects)&&void 0!==r||(b.objects=[]),g)b.liveObjectCall={method:v,id:g.id,backend:g.backend,permissions:g.permissions,mac:g.mac},d[g.backend]={[g.id]:[g]};else{if(!v)throw new o.pyTypeError("anvil.server.call() requires at least one parameter");b.command=v}var w=[...k,..._];return function(e,t,n,r){for(var{knownCapabilities:a,knownLiveObjectMethods:l,knownLiveObjectInstances:c,blobContent:p}=r,d=0;d<t.length;d++){var f=t[d];if((0,s.assertIsPy)(f),f.value.$anvil_isLazyMedia)e.objects.push(u(u({},f.value._spec),{},{path:f.path}));else if((0,s.isInstance)(f.value,i.anvilMod.Media))e.objects.push(h(f,d,n,p));else if((0,s.isInstance)(f.value,i.anvilMod.LiveObjectProxy)){var v,m,g,_=f.value._spec,{backend:y,id:b,permissions:k,mac:S,methods:w}=_,C={path:f.path,type:["LiveObject"],backend:y,id:b,permissions:k,mac:S};w!==l[C.backend]&&(C.methods=w,l[C.backend]=w);var O=null!==(m=c[v=C.backend])&&void 0!==m?m:c[v]={};(null!==(g=O[b])&&void 0!==g?g:O[b]=[]).push(_),e.objects.push(C)}else if((0,s.isInstance)(f.value,i.anvilServerMod.Capability))a.push(f.value),e.objects.push({path:f.path,type:["Capability"],scope:f.value._scope,narrow:f.value._narrow,mac:f.value._mac});else if((0,s.isInstance)(f.value,i.datetimeMod.datetime)){var P=f.value.tp$getattr(s.INTERNED.tzinfo),x=void 0;if(P===o.pyNone||(0,o.pyCall)(P.tp$getattr(s.INTERNED.utcoffset),[f.value])===o.pyNone){var T=(0,o.pyCall)(s.TZ.tzoffset,[],["minutes",(0,o.toPy)(-(new Date).getTimezoneOffset())]);x=(0,o.pyCall)(s.DT.replace,[f.value],["tzinfo",T])}else x=f.value;var E=(0,o.pyCall)(s.DT.strftime,[x,s.DT.datetimeFmtTz]);e.objects.push({path:f.path,type:["DateTime"],value:E.toString()})}else if((0,s.isInstance)(f.value,i.datetimeMod.date)){var j=(0,o.pyCall)(s.DT.strftime,[f.value,s.DT.dateFmt]);e.objects.push({path:f.path,type:["Date"],value:j.toString()})}else if(f.value instanceof o.pyLong)e.objects.push({path:f.path,type:["Long"],value:String(f.value.valueOf())});else if(f.value instanceof o.pyFloat)e.objects.push({path:f.path,type:["Float"],value:""+f.value.valueOf()});else{var $=f.value.ob$type,A="ValueType";$===o.pyType&&($=f.value,A="ClassType");var M=$.anvil$serializableName;M?e.objects.push({path:f.path,type:[A],typeName:M}):(0,s.throwSerializationError)(f)}}}(b,w,t,{knownCapabilities:a,knownLiveObjectMethods:p,knownLiveObjectInstances:d,blobContent:f}),b};var r,o=n(6),i=n(8),a=(r=n(1))&&r.__esModule?r:{default:r},l=n(108),s=n(223),c=n(157);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function v(e,t,n,r,o){n.push(e);var i=m(t,n,r,o);return n.pop(),i}function m(e,t,n,r){var a;if(null==e||null===(a=e.ob$type)||void 0===a?void 0:a.anvil$serializableName)return function(e,t,n,r){var a=e.ob$type.anvil$serializableName;if(!a||!(a in l.pyValueTypes)){var c,p=null!==(c=e.tp$name)&&void 0!==c?c:"[unknown]",u="Type ".concat(p," is not registered with @anvil.server.portable_class.");throw(0,o.pyCall)(i.anvilServerMod.SerializationError,[new o.pyStr(u)])}var d=e.tp$getattr(s.INTERNED.__serialize__);r.$setDefaultKey(a);var f=m(d?(0,o.pyCall)(d,[r]):e.tp$getattr(o.pyStr.$dict),t,n,r);return n.push({path:t.slice(0),value:e}),f}(e,t,n,r);var c=e.valueOf(),p=typeof c;if(null===c)return null;if("number"===p&&Number.isFinite(c))return c;if("string"===p||"boolean"===p)return c;if(JSBI.__isBigInt(c))return n.push({path:t.slice(0),value:new o.pyLong(c)}),null;if(Array.isArray(c)){for(var u=[],d=0;d<c.length;d++)u.push(v(d,c[d],t,n,r));return u}if(e instanceof o.pyDict){var f={};for(var[h,g]of e.$items()){h instanceof o.pyStr||(0,s.throwNonStrKey)(h,t);var _=h.toString();f[_]=v(_,g,t,n,r)}return f}if("object"===p&&Object.getPrototypeOf(e)===Object.prototype){var y={};for(var b in e)y[b]=v(b,e[b],t,n,r);return y}return n.push({path:t.slice(0),value:e}),null}function h(e,t,n,r){return g.apply(this,arguments)}function g(){var e;return e=function*(e,t,n,r){for(var i=yield Promise.all([a.default.callAsync(e.value.tp$getattr(s.INTERNED.get_content_type)),a.default.callAsync(e.value.tp$getattr(s.INTERNED.get_bytes)),a.default.callAsync(e.value.tp$getattr(s.INTERNED.get_name))]),[c,p,u]=i.map(o.toJs),d=e.path,f=(0,s.pyBytesOrStr2ab)(p),v=[],m=0,h=0,g=n+"_"+t;;){var _=Math.min(l.CHUNK_SIZE,f.byteLength-m),y=new DataView(f,m,_),b={type:"CHUNK_HEADER",requestId:n,mediaId:g,chunkIndex:h++,lastChunk:(m+=l.CHUNK_SIZE)>=f.byteLength};if(v.push({json:b,data:y}),b.lastChunk)break}return r.push(v),{path:d,type:["DataMedia"],id:g,name:u,"mime-type":c}},g=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)}))},g.apply(this,arguments)}},function(e,t,n){"use strict";n(0),n(16),n(70),n(46),n(56),n(20),n(60),n(61),Object.defineProperty(t,"__esModule",{value:!0}),t.pythonifyPath=s,t.pyBytesOrStr2ab=function(e){if("string"!=typeof e)return e.buffer;for(var t=e,n=new ArrayBuffer(t.length),r=new Uint8Array(n),o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>255)throw new Sk.builtin.ValueError("Cannot encode unicode character for transfer to server");r[o]=i}return n},t.throwNonStrKey=function(e,t){var n="Cannot use '".concat(e.tp$name,"' objects as the key in a dict when sending to a server-side module; only string keys are allowed (arguments ").concat(s(t),")");throw new r.pyTypeError(n)},t.throwSerializationError=c,t.assertIsPy=function(e){var t;(null===(t=e.value)||void 0===t?void 0:t.sk$object)||c(e)},t.isInstance=function(e,t){return(0,r.isTrue)((0,r.pyIsInstance)(e,t))},t.INTERNED=t.TZ=t.DT=void 0;var r=n(6),o=n(8),i={get dateFromIso(){return delete this.dateFromIso,this.dateFromIso=o.datetimeMod.date.tp$getattr(l.fromisoformat)},get datetimeFromIso(){return delete this.datetimeFromIso,this.datetimeFromIso=o.datetimeMod.datetime.tp$getattr(l.fromisoformat)},get strftime(){return delete this.strftime,this.strftime=o.datetimeMod.date.tp$getattr(l.strftime)},get replace(){return delete this.replace,this.replace=o.datetimeMod.datetime.tp$getattr(l.replace)},datetimeFmt:new r.pyStr("%Y-%m-%d %H:%M:%S.%f"),datetimeFmtTz:new r.pyStr("%Y-%m-%d %H:%M:%S.%f%z"),dateFmt:new r.pyStr("%Y-%m-%d")};t.DT=i;var a={get tzoffset(){return delete this.tzoffset,this.tzoffset=o.tzMod.tzoffset}};t.TZ=a;var l=Object.fromEntries(["__serialize__","__new_deserialized__","__deserialize__","fromisoformat","get_content_type","get_bytes","get_name","replace","strftime","tzinfo","update","utcoffset"].map((e=>[e,new r.pyStr(e)])));function s(e){return e.map((e=>"["+JSON.stringify(e)+"]")).join("")}function c(e){var t,n,i=null!==(t=null===(n=e.value)||void 0===n?void 0:n.tp$name)&&void 0!==t?t:"unexpected",a="Cannot pass ".concat(i," object to a server function: arguments ").concat(s(e.path.slice(1)));throw(0,r.pyCall)(o.anvilServerMod.SerializationError,[new r.pyStr(a)])}t.INTERNED=l},function(e,t,n){"use strict";n(0),n(16),n(10),n(73),n(34),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getOutstandingMedia=function(e){var t={};for(var n of Object.values(e)){var r;if("DataMedia"===(null===(r=n.type)||void 0===r?void 0:r[0])){var{id:o,"mime-type":i,path:a,name:l}=n;t[o]={mime_type:i,path:a,content:[],name:l}}}return t},t.reconstructObjects=function(e,t){return _.apply(this,arguments)};var r,o=n(6),i=n(8),a=(r=n(1))&&r.__esModule?r:{default:r},l=n(108),s=n(223),c=n(157);function p(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,l,"next",e)}function l(e){p(i,r,o,a,l,"throw",e)}a(void 0)}))}}var d=/^(.+)\.[^.]+$/,f={Primitive:e=>(0,o.toPy)(e.value),DataMedia(e,t){var{content:n,mime_type:r,name:a}=t[e.id],l=[new Blob(n,{type:r}),a];return(0,o.pyCall)(i.anvilMod.DataMedia,l)},LazyMedia:e=>(0,o.pyCall)(i.anvilMod.LazyMedia,[e]),LiveObject(e,t,n){for(var r in null!==(a=e.itemCache)&&void 0!==a?a:{}){var a;e.itemCache[r]=v(e.itemCache[r],t,n)}if(e.iterItems&&e.iterItems.items){var l=[];for(var s of null!==(c=e.iterItems.items)&&void 0!==c?c:[]){var c;l.push(v(s,t,n))}e.iterItems.items=l}return e.methods?n[e.backend]=e.methods:e.methods=n[e.backend],(0,o.pyCall)(i.anvilMod.LiveObjectProxy,[e])},Capability:e=>new(0,i.anvilServerMod.Capability)(e.scope,e.mac,null),ValueType:e=>e.typeName,ClassType:e=>e.typeName,Date:e=>(0,o.pyCall)(s.DT.dateFromIso,[new o.pyStr(e.value)]),DateTime(e){var t=e.value,n=t[t.length-5],r=0;"-"!==n&&"+"!==n||(r=60*Number(t.slice(-5,-2))+Number(n+t.slice(-2)),t=t.slice(0,-5));t.length>26&&(t=t.slice(0,26));var i=(0,o.pyCall)(s.TZ.tzoffset,[],["minutes",new o.pyInt(r)]),a=(0,o.pyCall)(s.DT.datetimeFromIso,[new o.pyStr(t)]);return(0,o.pyCall)(s.DT.replace,[a],["tzinfo",i])},Long:e=>new o.pyInt(e.value),Float:e=>new o.pyFloat(e.value)};function v(e,t,n){var r,i;for(var a of e.type){var l=f[a];if(l){r=l(e,t,n);break}}if(void 0===r)throw new o.pyTypeError("Cannot return object of type '"+(null===(i=e.type)||void 0===i?void 0:i[0])+"' from server call");return r}function m(e){var t,n=l.pyValueTypes[e];if(n)return n;var r=null===(t=e.match(d))||void 0===t?void 0:t[1];if(r){var i=(0,o.importModule)(r,!1,!0);return(0,o.suspensionToPromise)((()=>(0,o.chainOrSuspend)(i,(()=>l.pyValueTypes[e]))))}}function h(e,t,n){return g.apply(this,arguments)}function g(){return(g=u((function*(e,t,n){var r,l=yield m(e);if(!l)throw a.default.pyCall(i.anvilServerMod.SerializationError,[new Sk.builtin.str("No such serializable type: "+e)]);var c=l.tp$getattr(s.INTERNED.__new_deserialized__),p=(0,o.toPy)(t);if(c)r=yield(0,o.suspensionToPromise)((()=>(0,o.pyCallOrSuspend)(c,[p,n])));else{var u=(0,o.typeLookup)(l,o.pyStr.$new),d=(r=(0,o.pyCall)(u,[l])).tp$getattr(s.INTERNED.__deserialize__);if(d)yield(0,o.suspensionToPromise)((()=>(0,o.pyCallOrSuspend)(d,[p,n])));else{var f=(0,o.lookupSpecial)(r,o.pyStr.$dict);(0,o.pyCall)(f.tp$getattr(s.INTERNED.update),[p])}}return r}))).apply(this,arguments)}function _(){return _=u((function*(e,t){var n,r=e.objects,o={};for(var i of r){var a=v(i,t,o),s=i.path;if(s.length<1)console.error("Cannot reconstruct zero-length path; ignoring");else{var p=e,u=void 0,d=void 0;for(d of s)u=p,p=p[d];var f=a;if(i.type.includes("ValueType")){var g,_=a;null!==(g=n)&&void 0!==g||(n=new c.SerializationInfo(e.vt_global)),n.$setTxDataAvailable(s[0]!==l.VT_GLOBAL),n.$setDefaultKey(_),f=yield h(_,p,n)}else i.type.includes("ClassType")?f=yield m(a):null!=p&&(console.error("Object reconstruction replacing something that's not a null leaf!",p),console.log(s,p));if(u[d]=f,void 0!==n&&s[0]===l.VT_GLOBAL)try{n.$updatePath(s.slice(1),f)}catch(e){console.error("Failed to update shared data",e)}}}return e})),_.apply(this,arguments)}},function(e,t,n){"use strict";n(0),n(70),n(46),n(10),n(39),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.handleOutput=v,t.handleCookie=m,t.handleBytes=_,t.handleChunkHeader=y,t.handleEvent=b,t.applyCacheUpdates=k,t.applyCapUpdates=S,t.maybeHandleResponse=C,t.handleResponse=P,t.handleMessage=function(e){if(e instanceof Blob||e instanceof ArrayBuffer)return _(e);var t=JSON.parse(e);switch(!0){case"CHUNK_HEADER"===t.type:return y(t);case t.id&&("response"in t||"error"in t):return P(t);case!!t.event:return b(t);case!!t.output:return v(t);case!!t["set-cookie"]:return m();case!!t.error:return window.onerror(null,null,null,null,x(t));default:console.log("Unknown message from server: ",t)}},t.assembleException=void 0;var r,o=n(6),i=n(8),a=(r=n(1))&&r.__esModule?r:{default:r},l=n(108),s=n(224),c=n(110),p=n(109),u=n(159);function d(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))}}function v(e){Sk.output(e.output,!0)}function m(){$.post(window.anvilAppOrigin+"/_/request_cookies?s="+window.anvilSessionToken)}var h=null,g=null;function _(e){h&&g&&(h.content.push(e),C(g)),h=g=null}function y(e){var t,n=p.outstandingRequests[e.requestId],r=n&&n.media[e.mediaId];r?(null!==(t=n.receiveBlobsProfile)&&void 0!==t||(n.receiveBlobsProfile=n.profile.append("Receive blobs")),h=r,g=e.requestId,r.complete=e.lastChunk):console.error("Got binary chunk for unknown request ID "+e.requestId+" / media ID "+e.mediaId)}function b(e){console.log("Server event: ",e);var{name:t,payload:n}=e.event,r=l.pyServerEventHandlers[t];if(r){var i=r.map((e=>()=>(0,o.pyCallOrSuspend)(e,[(0,o.toPy)(n)])));a.default.asyncToPromise((()=>(0,o.chainOrSuspend)(o.pyNone,...i)))}}function k(e){var t,{cacheUpdates:n}=null!==(t=e.response)&&void 0!==t?t:{};if(n)for(var r in n){var i=n[r],a=e.knownLiveObjectInstances[r];if(a)for(var l in i)for(var s of null!==(c=a[l])&&void 0!==c?c:[]){var c;for(var p in s.itemCache={},i[l])s.itemCache[p]=(0,o.toPy)(i[l][p])}}}function S(e){return w.apply(this,arguments)}function w(){return(w=f((function*(e){var t,{capUpdates:n}=null!==(t=e.response)&&void 0!==t?t:{};if(n){var r=[],i={};for(var a in n)i[JSON.stringify(JSON.parse(a))]=n[a];console.log("Capability updates:",i);var l=function(e){var t=e._JSONScope;t in i?(console.log("Update for",t),r.push((()=>e._applyUpdate((0,o.toPy)(i[t]))))):console.log("No update for",t)};for(var s of e.knownCapabilities)l(s);yield(0,o.suspensionToPromise)((()=>(0,o.chainOrSuspend)(null,...r)))}}))).apply(this,arguments)}function C(e){return O.apply(this,arguments)}function O(){return(O=f((function*(e){var t,n,r,i=p.outstandingRequests[e];if((0,c.diagnosticRequest)({id:e,response:!!(null==i?void 0:i.response)}),i){for(var{complete:a}of Object.values(i.media))if(!a)return;if(null===(t=i.receiveBlobsProfile)||void 0===t||t.end(),delete i.receiveBlobsProfile,i.suppressLoading||null===(n=(r=window).setLoading)||void 0===n||n.call(r,!1),(0,p.deleteOutstandingRequest)(e),"response"in i.response){var l,d;if(null===(l=i.response)||void 0===l?void 0:l.importDuration)(0,u.updateReplState)({importTime:null===(d=i.response)||void 0===d?void 0:d.importDuration});try{var f=i.profile.append("Reconstruct objects");yield(0,s.reconstructObjects)(i.response,i.media),null==f||f.end(),k(i),yield S(i);var v=(0,o.toPy)(i.response.response);i.profile.response=i.response,i.profile.print(),i.deferred.resolve(v)}catch(e){i.deferred.reject(e)}}else"error"in i.response?(i.profile.print(),i.deferred.reject(x(i.response))):(i.deferred.reject(new o.pyRuntimeError("Invalid RPC response")),console.error("Response came back without 'response' or 'error' keys: ",i))}else console.error("maybeHandleResponse() called for unknown request ID "+e)}))).apply(this,arguments)}function P(e){var{id:t,objects:n={},profile:r}=e;if(!t.startsWith("client-keepalive")){var o=p.outstandingRequests[t];o?(o.response=e,o.media=(0,s.getOutstandingMedia)(n),r&&o.profile.mergeServerProfile(r),C(t)):console.error("Got response for unknown request ID "+t)}}var x=function(e){var{error:t}=e,{type:n,message:r,trace:a}=t,s=l.pyNamedExceptions[n]||i.anvilServerMod.AnvilWrappedError,c=(0,o.pyCall)(s,[new o.pyStr(r||"[unexpected error]")]);if(a&&c.traceback)for(var[p,u]of a)c.traceback.push({filename:p,lineno:u,fromServer:!0});return c._anvil={errorObj:t},c};t.assembleException=x},function(e,t,n){"use strict";n(0),n(16),n(10),n(32),n(39),n(218),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequest=u,t.executeCallHttp=f,t.doHttpCall=function(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.globalSuppressLoading.value>0;return(0,i.doRpcCall)(e,t,n,o,a,f)};var r=n(25),o=n(225),i=n(109);function a(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)}))}}var s=new TextEncoder;function c(){return(c=l((function*(e,t){t="--"+t;var n=(yield e.text()).split("\r\n"),r=[],o=!1,i=!1,a=null;for(var l of n)l!==t?l||!o?i?("application/json"===a?r.push(l):"application/octet-stream"===a&&r.push(s.encode(l).buffer),i=!1,o=!1):o&&l.startsWith("Content-Type: ")&&(a=l.slice("Content-Type: ".length)):(o=!1,i=!0):(o=!0,i=!1,a=null);return r}))).apply(this,arguments)}function p(){return p=l((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new FormData;n.append("json-data",JSON.stringify(e)),t.forEach(((e,t)=>{e.forEach(((e,r)=>{var{json:o,data:i}=e;n.append("chunk-json-".concat(t,"-").concat(r),JSON.stringify(o));var a=new Blob([i],{type:"application/octet-stream"});n.append("chunk-data-".concat(t,"-").concat(r),a,"chunk-".concat(t,"-").concat(r,".bin"))}))}));var r=yield fetch("".concat(window.anvilAppOrigin,"/_/server-call-http"),{method:"POST",body:n});if(!r.ok)throw new Error(r.statusText);var o=function(e){var t=e.headers.get("Content-Type");if(!t)return null;var n=t.split(";").map((e=>e.trim()));if(n.length<2||!n[0].startsWith("multipart"))return null;var r=n.find((e=>e.startsWith("boundary=")));return r?r.slice("boundary=".length):null}(r);if(!o)throw new Error("unexpected return from server");var i=yield function(e,t){return c.apply(this,arguments)}(r,o);return i})),p.apply(this,arguments)}function u(e,t,n){return d.apply(this,arguments)}function d(){return d=l((function*(e,t,n){var{profile:r,id:o}=e,a=r.append("Send call");yield(0,i.waitForOutstandingRequests)(a),i.outstandingRequests[o]=e;var l=yield function(e){return p.apply(this,arguments)}(t,n);return a.end(),l})),d.apply(this,arguments)}function f(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=l((function*(e,t,n,r){var{id:a,deferred:l}=e;try{var s=yield t,c=yield u(e,s,n);for(var p of c)(0,o.handleMessage)(p)}catch(e){console.error(e),(0,i.deleteOutstandingRequest)(a),r||window.setLoading(!1),l.reject(e)}}))).apply(this,arguments)}},function(e,t,n){"use strict";var r=n(12),o=n(54),i=n(31),a=n(7),l=n(193),s=[],c=s.sort,p=a((function(){s.sort(void 0)})),u=a((function(){s.sort(null)})),d=l("sort");r({target:"Array",proto:!0,forced:p||!u||!d},{sort:function(e){return void 0===e?c.call(i(this)):c.call(i(this),o(e))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SerializationInfo",{enumerable:!0,get:function(){return r.SerializationInfo}}),Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return o.serialize}}),Object.defineProperty(t,"reconstructObjects",{enumerable:!0,get:function(){return i.reconstructObjects}}),Object.defineProperty(t,"doRpcCall",{enumerable:!0,get:function(){return a.doRpcCall}}),Object.defineProperty(t,"doHttpCall",{enumerable:!0,get:function(){return l.doHttpCall}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return s.connect}}),Object.defineProperty(t,"websocket",{enumerable:!0,get:function(){return s.websocket}}),Object.defineProperty(t,"sendLog",{enumerable:!0,get:function(){return c.sendLog}}),Object.defineProperty(t,"pyNamedExceptions",{enumerable:!0,get:function(){return p.pyNamedExceptions}}),Object.defineProperty(t,"pyServerEventHandlers",{enumerable:!0,get:function(){return p.pyServerEventHandlers}}),Object.defineProperty(t,"pyValueTypes",{enumerable:!0,get:function(){return p.pyValueTypes}});var r=n(157),o=n(222),i=n(224),a=n(109),l=n(226),s=n(158),c=n(326),p=n(108)},function(e,t,n){"use strict";n(13),Object.defineProperty(t,"__esModule",{value:!0}),t.setHooks=function(e){p=e},t.uncaughtExceptions=t.isCustomAnvilError=void 0;var r,o=n(6),i=(r=n(206))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1)),l=n(159);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}t.isCustomAnvilError=e=>e._anvil&&e._anvil.errorObj,window.onunhandledrejection=e=>{window.onerror(null,null,null,null,e.reason)};var c={pyHandler:o.pyNone};t.uncaughtExceptions=c;var p={};function u(e){return null!=e.nativeError}$("#error-indicator").on("click",(function(){$("#error-indicator .output").show(),$("#error-indicator .message").hide()})),window.onerror=function(e,t,n,r,i){if(!("string"==typeof e&&e.indexOf("__gCrWeb.autofill.extractForms")>-1))try{var a=Sk.sysmodules.quick$lookup(new Sk.builtin.str("anvil.server"));a||console.error("Error before anvil.server module loaded");var s=null==a?void 0:a.tp$getattr(new o.pyStr("SessionExpiredError"));s&&i instanceof s?(console.log("Well that worked? Did it?"),function(e){v()?m(e,f):f()}(i)):i instanceof Sk.builtin.BaseException?function(e){var t,n,r=(0,o.toJs)(e.args)[0],i=null===(t=e._anvil)||void 0===t?void 0:t.errorObj,a=e.traceback;n=i?i.type:e.tp$name;if(p.onPythonException){var s={fn:"pythonError",traceback:a,type:n,msg:r,errorObj:i};p.onPythonException(s)}console.log("Python exception: "+n+": "+r),u(e)?console.log(e.nativeError):console.log(e);var c={type:n,trace:a.map((e=>{var{filename:t,lineno:n}=e;return[t,n]})),message:r,jsTrace:u(e)?e.nativeError.stack:void 0,bindingErrors:null==i?void 0:i.bindingErrors,anvilVersion:window.anvilVersion};(0,l.logEvent)({error:c}),$("#error-indicator .output").text(n+": "+r),v()?m(e):d()}(i):function(e,t,n,r,o){var i,a;console.error("Uncaught runtime error: "+e+" at "+t+":"+n+", column "+r,o),null===(i=(a=p).onRuntimeError)||void 0===i||i.call(a,e,t,n,r,o);var s={runtimeError:o&&o.constructor&&o.constructor.name||"Unknown error",jsUrl:t,jsLine:n,jsCol:r,message:""+(o||"Unknown error"),jsTrace:o&&o.stack,anvilVersion:window.anvilVersion};if((0,l.logEvent)({error:s}),$("#error-indicator .output").text(""+(e||"Unhandled runtime error")),v())m(new Sk.builtin.ExternalError(null!=o?o:"Unknown error"));else{var c,u;null===(c=(u=p).onUncaughtRuntimeError)||void 0===c||c.call(u,s),d()}}(e,t,n,r,i)}catch(e){console.error("Uncaught error in window.onerror! "),console.error(e)}};var d=()=>{$("#error-indicator").show().stop(!0).css({"padding-left":30,"padding-right":30,right:10}).animate({"padding-left":20,"padding-right":20,right:20},1e3)},f=()=>{document.getElementById("session-expired-modal")||new i.default({id:"session-expired-modal",large:!1,title:"Session Expired",body:"Your session has timed out. Please refresh the page to continue.",buttons:[{text:"Refresh now",style:"danger",onClick:()=>{window.location.reload()}}]}).show()};function v(){return c.pyHandler!==Sk.builtin.none.none$}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;a.callAsyncWithoutDefaultError(c.pyHandler,void 0,void 0,void 0,e).catch((n=>{n===e?t():(c.pyHandler=Sk.builtin.none.none$,window.onerror(null,null,null,null,n))}))}},function(e,t,n){"use strict";var r=n(63),o=n(40),i=n(26),a=n(33),l=n(47),s=n(49).f,c=n(173),p=i.Symbol;if(o&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var u={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new p(e):void 0===e?p():p(e);return""===e&&(u[t]=!0),t};c(d,p);var f=d.prototype=p.prototype;f.constructor=d;var v=f.toString,m="Symbol(test)"==String(p("test")),h=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=v.call(e);if(a(u,e))return"";var n=m?t.slice(7,-1):t.replace(h,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){var r=n(26),o=n(169),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){var r=n(139),o=n(234),i=n(176),a=n(41);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(26);e.exports=r},function(e,t,n){var r=n(174),o=n(140).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(75),o=n(99),i=n(175),a=function(e){return function(t,n,a){var l,s=r(t),c=o(s.length),p=i(a,c);if(e&&n!=n){for(;c>p;)if((l=s[p++])!=l)return!0}else for(;c>p;p++)if((e||p in s)&&s[p]===n)return e||p||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(24),o=/#|\.prototype\./,i=function(e,t){var n=l[a(e)];return n==c||n!=s&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=i.data={},s=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(37),o=n(179),i=n(49),a=r("unscopables"),l=Array.prototype;null==l[a]&&i.f(l,a,{configurable:!0,value:o(null)}),e.exports=function(e){l[a][e]=!0}},function(e,t,n){var r=n(178);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(40),o=n(49),i=n(41),a=n(180);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),l=r.length,s=0;l>s;)o.f(e,n=r[s++],t[n]);return e}},function(e,t,n){var r=n(139);e.exports=r("document","documentElement")},function(e,t,n){"use strict";var r=n(63),o=n(242),i=n(182),a=n(244),l=n(183),s=n(48),c=n(133),p=n(37),u=n(137),d=n(141),f=n(181),v=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,h=p("iterator"),g="keys",_="values",y="entries",b=function(){return this};e.exports=function(e,t,n,p,f,k,S){o(n,t,p);var w,C,O,P=function(e){if(e===f&&$)return $;if(!m&&e in E)return E[e];switch(e){case g:case _:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",T=!1,E=e.prototype,j=E[h]||E["@@iterator"]||f&&E[f],$=!m&&j||P(f),A="Array"==t&&E.entries||j;if(A&&(w=i(A.call(new e)),v!==Object.prototype&&w.next&&(u||i(w)===v||(a?a(w,v):"function"!=typeof w[h]&&s(w,h,b)),l(w,x,!0,!0),u&&(d[x]=b))),f==_&&j&&j.name!==_&&(T=!0,$=function(){return j.call(this)}),u&&!S||E[h]===$||s(E,h,$),d[t]=$,f)if(C={values:P(_),keys:k?$:P(g),entries:P(y)},S)for(O in C)(m||T||!(O in E))&&c(E,O,C[O]);else r({target:t,proto:!0,forced:m||T},C);return C}},function(e,t,n){"use strict";var r=n(181).IteratorPrototype,o=n(179),i=n(97),a=n(183),l=n(141),s=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,c,!1,!0),l[c]=s,e}},function(e,t,n){var r=n(24);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(41),o=n(245);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){var r=n(47);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(63),o=n(47),i=n(247),a=n(175),l=n(99),s=n(75),c=n(248),p=n(37),u=n(249),d=n(252),f=u("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),m=p("species"),h=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!f||!v},{slice:function(e,t){var n,r,p,u=s(this),d=l(u.length),f=a(e,d),v=a(void 0===t?d:t,d);if(i(u)&&("function"!=typeof(n=u.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return h.call(u,f,v);for(r=new(void 0===n?Array:n)(g(v-f,0)),p=0;f<v;f++,p++)f in u&&c(r,p,u[f]);return r.length=p,r}})},function(e,t,n){var r=n(98);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(132),o=n(49),i=n(97);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(24),o=n(37),i=n(250),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r,o,i=n(26),a=n(251),l=i.process,s=l&&l.versions,c=s&&s.v8;c?o=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t,n){var r=n(139);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(40),o=n(24),i=n(33),a=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(i(l,e))return l[e];t||(t={});var n=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,p=i(t,0)?t[0]:s,u=i(t,1)?t[1]:void 0;return l[e]=!!n&&!o((function(){if(c&&!r)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,p,u)}))}},function(e,t,n){var r=n(63),o=n(254);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){"use strict";var r=n(40),o=n(24),i=n(180),a=n(176),l=n(165),s=n(142),c=n(166),p=Object.assign,u=Object.defineProperty;e.exports=!p||o((function(){if(r&&1!==p({b:1},p(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||i(p({},t)).join("")!=o}))?function(e,t){for(var n=s(e),o=arguments.length,p=1,u=a.f,d=l.f;o>p;)for(var f,v=c(arguments[p++]),m=u?i(v).concat(u(v)):i(v),h=m.length,g=0;h>g;)f=m[g++],r&&!d.call(v,f)||(n[f]=v[f]);return n}:p},function(e,t,n){var r=n(40),o=n(49),i=n(184),a=n(185).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},function(e,t,n){"use strict";var r=n(186),o=n(41),i=n(99),a=n(100),l=n(64),s=n(187),c=n(259),p=n(188),u=Math.max,d=Math.min;r("replace",2,(function(e,t,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,m=f?"$":"$0";return[function(n,r){var o=l(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!f&&v||"string"==typeof r&&-1===r.indexOf(m)){var l=n(t,e,this,r);if(l.done)return l.value}var h=o(e),g=String(this),_="function"==typeof r;_||(r=String(r));var y=h.global;if(y){var b=h.unicode;h.lastIndex=0}for(var k=[];;){var S=p(h,g);if(null===S)break;if(k.push(S),!y)break;""===String(S[0])&&(h.lastIndex=s(g,i(h.lastIndex),b))}for(var w,C="",O=0,P=0;P<k.length;P++){S=k[P];for(var x=String(S[0]),T=u(d(a(S.index),g.length),0),E=[],j=1;j<S.length;j++)E.push(void 0===(w=S[j])?w:String(w));var $=S.groups;if(_){var A=[x].concat(E,T,g);void 0!==$&&A.push($);var M=String(r.apply(void 0,A))}else M=c(x,g,T,E,$,r);T>=O&&(C+=g.slice(O,T)+M,O=T+x.length)}return C+g.slice(O)}]}))},function(e,t,n){"use strict";var r=n(63),o=n(101);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var r=n(100),o=n(64),i=function(e){return function(t,n){var i,a,l=String(o(t)),s=r(n),c=l.length;return s<0||s>=c?e?"":void 0:(i=l.charCodeAt(s))<55296||i>56319||s+1===c||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):i:e?l.slice(s,s+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){var r=n(142),o=Math.floor,i="".replace,a=/\$([$&'`]|\d\d?|<[^>]*>)/g,l=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,s,c,p){var u=n+e.length,d=s.length,f=l;return void 0!==c&&(c=r(c),f=a),i.call(p,f,(function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":a=c[i.slice(1,-1)];break;default:var l=+i;if(0===l)return r;if(l>d){var p=o(l/10);return 0===p?r:p<=d?void 0===s[p-1]?i.charAt(1):s[p-1]+i.charAt(1):r}a=s[l-1]}return void 0===a?"":a}))}},function(e,t,n){"use strict";var r=n(186),o=n(261),i=n(41),a=n(64),l=n(262),s=n(187),c=n(99),p=n(188),u=n(101),d=n(24),f=[].push,v=Math.min,m=4294967295,h=!d((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?m:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var l,s,c,p=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,h=new RegExp(e.source,d+"g");(l=u.call(h,r))&&!((s=h.lastIndex)>v&&(p.push(r.slice(v,l.index)),l.length>1&&l.index<r.length&&f.apply(p,l.slice(1)),c=l[0].length,v=s,p.length>=i));)h.lastIndex===l.index&&h.lastIndex++;return v===r.length?!c&&h.test("")||p.push(""):p.push(r.slice(v)),p.length>i?p.slice(0,i):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var u=i(e),d=String(this),f=l(u,RegExp),g=u.unicode,_=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new f(h?u:"^(?:"+u.source+")",_),b=void 0===o?m:o>>>0;if(0===b)return[];if(0===d.length)return null===p(y,d)?[d]:[];for(var k=0,S=0,w=[];S<d.length;){y.lastIndex=h?S:0;var C,O=p(y,h?d:d.slice(S));if(null===O||(C=v(c(y.lastIndex+(h?0:S)),d.length))===k)S=s(d,S,g);else{if(w.push(d.slice(k,S)),w.length===b)return w;for(var P=1;P<=O.length-1;P++)if(w.push(O[P]),w.length===b)return w;S=k=C}}return w.push(d.slice(k)),w}]}),!h)},function(e,t,n){var r=n(47),o=n(98),i=n(37)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(41),o=n(263),i=n(37)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var r=n(63),o=n(265).end,i=n(266)("trimEnd"),a=i?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},function(e,t,n){var r=n(64),o="["+n(189)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},function(e,t,n){var r=n(24),o=n(189);e.exports=function(e){return r((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}},function(e,t,n){var r=n(26),o=n(268),i=n(177),a=n(48),l=n(37),s=l("iterator"),c=l("toStringTag"),p=i.values;for(var u in o){var d=r[u],f=d&&d.prototype;if(f){if(f[s]!==p)try{a(f,s,p)}catch(e){f[s]=p}if(f[c]||a(f,c,u),o[u])for(var v in i)if(f[v]!==i[v])try{a(f,v,i[v])}catch(e){f[v]=i[v]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(31),o=Math.floor,i="".replace,a=/\$([$&'`]|\d\d?|<[^>]*>)/g,l=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,s,c,p){var u=n+e.length,d=s.length,f=l;return void 0!==c&&(c=r(c),f=a),i.call(p,f,(function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":a=c[i.slice(1,-1)];break;default:var l=+i;if(0===l)return r;if(l>d){var p=o(l/10);return 0===p?r:p<=d?void 0===s[p-1]?i.charAt(1):s[p-1]+i.charAt(1):r}a=s[l-1]}return void 0===a?"":a}))}},function(e,t,n){"use strict";var r=n(12),o=n(123),i=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},function(e,t,n){"use strict";n(0),n(3),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setupClsHooks=function(e){d(e.prototype,"anvil$hookSpec")&&function(e){var t=e.prototype,n=t.anvil$hookSpec;for(var o of Object.getOwnPropertyNames(n))if("getDomElement"===o){var i=(0,p[o])(n[o]);e.tp$setattr(new r.pyStr(i.$name),new r.pyGetSetDescriptor(e,i))}else if(o in f){var a=f[o],l=n[o];e.tp$setattr(a,new v(l))}else{var s=c[o];s&&e.tp$setattr(new r.pyStr(s.$name),new r.pyWrapperDescriptor(e,s,n[o]))}}(e)},t.setupInstanceHooks=function(e,t){d(t.prototype,"anvil$hookSpec")?function(e,t){var n=t.prototype,r={},o=n.anvil$hookSpec,i=function(t){var n=_[t],i=o[t].bind(e);n===t?r[n]=i:Object.defineProperty(r,n,{get:()=>i(),set(e){delete r[n],r[n]=e},configurable:!0})};for(var a in o)i(a);e.anvil$hooks=r}(e,t):function(e,t){var n=new Proxy({},{get(n,o){if(o in n)return n[o];var i=g[o];if(void 0!==i){var a=t.$typeLookup(i);if(void 0!==a){var l=a.ob$type;if(l===r.pyWrapperDescriptor)return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a.d$wrapped.call(e,...n)};if(l===r.pyGetSetDescriptor)return a.d$def.$wrapped.call(e);if(l===v)return a.$wrapped.call(e);var s,c,p=null!==(s=null==a||null===(c=a.tp$descr_get)||void 0===c?void 0:c.call(a,e,t))&&void 0!==s?s:a;if(o in h){var u=h[o];return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u((0,r.pyCallOrSuspend)(p,t.map(r.toPy)))}}return(0,r.toJs)(p)}}},set:(e,t,n)=>(e[t]=n,!0)});e.anvil$hooks=n}(e,t)};var r=n(6),o=n(8),i=n(28);function a(e,t){return function(n,o,i){(0,r.checkNoArgs)(e,o,i);var a=this.call(n);return t?(0,r.toPy)((0,r.retryOptionalSuspensionOrThrow)(a)):(0,r.chainOrSuspend)(a,r.toPy)}}var l={NoArgs:!0},s={OneArg:!0},c={setupDom:{$name:"_anvil_setup_dom_",$wrapper:a("_anvil_setup_dom_",!0),$flags:l},updateDesignName:{$name:"_anvil_update_design_name_",$wrapper(e,t,n){return(0,r.checkOneArg)("_anvil_update_design_name_",t,n),(0,r.toPy)(this.call(e,t[0].toString()))},$flags:s},getInteractions:{$name:"_anvil_get_interactions_",$wrapper:a("_anvil_get_interactions_"),$flags:l},getContainerDesignInfo:{$name:"_anvil_get_container_design_info_",$wrapper(e,t,n){(0,r.checkOneArg)("_anvil_get_container_design_info_",t,n);var o=t[0];if(!(o instanceof i.Component))throw new r.pyValueError("for_child must be a Component instance");return(0,r.toPy)(this.call(e,o))},$flags:s},enableDropMode:{$name:"_anvil_enable_drop_mode_",$wrapper(e,t,n){return(0,r.toPy)(this.call(e,(0,r.toJs)(t[0]),(0,r.toJs)(t[1])))},$flags:{MinArgs:2,MaxArgs:2}},disableDropMode:{$name:"_anvil_disable_drop_mode_",$wrapper:a("_anvil_disable_drop_mode_"),$flags:l},updateLayoutProperties:{$name:"_anvil_update_layout_properties_",$wrapper(e,t,n){var[o,a]=(0,r.copyKeywordsToNamedArgs)("_anvil_update_layout_properties_",["for_child","updates"],t,n,[]);if(!(o instanceof i.Component))throw new r.pyValueError("for_child must be a Component instance");if(!(a instanceof r.pyDict))throw new r.pyValueError("updates must be a dictionary");return(0,r.toPy)(this.call(e,o,(0,r.toJs)(a)))},$flags:{NamedArgs:["for_child","updates"],Defaults:[]}},getSections:{$name:"_anvil_get_sections_",$wrapper:a("_anvil_get_sections_"),$flags:l},getSectionDomElement:{$name:"_anvil_get_section_dom_element_",$wrapper(e,t,n){var[o]=(0,r.copyKeywordsToNamedArgs)("_anvil_get_section_dom_element_",["section_id"],t,n,[]);return(0,r.toPy)(this.call(e,(0,r.toJs)(o)))},$flags:{NamedArgs:["section_id"],Defaults:[]}},setSectionPropertyValues:{$name:"_anvil_set_section_property_values_",$wrapper(e,t,n){var[o,i]=(0,r.copyKeywordsToNamedArgs)("_anvil_set_section_property_values_",["section_id","updates"],t,n,[]);return(0,r.toPy)(this.call(e,(0,r.toJs)(o),(0,r.toJs)(i)))},$flags:{NamedArgs:["section_id","updates"],Defaults:[]}}},p={getDomElement:e=>({$name:"_anvil_dom_element_",$get(){return(0,r.toPy)(e.call(this))},$wrapped:e})},u=Object.prototype.hasOwnProperty;function d(e,t){return u.call(e,t)}var f={getProperties:o.s_anvil_properties,getEvents:o.s_anvil_events},v=(0,r.buildNativeClass)("anvil.AnvilMagicDescriptor",{constructor:function(e){this.$wrapped=e},slots:{tp$descr_get(e,t){var n;if(null!=e?n=this.$wrapped.call(e):null!=t&&(n=this.$wrapped.call(t.prototype)),n)return(0,r.toPy)(n)},tp$descr_set(e,t,n){throw new r.pyAttributeError("readonly")}}});var m=e=>(0,r.remapToJsOrWrap)((0,r.retryOptionalSuspensionOrThrow)(e)),h={setupDom:e=>(0,r.chainOrSuspend)(e,(e=>{var t=(0,r.toJs)(e);if(!t)throw new r.pyValueError("_anvil_setup_dom_ cannot return None");return t})),updateDesignName:m,getContainerDesignInfo:m,enableDropMode:m,disableDropMode:m,updateLayoutProperties:m,getSections:m,getSectionDomElement:m,setSectionPropertyValues:m,getInteractions:m},g={setupDom:o.s_anvil_setup_dom,domElement:o.s_anvil_dom_element,updateDesignName:o.s_anvil_update_design_name,getContainerDesignInfo:o.s_anvil_get_container_design_info,enableDropMode:o.s_anvil_enable_drop_mode,disableDropMode:o.s_anvil_disable_drop_mode,updateLayoutProperties:o.s_anvil_update_layout_properties,getSections:o.s_anvil_get_sections,getSectionDomElement:o.s_anvil_get_section_dom_element,setSectionPropertyValues:o.s_anvil_set_section_property_values,properties:o.s_anvil_properties,events:o.s_anvil_events,getInteractions:o.s_anvil_get_interactions};var _={setupDom:"setupDom",getDomElement:"domElement",getProperties:"properties",getEvents:"events",updateDesignName:"updateDesignName",getInteractions:"getInteractions",getContainerDesignInfo:"getContainerDesignInfo",updateLayoutProperties:"updateLayoutProperties",getSections:"getSections",getSectionDomElement:"getSectionDomElement",setSectionPropertyValues:"setSectionPropertyValues",cleanupLayoutProperties:"cleanupLayoutProperties",enableDropMode:"enableDropMode",disableDropMode:"disableDropMode"}},function(e,t,n){"use strict";Sk.builtinFiles.files["src/lib/anvil/ext_tables/__init__.py"]='# Wrap any SQL database in a Data-Tables-like API\ntry:\n    from typing import Dict, Tuple\nexcept ImportError:\n    import collections\n    Tuple = Dict = collections.defaultdict(dict)\nimport anvil.server\nfrom anvil.server import Capability\n\n\nclass DatabaseImpl:\n    def search(self, table: "TableInfo"):\n        raise NotImplementedError\n\n    def add_row(self, table: "TableInfo", data: dict):\n        raise NotImplementedError\n\n    def update_row(self, table: "TableInfo", primary_key: tuple, updates: dict):\n        raise NotImplementedError\n\n    def delete_row(self, table: "TableInfo", primary_key: tuple):\n        raise NotImplementedError\n\n\ndef shared_data(gd, db_name):\n    return gd.shared_data("anvil.ext_tables/"+db_name,\n                          local_data_factory=lambda: {"TableInfo": {}},\n                          remote_data_factory=lambda: {"tables": {}})\n\n@anvil.server.portable_class\nclass TableInfo:\n    def __init__(self, db_name, name, primary_key: Tuple[str], columns, db: DatabaseImpl):\n        self.db_name = db_name\n        self.name = name\n        self.primary_key = primary_key\n        self.columns = columns\n        self.db = db\n\n    @property\n    def safe_version(self):\n        return self\n\n    def __serialize__(self, gd):\n        return self.db_name, self.name, self.primary_key, self.columns\n\n    def __deserialize__(self, value, gd):\n        self.db_name, self.name, self.primary_key, self.columns = value\n        self.db = None\n    # def __serialize__(self, gd):\n    #     txdata, _ = shared_data(gd, self.db_name)\n    #     txdata["tables"][self.name] = (self.primary_key, self.columns)\n    #     return self.db_name, self.name\n    #\n    # @classmethod\n    # def __new_deserialized__(cls, data, gd):\n    #     db_name, name = data\n    #     txdata, localdata = shared_data(gd, db_name)\n    #     inst = localdata["TableInfo"].get(name)\n    #     if not inst:\n    #         primary_key, columns = txdata["tables"][name]\n    #         inst = cls(db_name, name, primary_key, columns, None)\n    #     return inst\n\n\n@anvil.server.portable_class\nclass Table:\n    def __init__(self, info: TableInfo):\n        self.info = info\n        self.cap = anvil.server.Capability(["ext_tables/"+info.db_name, info.name])\n\n    def search(self):\n        if self.info.db:\n            return self.info.db.search(table=self.info)\n        else:\n            return anvil.server.call("anvil.ext_tables.search/"+self.db_name, cap=self.cap)\n\n    def add_row(self, **data):\n        if self.info.db:\n            return self.info.db.add_row(table=self.info, data=data)\n        else:\n            return anvil.server.call("anvil.ext_tables.add_row/"+self.db_name, cap=self.cap, data=data)\n\n\n@anvil.server.portable_class\nclass Row:\n    def __init__(self, table: TableInfo, data: dict, cap: Capability=None):\n        self.table = table\n        self.data = data\n        self.cap = cap or Capability(["ext_tables/"+table.db_name, table.name, self.primary_key])\n\n    def __getitem__(self, item):\n        return self.data[item]\n\n    def __setitem__(self, key, value):\n        self.update(**{key: value})\n\n    def __serialize__(self, gd):\n        return {"table": self.table.safe_version, "data": self.data, "cap": self.cap}\n\n    @property\n    def primary_key(self):\n        return tuple(self.data[col] for col in self.table.primary_key)\n\n    def update(self, **updates):\n        if self.table.db:\n            self.table.db.update_row(self.table, self.primary_key, updates)\n        else:\n            anvil.server.call("anvil.ext_tables.update_row/"+self.table.db_name, cap=self.cap, updates=updates)\n        self.data.update(updates)\n\n    def delete(self):\n        if self.table.db:\n            self.table.db.delete_row(self.table, self.primary_key)\n        else:\n            anvil.server.call("anvil.ext_tables.delete_row/"+self.table.db_name, cap=self.cap)\n',Sk.builtinFiles.files["src/lib/anvil/util.py"]='from anvil.server import serializable_type\n\n\ndef _wrap(value):\n    if isinstance(value, (WrappedObject, WrappedList)):\n        return value\n    elif isinstance(value, dict):\n        return WrappedObject(value)\n    elif isinstance(value, list):\n        wl = WrappedList()\n        for i in value:\n            wl.append(i)\n        return wl\n    else:\n        return value\n\n\n@serializable_type\nclass WrappedObject(dict):\n    _name = None\n    _module = None\n\n    def __init__(self, d=None, **kwargs):\n        if d and isinstance(d, dict):\n            for k in d.keys():\n                self.__setitem__(k, d[k])\n\n        for k in kwargs.keys():\n            self.__setitem__(k, kwargs[k])\n\n    def __getattr__(self, key):\n        return self.__getitem__(key)\n\n    def __setattr__(self, key, value):\n        self.__setitem__(key, value)\n\n    def __setitem__(self, key, value):\n        dict.__setitem__(self, key, _wrap(value))\n\n    def __getitem__(self, key):\n        _sentinel = WrappedObject()\n        r = dict.get(self, key, _sentinel)\n\n        if r is _sentinel:\n            dict.__setitem__(self, key, _sentinel)\n\n        return r\n\n    def update(*args, **new_items):\n        # avoid name conflicts with keys, could use (self, other=(), /, **kws)\n        # but position only args not available in py2/Skulpt\n        if not args:\n            raise TypeError("method \'update\' needs an argument")\n        elif len(args) > 2:\n            raise TypeError("expected at most 1 argument, got %d" % (len(args) - 1))\n        elif len(args) == 2:\n            new_items = dict(args[1], **new_items)\n        self = args[0]\n        for k, v in new_items.items():\n            self[k] = v\n\n    def __repr__(self):\n        n = self._name or "WrappedObject"\n        m = self._module + "." if self._module else ""\n        return "%s%s<%s>" % (m, n, ", ".join(["%s=%s" % (k, repr(self[k])) for k in self.keys()]))\n\n    def __serialize__(self, global_data):\n        return dict(self)\n\n    def __deserialize__(self, data, global_data):\n        self.__init__(data)\n\n    def __copy__(self):\n        return self.__class__(dict.copy(self))\n\n    def __deepcopy__(self, memo):\n        # lazy load this - its only need on the\n        # server and we don\'t want to load copy on the client\n        from copy import deepcopy\n\n        return self.__class__(deepcopy(dict(self)))\n\n\n@serializable_type\nclass WrappedList(list):\n    def __init__(self, lst=[]):\n        for x in lst:\n            self.append(x)\n\n    def append(self, item):\n        list.append(self, _wrap(item))\n\n    def extend(self, items):\n        for i in items:\n            self.append(i)\n\n    def insert(self, offset, item):\n        list.insert(self, offset, _wrap(item))\n\n    def __serialize__(self, global_data):\n        return list(self)\n\n    def __deserialize__(self, data, global_data):\n        self.__init__(data)\n\n    def __copy__(self):\n        return self.__class__(list.copy(self))\n\n    def __deepcopy__(self, memo):\n        from copy import deepcopy\n\n        return self.__class__(deepcopy(list(self)))\n',Sk.builtinFiles.files["src/lib/plotly/__init__.py"]='import sys as _sys\n\nfrom anvil.server import portable_class as _portable\n\nfrom ._schema import schema as _root_schema\nfrom ._cls_overrides import _overrides, Base\n\n_ModType = type(_sys)\n\n\ndef _cache(fn):\n    cached = {}\n\n    def wrapper(name, module, trace_type=None):\n        args = (name, module, trace_type)\n        seen = cached.get(args)\n        if seen is not None:\n            return seen\n        rv = fn(name, module, trace_type)\n        cached[args] = rv\n        return rv\n\n    return wrapper\n\n\n@_cache\ndef _gen_cls(name, module, trace_type=None):\n    try:\n        cls = _overrides[module + "." + name]\n        cls.__module__ = module\n        cls.__name__ = name\n    except KeyError:\n        d = {"_name": name, "_module": module, "__module__": module}\n        if trace_type:\n\n            def __init__(self, d=None, **kws):\n                Base.__init__(self, d, type=trace_type, **kws)\n\n            d["__init__"] = __init__\n        cls = type(name, (Base,), d)\n\n    return _portable(cls)\n\n\nclass _LazyPlotlyMod(_ModType):\n    __slots__ = "_schema_"\n\n    def __init__(self, name, schema, package=True):\n        _ModType.__init__(self, name, None)\n        path = name.replace(".", "/")\n        self.__file__ = path + "/__init__.py" if package else path + ".py"\n        self._schema_ = schema\n        self.__package__ = name  # might be overridden\n\n    def __getattr__(self, attr):\n        if attr == "__all__":\n\n            def ignore(x):\n                if x.startswith("_"):\n                    return True\n                defn = self._schema_.get(x)\n                return defn is not None and defn["module"].endswith("_deprecations")\n\n            self.__all__ = sorted(x for x in self.__dir__() if not ignore(x))\n            return self.__all__\n\n        cls_schema = self._schema_.get(attr)\n        if cls_schema is not None:\n            cls = _gen_cls(attr, **cls_schema)\n            setattr(self, attr, cls)\n            return cls\n\n        raise AttributeError(attr)\n\n    def __dir__(self):\n        return sorted(set(_ModType.__dir__(self)) | set(self._schema_.keys()))\n\n\ndef _gen_mod(mod_name, schema, package):\n    trace_types = {cls_name: {"module": mod_name, "trace_type": cls_name.lower()} for cls_name in schema.get("t", [])}\n    mod_schema = {cls_name: {"module": mod_name} for cls_name in schema.get("a", [])}\n    mod_schema.update(trace_types)\n\n    mod = _LazyPlotlyMod(mod_name, mod_schema, package)\n    _sys.modules[mod_name] = mod\n\n    for leaf, s in schema.get("c", {}).items():\n        package = not leaf.startswith("_")  # private modules are not packages (e.g graph_objs._bar)\n        child = _gen_mod(mod_name + "." + leaf, s, package)\n        if not package:\n            child.__package__ = mod.__package__\n            mod_schema.update(child._schema_)\n        setattr(mod, leaf, child)\n\n    return mod\n\n\ngraph_objs = _gen_mod("plotly.graph_objs", {"c": _root_schema}, True)\n\n# do this after we\'ve created graph_objs\nfrom . import plotly, graph_objects\n',Sk.builtinFiles.files["src/lib/plotly/_cls_overrides.py"]='# Classes in plotly that have additional behaviour and features\n\nfrom anvil.util import WrappedObject\n\n_valid_underscore_properties = {\n    "error_x": "error-x",\n    "error_y": "error-y",\n    "error_z": "error-z",\n    "copy_xstyle": "copy-xstyle",\n    "copy_ystyle": "copy-ystyle",\n    "copy_zstyle": "copy-zstyle",\n    "paper_bgcolor": "paper-bgcolor",\n    "plot_bgcolor": "plot-bgcolor",\n}\n\n\ndef _get_props(full_path):\n    for under_prop, hyphen_prop in _valid_underscore_properties.items():\n        full_path = full_path.replace(under_prop, hyphen_prop)\n    \n    props = full_path.split("_")\n    for i, prop in enumerate(props):\n        props[i] = prop.replace("-", "_")\n    \n    return props\n\ndef _walk_props(self, path, props):\n    res = self\n    for p in props:\n        try:\n            res = WrappedObject.__getitem__(res, p)\n        except TypeError:\n            raise KeyError(path)\n    return res\n\n# support: https://plotly.com/python/creating-and-updating-figures/#magic-underscore-notation\nclass Base(WrappedObject):\n    def __setitem__(self, path, val):\n        if path[0] != "_" and "_" in path[1:]:\n            props = _get_props(path)\n            res = _walk_props(self, path, props[:-1])\n            WrappedObject.__setitem__(res, props[-1], val)\n        else:\n            return WrappedObject.__setitem__(self, path, val)\n\n    def __getitem__(self, path):\n        if path[0] != "_" and "_" in path[1:]:\n            props = _get_props(path)\n            return _walk_props(self, path, props)\n        else:\n            return WrappedObject.__getitem__(self, path)\n        \n\n\ndef _not_implemented_wrapper(cls_name, name):\n    def not_implemented(self, *args, **kws):\n        raise NotImplementedError(name + " is not yet implemented")\n\n    not_implemented.__name__ = name\n    not_implemented.__qualname__ = cls_name + "." + name\n\n    return not_implemented\n\n\nclass Figure(Base):\n    _name = "Figure"\n    def __init__(self, data=None, layout=None, **kws):\n        if isinstance(data, Figure):\n            data, layout = data.data, data.layout\n        elif type(data) is dict and ("data" in data or "layout" in data):\n            # Extract data, layout, and frames\n            data, layout = (\n                data.get("data", None),\n                data.get("layout", None),\n            )\n\n        if data is None:\n            data = []\n        elif not isinstance(data, (list, tuple)):\n            data = [data]\n\n        if layout is None:\n            layout = {}\n        elif isinstance(layout, dict):\n            layout = dict(layout)\n            template = self._initialize_template(layout.get("template", None))\n            if template is not None:\n                layout["template"] = template\n\n        Base.__init__(self, data=data, layout=layout, **kws)\n\n    # some common methods we don\'t support\n    update_traces = _not_implemented_wrapper("Figure", "update_traces")\n    add_trace = _not_implemented_wrapper("Figure", "add_trace")\n    for_each_trace = _not_implemented_wrapper("Figure", "for_each_trace")\n\n    def update_layout(self, dict1=None, **kws):\n        dict1 = dict1 or {}\n        self.layout.update(dict1, **kws)\n        return self\n\n    _default_template = None\n\n    def _get_template(self, template):\n        return template\n\n    def _initialize_template(self, template):\n        if template is None:\n            template = self._default_template\n        \n        if type(template) is str:\n            return self._get_template(template)\n\n        return template\n\n\n_overrides = {"plotly.graph_objs._figure.Figure": Figure}\n',Sk.builtinFiles.files["src/lib/plotly/_schema.py"]="schema={'bar':{'a':['ErrorX','ErrorY','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line','Pattern'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_bar':{'t':['Bar']},'barpolar':{'a':['Hoverlabel','Legendgrouptitle','Marker','Selected','Stream','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line','Pattern'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_barpolar':{'t':['Barpolar']},'box':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_box':{'t':['Box']},'candlestick':{'a':['Decreasing','Hoverlabel','Increasing','Legendgrouptitle','Line','Stream','Transform'],'c':{'decreasing':{'a':['Line']},'hoverlabel':{'a':['Font']},'increasing':{'a':['Line']},'legendgrouptitle':{'a':['Font']}}},'_candlestick':{'t':['Candlestick']},'carpet':{'a':['Aaxis','Baxis','Font','Legendgrouptitle','Stream'],'c':{'aaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'baxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'legendgrouptitle':{'a':['Font']}}},'_carpet':{'t':['Carpet']},'choropleth':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Marker','Selected','Stream','Transform','Unselected'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_choropleth':{'t':['Choropleth']},'choroplethmapbox':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Marker','Selected','Stream','Transform','Unselected'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_choroplethmapbox':{'t':['Choroplethmapbox']},'cone':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_cone':{'t':['Cone']},'contour':{'a':['ColorBar','Contours','Hoverlabel','Legendgrouptitle','Line','Stream','Textfont','Transform'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'contours':{'a':['Impliededits','Labelfont']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_contour':{'t':['Contour']},'contourcarpet':{'a':['ColorBar','Contours','Legendgrouptitle','Line','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'contours':{'a':['Impliededits','Labelfont']},'legendgrouptitle':{'a':['Font']}}},'_contourcarpet':{'t':['Contourcarpet']},'densitymapbox':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Stream','Transform'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_densitymapbox':{'t':['Densitymapbox']},'funnel':{'a':['Connector','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Stream','Textfont','Transform'],'c':{'connector':{'a':['Line']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}}}},'_funnel':{'t':['Funnel']},'funnelarea':{'a':['Domain','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Stream','Textfont','Title','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'title':{'a':['Font']}}},'_funnelarea':{'t':['Funnelarea']},'heatmap':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Stream','Textfont','Transform'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_heatmap':{'t':['Heatmap']},'heatmapgl':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Stream','Transform'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_heatmapgl':{'t':['Heatmapgl']},'histogram':{'a':['Cumulative','ErrorX','ErrorY','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Selected','Stream','Textfont','Transform','Unselected','XBins','YBins'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line','Pattern'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_histogram':{'t':['Histogram']},'histogram2d':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Marker','Stream','Textfont','Transform','XBins','YBins'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_histogram2d':{'t':['Histogram2d']},'histogram2dcontour':{'a':['ColorBar','Contours','Hoverlabel','Legendgrouptitle','Line','Marker','Stream','Textfont','Transform','XBins','YBins'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'contours':{'a':['Impliededits','Labelfont']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_histogram2dcontour':{'t':['Histogram2dContour']},'icicle':{'a':['Domain','Hoverlabel','Insidetextfont','Leaf','Legendgrouptitle','Marker','Outsidetextfont','Pathbar','Root','Stream','Textfont','Tiling','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'pathbar':{'a':['Textfont']}}},'_icicle':{'t':['Icicle']},'image':{'a':['Hoverlabel','Legendgrouptitle','Stream'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_image':{'t':['Image']},'indicator':{'a':['Delta','Domain','Gauge','Legendgrouptitle','Number','Stream','Title','Transform'],'c':{'delta':{'a':['Decreasing','Font','Increasing']},'gauge':{'a':['Axis','Bar','Step','Threshold'],'c':{'axis':{'a':['Tickfont','Tickformatstop']},'bar':{'a':['Line']},'step':{'a':['Line']},'threshold':{'a':['Line']}}},'legendgrouptitle':{'a':['Font']},'number':{'a':['Font']},'title':{'a':['Font']}}},'_indicator':{'t':['Indicator']},'isosurface':{'a':['Caps','ColorBar','Contour','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Slices','Spaceframe','Stream','Surface'],'c':{'caps':{'a':['X','Y','Z']},'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'slices':{'a':['X','Y','Z']}}},'_isosurface':{'t':['Isosurface']},'mesh3d':{'a':['ColorBar','Contour','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_mesh3d':{'t':['Mesh3d']},'ohlc':{'a':['Decreasing','Hoverlabel','Increasing','Legendgrouptitle','Line','Stream','Transform'],'c':{'decreasing':{'a':['Line']},'hoverlabel':{'a':['Font']},'increasing':{'a':['Line']},'legendgrouptitle':{'a':['Font']}}},'_ohlc':{'t':['Ohlc']},'parcats':{'a':['Dimension','Domain','Labelfont','Legendgrouptitle','Line','Stream','Tickfont','Transform'],'c':{'legendgrouptitle':{'a':['Font']},'line':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}}}},'_parcats':{'t':['Parcats']},'parcoords':{'a':['Dimension','Domain','Labelfont','Legendgrouptitle','Line','Rangefont','Stream','Tickfont','Transform','Unselected'],'c':{'legendgrouptitle':{'a':['Font']},'line':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'unselected':{'a':['Line']}}},'_parcoords':{'t':['Parcoords']},'pie':{'a':['Domain','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Stream','Textfont','Title','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'title':{'a':['Font']}}},'_pie':{'t':['Pie']},'pointcloud':{'a':['Hoverlabel','Legendgrouptitle','Marker','Stream'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Border']}}},'_pointcloud':{'t':['Pointcloud']},'sankey':{'a':['Domain','Hoverlabel','Legendgrouptitle','Link','Node','Stream','Textfont'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'link':{'a':['Concentrationscales','Hoverlabel','Line'],'c':{'hoverlabel':{'a':['Font']}}},'node':{'a':['Hoverlabel','Line'],'c':{'hoverlabel':{'a':['Font']}}}}},'_sankey':{'t':['Sankey']},'scatter':{'a':['ErrorX','ErrorY','Fillpattern','Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scatter':{'t':['Scatter']},'scatter3d':{'a':['ErrorX','ErrorY','ErrorZ','Hoverlabel','Legendgrouptitle','Line','Marker','Projection','Stream','Textfont','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'line':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'projection':{'a':['X','Y','Z']}}},'_scatter3d':{'t':['Scatter3d']},'scattercarpet':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scattercarpet':{'t':['Scattercarpet']},'scattergeo':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scattergeo':{'t':['Scattergeo']},'scattergl':{'a':['ErrorX','ErrorY','Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scattergl':{'t':['Scattergl']},'scattermapbox':{'a':['Cluster','Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_scattermapbox':{'t':['Scattermapbox']},'scatterpolar':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scatterpolar':{'t':['Scatterpolar']},'scatterpolargl':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scatterpolargl':{'t':['Scatterpolargl']},'scattersmith':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scattersmith':{'t':['Scattersmith']},'scatterternary':{'a':['Hoverlabel','Legendgrouptitle','Line','Marker','Selected','Stream','Textfont','Transform','Unselected'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Gradient','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker','Textfont']},'unselected':{'a':['Marker','Textfont']}}},'_scatterternary':{'t':['Scatterternary']},'splom':{'a':['Diagonal','Dimension','Hoverlabel','Legendgrouptitle','Marker','Selected','Stream','Transform','Unselected'],'c':{'dimension':{'a':['Axis']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_splom':{'t':['Splom']},'streamtube':{'a':['ColorBar','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Starts','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_streamtube':{'t':['Streamtube']},'sunburst':{'a':['Domain','Hoverlabel','Insidetextfont','Leaf','Legendgrouptitle','Marker','Outsidetextfont','Root','Stream','Textfont','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}}}},'_sunburst':{'t':['Sunburst']},'surface':{'a':['ColorBar','Contours','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Stream'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'contours':{'a':['X','Y','Z'],'c':{'x':{'a':['Project']},'y':{'a':['Project']},'z':{'a':['Project']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_surface':{'t':['Surface']},'table':{'a':['Cells','Domain','Header','Hoverlabel','Legendgrouptitle','Stream'],'c':{'cells':{'a':['Fill','Font','Line']},'header':{'a':['Fill','Font','Line']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']}}},'_table':{'t':['Table']},'treemap':{'a':['Domain','Hoverlabel','Insidetextfont','Legendgrouptitle','Marker','Outsidetextfont','Pathbar','Root','Stream','Textfont','Tiling','Transform'],'c':{'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['ColorBar','Line','Pad'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'pathbar':{'a':['Textfont']}}},'_treemap':{'t':['Treemap']},'violin':{'a':['Box','Hoverlabel','Legendgrouptitle','Line','Marker','Meanline','Selected','Stream','Transform','Unselected'],'c':{'box':{'a':['Line']},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'marker':{'a':['Line']},'selected':{'a':['Marker']},'unselected':{'a':['Marker']}}},'_violin':{'t':['Violin']},'volume':{'a':['Caps','ColorBar','Contour','Hoverlabel','Legendgrouptitle','Lighting','Lightposition','Slices','Spaceframe','Stream','Surface'],'c':{'caps':{'a':['X','Y','Z']},'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'hoverlabel':{'a':['Font']},'legendgrouptitle':{'a':['Font']},'slices':{'a':['X','Y','Z']}}},'_volume':{'t':['Volume']},'waterfall':{'a':['Connector','Decreasing','Hoverlabel','Increasing','Insidetextfont','Legendgrouptitle','Outsidetextfont','Stream','Textfont','Totals','Transform'],'c':{'connector':{'a':['Line']},'decreasing':{'a':['Marker'],'c':{'marker':{'a':['Line']}}},'hoverlabel':{'a':['Font']},'increasing':{'a':['Marker'],'c':{'marker':{'a':['Line']}}},'legendgrouptitle':{'a':['Font']},'totals':{'a':['Marker'],'c':{'marker':{'a':['Line']}}}}},'_waterfall':{'t':['Waterfall']},'layout':{'a':['Activeselection','Activeshape','Annotation','Coloraxis','Colorscale','Font','Geo','Grid','Hoverlabel','Image','Legend','Mapbox','Margin','Modebar','Newselection','Newshape','Polar','Scene','Selection','Shape','Slider','Smith','Template','Ternary','Title','Transition','Uniformtext','Updatemenu','XAxis','YAxis'],'c':{'annotation':{'a':['Font','Hoverlabel'],'c':{'hoverlabel':{'a':['Font']}}},'coloraxis':{'a':['ColorBar'],'c':{'colorbar':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'geo':{'a':['Center','Domain','Lataxis','Lonaxis','Projection'],'c':{'projection':{'a':['Rotation']}}},'grid':{'a':['Domain']},'hoverlabel':{'a':['Font','Grouptitlefont']},'legend':{'a':['Font','Grouptitlefont','Title'],'c':{'title':{'a':['Font']}}},'mapbox':{'a':['Bounds','Center','Domain','Layer'],'c':{'layer':{'a':['Circle','Fill','Line','Symbol'],'c':{'symbol':{'a':['Textfont']}}}}},'newselection':{'a':['Line']},'newshape':{'a':['Line']},'polar':{'a':['AngularAxis','Domain','RadialAxis'],'c':{'angularaxis':{'a':['Tickfont','Tickformatstop']},'radialaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'scene':{'a':['Annotation','Aspectratio','Camera','Domain','XAxis','YAxis','ZAxis'],'c':{'annotation':{'a':['Font','Hoverlabel'],'c':{'hoverlabel':{'a':['Font']}}},'aspectratio':{'a':['Impliededits']},'camera':{'a':['Center','Eye','Projection','Up']},'xaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'yaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'zaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'selection':{'a':['Line']},'shape':{'a':['Line']},'slider':{'a':['Currentvalue','Font','Pad','Step','Transition'],'c':{'currentvalue':{'a':['Font']}}},'smith':{'a':['Domain','Imaginaryaxis','Realaxis'],'c':{'imaginaryaxis':{'a':['Tickfont']},'realaxis':{'a':['Tickfont']}}},'ternary':{'a':['Aaxis','Baxis','Caxis','Domain'],'c':{'aaxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'baxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}},'caxis':{'a':['Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'title':{'a':['Font','Pad']},'updatemenu':{'a':['Button','Font','Pad']},'xaxis':{'a':['Minor','Rangebreak','Rangeselector','Rangeslider','Tickfont','Tickformatstop','Title'],'c':{'rangeselector':{'a':['Button','Font']},'rangeslider':{'a':['YAxis']},'title':{'a':['Font']}}},'yaxis':{'a':['Minor','Rangebreak','Tickfont','Tickformatstop','Title'],'c':{'title':{'a':['Font']}}}}},'_layout':{'a':['Layout']},'_deprecations':{'a':['Data','Annotations','Frames','AngularAxis','Annotation','ColorBar','Contours','ErrorX','ErrorY','ErrorZ','Font','Legend','Line','Margin','Marker','RadialAxis','Scene','Stream','XAxis','YAxis','ZAxis','XBins','YBins','Trace','Histogram2dcontour']},'_figure':{'a':['Figure']}}",Sk.builtinFiles.files["src/lib/plotly/graph_objects.py"]="from .graph_objs import *",Sk.builtinFiles.files["src/lib/plotly/plotly.py"]='\ndef _mk_unimplemented(name):\n    def f(*args, **kwargs):\n        raise Exception("You don\'t need %s() on Anvil. Set the \'data\' property on a Plot component instead" % name)\n    return f\n\niplot = _mk_unimplemented("iplot")\nplot = _mk_unimplemented("plot")\n'},function(e,t,n){"use strict";n(13),n(0),n(34),n(20),n(2);var{anvilMod:r}=n(8);e.exports.defineSystemComponents=function(t){t.ComponentProperty=Sk.misceval.buildClass(t,((e,t)=>{t.__init__=new Sk.builtin.func(((e,t)=>{e._anvil={propName:t}})),t.__get__=new Sk.builtin.func(((e,t,n)=>t===Sk.builtin.none.none$?e:t._anvil.getProp(e._anvil.propName))),t.__set__=new Sk.builtin.func(((e,t,n)=>t._anvil.setProp(e._anvil.propName,n)))}),"ComponentProperty",[]),t.CustomComponentProperty=Sk.misceval.buildClass(t,((e,t)=>{t.__init__=new Sk.builtin.func(((e,t,n)=>{e._anvil={propName:String(t),defaultPyVal:n}})),t.__get__=new Sk.builtin.func(((e,t,n)=>{var r;return t&&t!==Sk.builtin.none.none$?(null===(r=t.anvil$customProps)||void 0===r?void 0:r[e._anvil.propName])||e._anvil.defaultPyVal:e})),t.__set__=new Sk.builtin.func(((e,t,n)=>{var r;if(!t||t===Sk.builtin.none.none$)throw new Error("Cannot set custom component property value on null object.");return null!==(r=t.anvil$customProps)&&void 0!==r||(t.anvil$customProps={}),t.anvil$customProps[e._anvil.propName]=n,Sk.builtin.none.none$}))}),"CustomComponentProperty",[]),n(274)(t),n(283)(t),n(284)(t),n(285)(t),n(286)(t),n(287)(t),n(288)(t),n(289)(t),n(290)(t),n(293)(t),n(294)(t),n(295)(t),n(296)(t),n(297)(t),n(298)(t),n(299)(t),n(300)(t),n(301)(t),window.isIE?console.warn("Google Maps is no longer supported in Internet Explorer"):n(304)(t),n(305)(t),n(306)(t),n(307)(t,e.exports),n(308)(t),n(309)(t,e.exports),n(310)(t,e.exports),n(311)(t),n(312)(t),n(313)(t),n(314)(t),n(315)(t),n(316)(t),n(317)(t)};var o=function(e,t){return Sk.misceval.callsimArray(e.InvalidComponent,[],["text",new Sk.builtin.str(t)])};e.exports.withFormTrace=function(t,n){var r=e.exports.newPythonComponent,o={name:t,prev:r.formTrace};return r.formTrace=o,Sk.misceval.tryCatch((function(){return Sk.misceval.chain(n(),(function(e){return r.formTrace=o.prev,e}))}),(function(e){throw r.formTrace=o.prev,e}))},e.exports.withDependencyTrace=(t,n)=>{var r=e.exports.newPythonComponent,o={depId:t,prev:r.dependencyTrace};return r.dependencyTrace=o,Sk.misceval.tryCatch((function(){return Sk.misceval.chain(n(),(function(e){return r.dependencyTrace=r.dependencyTrace.prev,e}))}),(function(e){throw r.dependencyTrace=r.dependencyTrace.prev,e}))},e.exports.newPythonComponent=function t(n,i,a,l,s,c,p,u,d){var f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0,v=[];for(var m in n.properties)void 0!==n.properties[m]&&(v.push(m),v.push(Sk.ffi.remapToPy(n.properties[m])));var h=void 0;n.type=n.type.replace(/MultiColumnPanel$/,"ColumnPanel");var g=n.type.match(/^form:(.*)$/);if(g){var _,[,y,b,k]=g[1].match(/^(?:([^:]*):)?((?:.*\.)?([^.]*))$/),S=y?window.anvilAppDependencyIds[y]:null,w=window.anvilAppMainPackage;if(y&&!S&&(console.error("Logical dep ID "+y+" not found"),h=o(r,"Missing dependency for form '"+b+"'")),(S=S||(null===(_=e.exports.newPythonComponent.dependencyTrace)||void 0===_?void 0:_.depId))&&!h){var C=u[S];C?w=C.package_name:(console.error("Dependency mapped but not found: "+S+" (logical "+y+")"),h=o(r,"Dependency missing for form '"+b+"'"))}for(var O=w+"."+b,P=!1,x=t.formTrace;x;x=x.prev)if(x.name==O){P=!0;break}if(P&&!h)h=o(r,'Cannot nest "'+O+'" inside itself');else if(p&&!h){var T=null,E=S?u[S].forms:p;for(var j of E)if(j.class_name==b){T=j;break}if(T){var A=$.extend({name:"",components:T.components,layout_properties:n.layout_properties},T.container),M={};h=Sk.misceval.chain(e.exports.withDependencyTrace(S,(()=>e.exports.withFormTrace(O,(function(){return t(A,M,{},{},s,null,p,u,d)})))),(function(e){for(var t of(""!=e._anvil.componentSpec.name&&(s[O]=s[O]||[],s[O].push(e)),e._anvil.isForm=!0,e._anvil.customComponentForm=T,e._anvil.customPropVals={},T.properties||[]))e._anvil.customPropVals[t.name]=t.name in n.properties?n.properties[t.name]:t.default_value;return e._anvil.dataBindingProp="item",e._anvil.componentsByName=M,e._anvil.element.addClass("anvil-custom-component anvil-designer-component-namespace anvil-designer-namespace-region"),e}))}else h=o(r,'No such form: "'+(S?O:b)+'"')}else h||(h=Sk.misceval.chain(Sk.importModule(O,!1,!0),(function(){var t=Sk.sysmodules.mp$subscript(new Sk.builtin.str(O)),n=t&&t.tp$getattr(new Sk.builtin.str(k));return t?n?e.exports.withFormTrace(O,(function(){var e=window.anvilCustomComponentProperties[S+":"+b];for(var t of e||[])v.indexOf(t.name)>-1||"object"!=t.type&&(v.push(t.name),v.push(Sk.ffi.remapToPy(t.default_value)));return Sk.misceval.callOrSuspend(n,void 0,void 0,v)})):o(r,Sk.builtin.repr(t).$jsstr()+" does not contain a class called '"+k+"'"):o(r,'No such form: "'+(S?O:b)+'"')})))}else{var N,L="Design"+n.type;L in r?N=r[L]:n.type in r&&(N=r[n.type]),N?(v=["__ignore_property_exceptions",!0].concat(v),h=Sk.misceval.chain(Sk.misceval.callOrSuspend(N,void 0,void 0,v),(function(e){if(Sk.builtin.isinstance(e,r.Container).v){var o=[null];for(var c in n.components)o.push(function(r){var o=n.components[r];return Sk.misceval.chain(t(o,i,a,l,s,e,p,u,d,f),(function(e){a&&(a[n.name]=a[n.name]||[],a[n.name].push(e))}))}.bind(null,c));return o.push((function(){return e})),Sk.misceval.chain.apply(null,o)}return e}))):h=o(r,'No such component: "'+n.type+'"')}return Sk.misceval.chain(h,(function(e){if(e._anvil.componentSpec=n,e._anvil.element.addClass("anvil-component"),e._anvil.element.data("anvil-py-component",e),Sk.builtin.isinstance(e,r.RepeatingPanel).v,e._anvil.updateDesignName&&(e._anvil.designName=n.name,e._anvil.updateDesignName(e)),i&&(i[n.name]=e),l&&(l[n.name]=n.event_bindings),f)for(var t in n.data_bindings){var o=Object.create(n.data_bindings[t]);o.pyComponent=e,o.component_name=n.name,f.push(o)}if(c){var a=Sk.abstr.gattr(c,new Sk.builtin.str("add_component")),s=[];for(var p in n.layout_properties){var u=n.layout_properties[p];void 0!==u&&(s.push(p),s.push(Sk.ffi.remapToPy(u)))}Sk.misceval.call(a,void 0,void 0,s,e)}return e}))}},function(e,t,n){"use strict";n(57),n(0),n(19),n(2);var r=n(9),o=n(6),i=n(208),a=n(8),l=n(28),s=n(1),c=Object.prototype.hasOwnProperty;e.exports=e=>{function t(e){return e.map((e=>{var{name:t,type:n,group:r,description:o,important:i,hidden:a,options:l,accept:s,iconset:c,allowCustomValue:p,designerHint:u,multiline:d,deprecated:f,allowBindingWriteback:v,includeNoneOption:m,noneOptionLabel:h,defaultBindingProp:g,priority:_}=e;return{name:t,type:n,group:r,description:o,important:i,hidden:a,options:l,accept:s,iconset:c,allowCustomValue:p,designerHint:u,multiline:d,deprecated:f,supportsWriteback:v,includeNoneOption:m,noneOptionLabel:h,defaultBindingProp:g,priority:_}}))}e.ComponentTag=Sk.misceval.buildClass(e,((e,t)=>{t.__serialize__=new Sk.builtin.func((e=>e.$d)),t.__repr__=new Sk.builtin.func((e=>new Sk.builtin.str("ComponentTag("+Sk.misceval.objectRepr(e.$d)+")")))}),"ComponentTag",[]);var n=s.assembleGroupEvents("ClassicComponent",["universal"]),p=e=>{var n;n={setupDom(){return this._anvil.domNode},getDomElement(){return this._anvil.domNode},getProperties(){return t(this._anvilClassic$propTypes)},getEvents(){return Object.values(this._anvilClassic$eventTypes)}},e.prototype.anvil$hookSpec=n};e.ClassicComponent=Sk.abstr.buildNativeClass("anvil.ClassicComponent",{constructor:function(){},base:l.Component,slots:{tp$new(t,n){var i=l.Component.prototype.tp$new.call(this,[]);!i.$d&&(0,r.hasLegacyDict)()&&(i.$d=new o.pyDict);var c=i._anvil=function(e){var t={element:null,domNode:null,elements:null,get parent(){var t,n=null!==(t=e._Component.parent)&&void 0!==t?t:null;return n&&{pyObj:n.pyParent,removeFn:()=>n.remove.forEach((e=>e())),setVisibility:n.setVisibility}},set parent(t){var{pyObj:n,removeFn:r,setVisibility:o}=t;e._Component.parent={pyParent:n,onRemove:[r],setVisibility:o}},eventTypes:{},eventHandlers:{},props:{},propTypes:[],propMap:{},layoutPropTypes:[],childLayoutProps:{},metadata:{},defaultWidth:null,onPage:!1,components:[],addedToPage(){var t,n;return e._anvil.onPage=!0,null===(t=(n=e._anvil.pageEvents).add)||void 0===t?void 0:t.call(n)},removedFromPage(){var t,n;return e._anvil.onPage=!1,null===(t=(n=e._anvil.pageEvents).remove)||void 0===t?void 0:t.call(n)},shownOnPage(){var t,n;if(e._anvil.onPage)return null===(t=(n=e._anvil.pageEvents).show)||void 0===t?void 0:t.call(n)},pageEvents:{},getProp(t){var n,r=e._anvil.propMap[t];if(!r)throw new Sk.builtin.AttributeError(e.tp$name+" component has no property called '"+t+"'");if(r.get)n=r.get(e,e._anvil.element),n=r.pyVal?n:Sk.ffi.remapToPy(n);else if(t in e._anvil.props)n=e._anvil.props[t];else if(void 0===(n=r.pyVal?r.defaultValue:Sk.ffi.remapToPy(r.defaultValue)))throw new Sk.builtin.ValueError(e.tp$name+" component has no value or default for property '"+t+"'");return n},getPropJS(t){var n=e._anvil.propMap[t];return n&&n.getJS?n.getJS(e,e._anvil.element):Sk.ffi.remapToJs(Sk.misceval.retryOptionalSuspensionOrThrow(this.getProp(t)))},setProp(t,n){var r=e._anvil.propMap[t];if(!r)throw new Sk.builtin.AttributeError(e.tp$name+" component has no property called '"+t+"'");if(void 0===n)throw new Sk.builtin.ValueError("'undefined' is not a valid Python value");if(r.readOnly)throw new Sk.builtin.AttributeError("The '"+t+"' property for a "+e.tp$name+" is read-only");var o,i=e._anvil.props[t];return i=void 0===i?Sk.builtin.none.none$:i,e._anvil.props[t]=n,r.set&&(o=r.set(e,e._anvil.element,r.pyVal?n:Sk.ffi.remapToJs(n),r.pyVal?i:Sk.ffi.remapToJs(i))),void 0===o?Sk.builtin.none.none$:o},setPropJS(e,t){Sk.misceval.retryOptionalSuspensionOrThrow(this.setProp(e,Sk.ffi.remapToPy(t)))},dataBindingWriteback:(e,t,n)=>s.asyncToPromise((()=>(0,l.raiseWritebackEventOrSuspend)(e,new o.pyStr(t),n))),dataBindingProp:null};return t.eventHandlers[a.s_x_anvil_page_added]=[s.funcFastCall((()=>t.addedToPage()))],t.eventHandlers[a.s_x_anvil_page_removed]=[s.funcFastCall((()=>t.removedFromPage()))],t.eventHandlers[a.s_x_anvil_page_shown]=[s.funcFastCall((()=>t.shownOnPage()))],t.eventHandlers[a.s_x_anvil_classic_show]=[s.funcFastCall((()=>{if(t.onPage){var n=(0,l.getListenerCallbacks)(e,"show");if(n.length)return(0,o.chainOrSuspend)(null,...n)}return o.pyNone}))],t.eventHandlers[a.s_x_anvil_classic_hide]=[s.funcFastCall((()=>{if(!t.onPage){var n=(0,l.getListenerCallbacks)(e,"hide");if(n.length)return(0,o.chainOrSuspend)(null,...n)}return o.pyNone}))],t}(i);n=n||[];for(var p={},u=0;u<n.length;u+=2)p[n[u]]=n[u+1];var{_anvilClassic$propDefaults:d,_anvilClassic$createElement:f,_anvilClassic$propMap:v,_anvilClassic$propTypes:m,_anvilClassic$eventTypes:h,_anvilClassic$layoutProps:g,_anvilClassic$dataBindingProps:_,_anvilClassic$propsToInitialize:y}=i,b={};Object.keys(d).forEach((e=>{var t=p[e]||d[e];void 0!==t&&(b[e]=t)})),b.tag=b.tag||s.pyCall(e.ComponentTag),c.props=b,c.propMap=v,c.propTypes=m,c.layoutPropTypes=g,c.dataBindingProp=_,c.eventHandlers=Object.assign(i._Component.eventHandlers,c.eventHandlers),c.eventTypes=new Proxy(null!=h?h:{},{get:(e,t)=>e[t],set:(e,t,n)=>(e[t]=n,n?i._Component.allowedEvents.add(t):i._Component.allowedEvents.delete(t),!0)});var[k,S]=f(b),w=$(k);if(c.element=w,c.elements=S,c.domNode=k,k.classList.add("anvil-component"),w.data("anvil-py-component",i),"visible"in b&&"visible"in v&&(i._Component.pageState.currentlyVisible=(0,o.isTrue)(b.visible)),null==y?void 0:y.length){var C=y.filter((e=>e in b)).map((e=>()=>c.setProp(e,b[e])));return(0,o.chainOrSuspend)(null,...C,(()=>i))}return i},tp$init(e,t){var n=this;if(e.length)throw new Sk.builtin.TypeError("Component constructor takes keyword arguments only");if(!i.designerApi.inDesigner){t=t||[];for(var r=!1,o=[],a=[],l=[],s=this._anvil.props,c=this._anvil.propMap,p=function(e){var i=t[e],p=t[e+1];p!==s[i]&&("__ignore_property_exceptions"===i?r=!0:i in c?c[i].readOnly?l.push(i):a.push((()=>n._anvil.setProp(i,p))):o.push(i))},u=0;u<t.length;u+=2)p(u);if(!r&&(o.length||l.length)){var d=Sk.abstr.typeName(this);throw o.length&&(d+=" got unexpected keyword argument(s): "+o.map((e=>"'"+e+"'")).join(", ")),l.length&&(d+=o.length?"\n":" ",d+="cannot set the following readonly properties: "+l.map((e=>"'"+e+"'")).join(", ")),new Sk.builtin.TypeError(d)}return a.length?Sk.misceval.chain(null,...a):void 0}}},classmethods:{__init_subclass__:{$meth(t,n){var r,i=(0,a.kwToObj)(n);s.initClassicComponentClassPrototype(this,null!==(r=i._anvil_classic)&&void 0!==r?r:{}),i._anvil_classic&&!c.call(this,"anvil$hookSpec")&&p(this);var l=new o.pySuper(e.ClassicComponent,this).tp$getattr(a.s_init_subclass);return(0,o.pyCallOrSuspend)(l,t,n)},$flags:{FastCall:!0}}},getsets:{__name__:{$get(){return Sk.abstr.lookupSpecial(this.ob$type,Sk.builtin.str.$name)}}},proto:{__serialize__:s.mkSerializePreservingIdentity((e=>{var t=[];for(var n in e._anvil.props)t.push(new Sk.builtin.str(n),e._anvil.props[n]);return new Sk.builtin.dict(t)})),__new_deserialized__:s.mkNewDeserializedPreservingIdentity()},flags:{sk$klass:!0}}),s.initClassicComponentClassPrototype(e.ClassicComponent,{properties:s.assembleGroupProperties(["user data"]),events:n,element:()=>s.h("div",null),layouts:[]}),Object.defineProperties(e.ClassicComponent.prototype,{anvil$properties:{get(){return t(this._anvilClassic$propTypes)},configurable:!0},anvil$events:{get(){return Object.values(this._anvilClassic$eventTypes)},configurable:!0}}),p(e.ClassicComponent),(0,a.initNativeSubclass)(e.ClassicComponent)}},function(e,t){var n=1/0,r=Math.abs,o=Math.pow,i=Math.floor,a=Math.log,l=Math.LN2;e.exports={pack:function(e,t,s){var c,p,u,d=new Array(s),f=8*s-t-1,v=(1<<f)-1,m=v>>1,h=23===t?o(2,-24)-o(2,-77):0,g=e<0||0===e&&1/e<0?1:0,_=0;for((e=r(e))!=e||e===n?(p=e!=e?1:0,c=v):(c=i(a(e)/l),e*(u=o(2,-c))<1&&(c--,u*=2),(e+=c+m>=1?h/u:h*o(2,1-m))*u>=2&&(c++,u/=2),c+m>=v?(p=0,c=v):c+m>=1?(p=(e*u-1)*o(2,t),c+=m):(p=e*o(2,m-1)*o(2,t),c=0));t>=8;d[_++]=255&p,p/=256,t-=8);for(c=c<<t|p,f+=t;f>0;d[_++]=255&c,c/=256,f-=8);return d[--_]|=128*g,d},unpack:function(e,t){var r,i=e.length,a=8*i-t-1,l=(1<<a)-1,s=l>>1,c=a-7,p=i-1,u=e[p--],d=127&u;for(u>>=7;c>0;d=256*d+e[p],p--,c-=8);for(r=d&(1<<-c)-1,d>>=-c,c+=t;c>0;r=256*r+e[p],p--,c-=8);if(0===d)d=1-s;else{if(d===l)return r?NaN:u?-1/0:n;r+=o(2,t),d-=s}return(u?-1:1)*r*o(2,d-t)}}},function(e,t,n){"use strict";var r=n(31),o=n(66),i=n(17);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,l=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>l;)t[l++]=e;return t}},function(e,t,n){"use strict";var r=n(12),o=n(4),i=n(18),a=n(278),l=n(105),s=n(155),c=n(59),p=n(42),u=n(22),d=n(17),f=n(210),v=n(279),m=n(65),h=n(14),g=n(72),_=n(15),y=n(67),b=n(68),k=n(82).f,S=n(281),w=n(282).forEach,C=n(86),O=n(21),P=n(58),x=n(29),T=n(203),E=x.get,j=x.set,$=O.f,A=P.f,M=Math.round,N=o.RangeError,L=s.ArrayBuffer,I=s.DataView,D=l.NATIVE_ARRAY_BUFFER_VIEWS,V=l.TYPED_ARRAY_TAG,F=l.TypedArray,R=l.TypedArrayPrototype,G=l.aTypedArrayConstructor,B=l.isTypedArray,H="BYTES_PER_ELEMENT",U="Wrong length",z=function(e,t){for(var n=0,r=t.length,o=new(G(e))(r);r>n;)o[n]=t[n++];return o},J=function(e,t){$(e,t,{get:function(){return E(this)[t]}})},W=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},q=function(e,t){return B(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},K=function(e,t){return q(e,t=m(t,!0))?p(2,e[t]):A(e,t)},Y=function(e,t,n){return!(q(e,t=m(t,!0))&&_(n)&&h(n,"value"))||h(n,"get")||h(n,"set")||n.configurable||h(n,"writable")&&!n.writable||h(n,"enumerable")&&!n.enumerable?$(e,t,n):(e[t]=n.value,e)};i?(D||(P.f=K,O.f=Y,J(R,"buffer"),J(R,"byteOffset"),J(R,"byteLength"),J(R,"length")),r({target:"Object",stat:!0,forced:!D},{getOwnPropertyDescriptor:K,defineProperty:Y}),e.exports=function(e,t,n){var i=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",s="get"+e,p="set"+e,m=o[l],h=m,g=h&&h.prototype,O={},P=function(e,t){$(e,t,{get:function(){return function(e,t){var n=E(e);return n.view[s](t*i+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var o=E(e);n&&(r=(r=M(r))<0?0:r>255?255:255&r),o.view[p](t*i+o.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};D?a&&(h=t((function(e,t,n,r){return c(e,h,l),T(_(t)?W(t)?void 0!==r?new m(t,v(n,i),r):void 0!==n?new m(t,v(n,i)):new m(t):B(t)?z(h,t):S.call(h,t):new m(f(t)),e,h)})),b&&b(h,F),w(k(m),(function(e){e in h||u(h,e,m[e])})),h.prototype=g):(h=t((function(e,t,n,r){c(e,h,l);var o,a,s,p=0,u=0;if(_(t)){if(!W(t))return B(t)?z(h,t):S.call(h,t);o=t,u=v(n,i);var m=t.byteLength;if(void 0===r){if(m%i)throw N(U);if((a=m-u)<0)throw N(U)}else if((a=d(r)*i)+u>m)throw N(U);s=a/i}else s=f(t),o=new L(a=s*i);for(j(e,{buffer:o,byteOffset:u,byteLength:a,length:s,view:new I(o)});p<s;)P(e,p++)})),b&&b(h,F),g=h.prototype=y(R)),g.constructor!==h&&u(g,"constructor",h),V&&u(g,V,l),O[l]=h,r({global:!0,forced:h!=m,sham:!D},O),H in h||u(h,H,i),H in g||u(g,H,i),C(l)}):e.exports=function(){}},function(e,t,n){var r=n(4),o=n(7),i=n(150),a=n(105).NATIVE_ARRAY_BUFFER_VIEWS,l=r.ArrayBuffer,s=r.Int8Array;e.exports=!a||!o((function(){s(1)}))||!o((function(){new s(-1)}))||!i((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||o((function(){return 1!==new s(new l(2),1,void 0).length}))},function(e,t,n){var r=n(280);e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var r=n(36);e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,n){var r=n(31),o=n(17),i=n(55),a=n(96),l=n(45),s=n(105).aTypedArrayConstructor;e.exports=function(e){var t,n,c,p,u,d,f=r(e),v=arguments.length,m=v>1?arguments[1]:void 0,h=void 0!==m,g=i(f);if(null!=g&&!a(g))for(d=(u=g.call(f)).next,f=[];!(p=d.call(u)).done;)f.push(p.value);for(h&&v>2&&(m=l(m,arguments[2],2)),n=o(f.length),c=new(s(this))(n),t=0;n>t;t++)c[t]=h?m(f[t],t):f[t];return c}},function(e,t,n){var r=n(45),o=n(92),i=n(31),a=n(17),l=n(162),s=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,p=4==e,u=6==e,d=7==e,f=5==e||u;return function(v,m,h,g){for(var _,y,b=i(v),k=o(b),S=r(m,h,3),w=a(k.length),C=0,O=g||l,P=t?O(v,w):n||d?O(v,0):void 0;w>C;C++)if((f||C in k)&&(y=S(_=k[C],C,b),e))if(t)P[C]=y;else if(y)switch(e){case 3:return!0;case 5:return _;case 6:return C;case 2:s.call(P,_)}else switch(e){case 4:return!1;case 7:s.call(P,_)}return u?-1:c||p?p:P}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n(19);var o=n(1);e.exports=e=>{e.Spacer=o.mkComponentCls(e,"Spacer",{properties:o.assembleGroupProperties(
/*!componentProps(Spacer)!1*/
["visibility","layout","height","tooltip","user data"],{height:{defaultValue:new Sk.builtin.str("32")}}),events:o.assembleGroupEvents(
/*!componentEvents()!2*/
"Spacer",["universal"]),element:e=>o.h(o.OuterElement,r({className:"anvil-spacer"},e))})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n(19),n(3);var{getCssPrefix:o}=n(9),i=n(1),{misceval:{isTrue:a}}=Sk;e.exports=e=>{e.Label=i.mkComponentCls(e,"Label",{properties:i.assembleGroupProperties(
/*!componentProps(Label)!2*/
["layout","text","appearance","icon","tooltip","user data"],{text:{dataBindingProp:!0,multiline:!0,suggested:!0,inlineEditElement:"text",group:void 0}}),events:i.assembleGroupEvents(
/*!componentEvents()!2*/
"Label",["universal"]),element:e=>{var t=o();return i.h(i.OuterElement,r({className:"anvil-label anvil-inlinable"},e),i.h(i.IconComponent,r({side:"left"},e)),i.h("span",{refName:"text",className:"".concat(t,"label-text"),style:a(e.underline)?"text-decoration: underline;":""},Sk.builtin.checkNone(e.text)?"":e.text.toString()),i.h(i.IconComponent,r({side:"right"},e)))}})}},function(e,t,n){"use strict";n(13),n(3);var r=n(9),o=n(107);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;e.Button=l.mkComponentCls(e,"Button",{properties:l.assembleGroupProperties(
/*!componentProps(Button)!2*/
["layout","interaction","text","appearance","icon","user data","tooltip"],{align:{defaultValue:new Sk.builtin.str("center"),options:["left","center","right","full"],set(e,t,n){"full"===(n=n.toString())?e._anvil.elements.button.style.width="100%":(e._anvil.elements.button.style.width="",e._anvil.elements.outer.style.textAlign=n),e._anvil.domNode.classList.toggle("anvil-inlinable","full"!==n)},description:"The position of this button in the available space.",important:!0},text:{dataBindingProp:!0,multiline:!0,suggested:!0,inlineEditElement:"text",group:void 0},font_size:{set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.elements.button.style.fontSize="number"==typeof n?n+"px":""}},font:{set(e,t,n){n=n.toString(),e._anvil.elements.button.style.fontFamily=n}},bold:{set(e,n,r){r=t(r),e._anvil.elements.button.style.fontWeight=r?"bold":""}},italic:{set(e,t,n){n=Sk.misceval.isTrue(n),e._anvil.elements.button.style.fontStyle=n?"italic":""}},underline:{set(e,t,n){n=Sk.misceval.isTrue(n),e._anvil.elements.button.style.textDecoration=n?"underline":""}},background:{set(e,t,n){e._anvil.elements.button.style.backgroundColor=l.getColor(n)}},foreground:{set(e,t,n){e._anvil.elements.button.style.color=l.getColor(n)}}}),events:l.assembleGroupEvents("Button",
/*!componentEvents(Button)!1*/
["universal"],{
/*!componentEvent(Button)!1*/
click:{name:"click",description:"When the button is clicked",parameters:[{name:"keys",description:"A dictionary of keys including 'shift', 'alt', 'ctrl', 'meta'. Each key's value is a boolean indicating if it was pressed during the click event. The meta key on a mac is the Command key",important:!1}],important:!0,defaultEvent:!0}}),element(e){var{font:n,font_size:o,bold:s,italic:c,underline:p,background:u,foreground:d}=e,f=a(e,["font","font_size","bold","italic","underline","background","foreground"]),v=f.align.toString(),m="full"===v?" width: 100%;":"",h=l.getOuterStyle({font:n,font_size:o,bold:s,italic:c,underline:p,background:u,foreground:d}),g=t(f.enabled)?{}:{disabled:""},_="full"!==v?"anvil-inlinable ":"",y=(0,r.getCssPrefix)();return l.h(l.OuterElement,i({className:_+"anvil-button"},f),l.h("button",i({refName:"button",ontouchstart:"",className:"".concat(y,"btn ").concat(y,"btn-default ").concat(y,"to-disable"),style:"max-width:100%; text-overflow:ellipsis; overflow:hidden; "+h+m},g),l.h(l.IconComponent,i({side:"left"},f)),l.h("span",{refName:"text",className:"".concat(y,"button-text")},Sk.builtin.checkNone(f.text)?"":f.text.toString()),l.h(l.IconComponent,i({side:"right"},f))))},locals(n){n.__new__=l.mkNew(e.ClassicComponent,(e=>{$(e._anvil.elements.button).on("click",(n=>{(0,o.setHandled)(n),t(e._anvil.props.enabled)&&l.raiseEventAsync({keys:{meta:n.metaKey,shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey}},e,"click")}))}))}})}},function(e,t,n){"use strict";n(13),n(10),n(51),n(3);var r=n(9),o=n(107);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval,n=(0,r.getInlineStyles)("checkbox");e.CheckBox=l.mkComponentCls(e,"CheckBox",{properties:l.assembleGroupProperties(
/*!componentProps(CheckBox)!2*/
["interaction","layout","text","appearance","tooltip","user data"],{bold:{set(e,n,r){r=t(r),e._anvil.elements.label.style.fontWeight=r?"bold":""}},font_size:{set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.elements.label.style.fontSize="number"==typeof n?n+"px":""}},underline:{set(e,n,r){r=t(r),e._anvil.elements.text.style.textDecoration=r?"underline":"none"}},
/*!componentProp(CheckBox)!1*/
checked:{name:"checked",type:"boolean",description:"The status of the checkbox",designerHint:"toggle",suggested:!0,pyVal:!0,important:!0,priority:10,exampleValue:!0,defaultValue:Sk.builtin.bool.false$,allowBindingWriteback:!0,dataBindingProp:!0,set(e,n,r){t(e._anvil.props.allow_indeterminate)&&(e._anvil.elements.input.indeterminate=r===Sk.builtin.none.none$),e._anvil.elements.input.checked=t(r)},get:(e,n)=>t(e._anvil.props.allow_indeterminate)&&e._anvil.elements.input.indeterminate?Sk.builtin.none.none$:new Sk.builtin.bool(e._anvil.elements.input.checked)},
/*!componentProp(CheckBox)!1*/
allow_indeterminate:{name:"allow_indeterminate",type:"boolean",description:"Support an indeterminate state. The indeterminate state can only be set in code by setting checked=None.",pyVal:!0,defaultValue:Sk.builtin.bool.false$,initialize:!0,set(e,n,r){t(r)?e._anvil.elements.input.indeterminate=e._anvil.props.checked===Sk.builtin.none.none$:e._anvil.elements.input.indeterminate=!1}},text:{group:void 0,inlineEditElement:"text"}}),events:l.assembleGroupEvents(
/*!componentEvents()!2*/
"CheckBox",["universal"],{change:
/*!componentEvent(CheckBox)!1*/
{name:"change",description:"When this checkbox is checked or unchecked",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{underline:o,bold:s,font_size:c,checked:p}=e,u=a(e,["underline","bold","font_size","checked"]),d=(0,r.getCssPrefix)(),f="",v="";t(o)&&(f+=" text-decoration: underline;"),t(s)&&(v+=" font-weight: bold;"),t(c)&&(v+=" font-size: "+c.toString()+"px;");var m={};return t(p)&&(m.checked=""),t(u.enabled)||(m.disabled=""),l.h(l.OuterElement,i({className:"anvil-inlinable"},u),l.h("div",{refName:"checkbox",className:d+"checkbox"},l.h("label",{refName:"label",style:n+v},l.h("input",i({refName:"input",className:"".concat(d,"to-disable"),type:"checkbox"},m)),l.h("span",{refName:"text",style:"display: inline-block; min-height: 1em;"+f},Sk.builtin.checkNone(u.text)?"":u.text.toString()))))},locals(t){t.__new__=l.mkNew(e.ClassicComponent,(e=>{e._anvil.element.on("change",(t=>{e._anvil.dataBindingWriteback(e,"checked").finally((()=>l.raiseEventAsync({},e,"change")))})),$(e._anvil.elements.label).on("click",(e=>{(0,o.setHandled)(e)}))})),t.focus=new Sk.builtin.func((function(e){return e._anvil.elements.input.focus(),Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";n(13),n(3);var r=n(9),o=n(107);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval,n=(0,r.getInlineStyles)("radio");e.RadioButton=l.mkComponentCls(e,"RadioButton",{properties:l.assembleGroupProperties(
/*!componentProps(RadioButton)!2*/
["text","layout","interaction","appearance","tooltip","user data"],{text:{set(e,t,n){(n=Sk.builtin.checkNone(n)?"":n.toString())?e._anvil.elements.text.textContent=n:e._anvil.elements.text.innerHTML="&nbsp;"},group:void 0,inlineEditElement:"text"},bold:{set(e,n,r){e._anvil.elements.text.style.fontWeight=t(r)?"bold":""}},underline:{set(e,n,r){e._anvil.elements.text.style.textDecoration=t(r)?"underline":"none"}},selected:
/*!componentProp(RadioButton)!1*/
{name:"selected",type:"boolean",suggested:!0,designerHint:"toggle",pyVal:!0,defaultValue:Sk.builtin.bool.false$,description:"The status of the radio button",set(e,n,r){e._anvil.elements.input.checked=t(r)},get:(e,t)=>new Sk.builtin.bool(e._anvil.elements.input.checked)},value:
/*!componentProp(RadioButton)!1*/
{name:"value",type:"string",pyVal:!0,defaultValue:Sk.builtin.str.$empty,description:"The value of the group when this radio button is selected",set(e,t,n){n=Sk.builtin.checkNone(n)?null:n.toString(),e._anvil.elements.input.value=n},get:(e,t)=>Sk.ffi.toPy(e._anvil.elements.input.value)},group_name:
/*!componentProp(RadioButton)!1*/
{name:"group_name",type:"string",pyVal:!0,defaultValue:new Sk.builtin.str("radioGroup1"),description:"The name of the group this radio button belongs to.",set(e,t,n){n=Sk.builtin.checkNone(n)?null:n.toString(),e._anvil.elements.input.name=n},get:(e,t)=>Sk.ffi.toPy(e._anvil.elements.input.name)}}),events:l.assembleGroupEvents("radio button",
/*!componentEvents(RadioButton)!1*/
["universal"],{
/*!componentEvent(RadioButton)!1*/
clicked:{name:"clicked",description:"When this radio button is selected",parameters:[],important:!0,defaultEvent:!0},change:{name:"change",description:"When this radio button is selected (but not deselected)",parameters:[],important:!0,deprecated:!0}}),element(e){var{bold:o,underline:s,selected:c,value:p,group_name:u}=e,d=a(e,["bold","underline","selected","value","group_name"]),f=(0,r.getCssPrefix)(),v=l.getOuterStyle({bold:o,underline:s}),m={};return t(c)&&(m.checked=""),t(d.enabled)||(m.disabled=""),l.h(l.OuterElement,i({refName:"outer",className:f+"radio anvil-inlinable"},d),l.h("label",{refName:"label",style:n},l.h("input",i({refName:"input",className:"".concat(f,"to-disable"),type:"radio",name:u.toString(),value:Sk.builtin.checkNone(p)?"":p.toString()},m)),l.h("span",{refName:"text",style:v},Sk.builtin.checkNone(d.text)?"":d.text.toString())))},locals(t){t.__new__=l.mkNew(e.ClassicComponent,(e=>{var t=l.raiseEventOrSuspend.bind(null,{},e,"clicked"),n=l.raiseEventOrSuspend.bind(null,{},e,"change");e._anvil.element.on("change",(e=>{l.asyncToPromise((()=>Sk.misceval.chain(t(),n)))})),$(e._anvil.elements.label).on("click",(e=>{(0,o.setHandled)(e)}))})),t.get_group_value=new Sk.builtin.func((function(e){var t=e._anvil.props.group_name.toString(),n=$('input[name="'+t+'"]:checked').val();return null!=n?new Sk.builtin.str(n):Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(13),n(0),n(10),n(51),n(3),n(2);var{getCssPrefix:i}=n(9),a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;e.DropDown=a.mkComponentCls(e,"DropDown",{properties:a.assembleGroupProperties(
/*!componentProps(DropDown)!2*/
["layout","interaction","text","appearance","user data","tooltip"],{align:{defaultValue:new Sk.builtin.str("full"),options:["left","center","right","full"],set(e,t,n){"full"===(n=n.toString())?(e._anvil.elements.form.style.width="100%",e._anvil.elements.select.style.width="100%"):(e._anvil.elements.form.style.width="",e._anvil.elements.select.style.width="",e._anvil.elements.outer.style.textAlign=n),e._anvil.domNode.classList.toggle("anvil-inlinable","full"!==n)},description:"The position of this dropdown in the available space.",important:!0},text:{omit:!0},font:{set(e,t,n){e._anvil.elements.select.style.fontFamily=n.toString()}},bold:{set(e,n,r){e._anvil.elements.select.style.fontWeight=t(r)?"bold":""}},italic:{set(e,n,r){e._anvil.elements.select.style.fontStyle=t(r)?"italic":""}},underline:{set(e,n,r){e._anvil.elements.select.style.textDecoration=t(r)?"underline":""}},background:{set(e,t,n){e._anvil.elements.select.style.backgroundColor=a.getColor(n)}},foreground:{set(e,t,n){e._anvil.elements.select.style.color=a.getColor(n)}},
/*!componentProp(DropDown)!1*/
items:{name:"items",type:"text[]",description:"The items to display in this dropdown.",defaultValue:new Sk.builtin.list([]),exampleValue:[["One",1],["Two",2]],important:!0,priority:10,pyVal:!0,initialize:!0,set:(e,t,r)=>n(e,t,r),get:(e,t)=>e._anvil.pyItems||new Sk.builtin.list([])},
/*!componentProp(DropDown)!1*/
selected_value:{name:"selected_value",type:"object",suggested:!0,description:"The value of the currently selected item. Can only be set at runtime.",hideFromDesigner:!0,important:!0,priority:10,pyVal:!0,allowBindingWriteback:!0,dataBindingProp:!0,set(e,t,n){for(var r=e._anvil.jsItems||[],o=0;o<r.length;o++){var[,i]=r[o];if(Sk.misceval.richCompareBool(i,n,"Eq"))return e._anvil.invalidItemElement.detach(),t.find("select").val(o),void delete e._anvil.cachedInvalidValue}e._anvil.getPropJS("include_placeholder")&&n===Sk.builtin.none.none$?(t.find("select").val(-2),delete e._anvil.cachedInvalidValue):(t.find("select").append(e._anvil.invalidItemElement).val(-1),e._anvil.cachedInvalidValue=n)},get(e,t){if(e._anvil.cachedInvalidValue)return e._anvil.cachedInvalidValue;var n=t.find("select").val(),r=e._anvil.jsItems[n];return r?r[1]:Sk.builtin.none.none$}},
/*!componentProp(DropDown)!1*/
include_placeholder:{name:"include_placeholder",type:"boolean",description:"Whether to add a placeholder item to the list with value None",defaultValue:Sk.builtin.bool.false$,pyVal:!0,important:!0,set:(e,t,r)=>(e._anvil.select.val(-3),n(e,t,e._anvil.pyItems))},
/*!componentProp(DropDown)!1*/
placeholder:{name:"placeholder",type:"string",description:"The text to be displayed when the selected_value is None.",showInDesignerWhen:"include_placeholder",defaultValue:Sk.builtin.str.$empty,pyVal:!0,important:!0,exampleValue:"Choose an item...",set:(e,t,r)=>n(e,t,e._anvil.pyItems)}}),events:a.assembleGroupEvents("DropDown",
/*!componentEvents(DropDown)!1*/
["universal"],{
/*!componentEvent(DropDown)!1*/
change:{name:"change",description:"When an item is selected",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{font:n,bold:l,italic:s,underline:c,background:p,foreground:u}=e,d=o(e,["font","bold","italic","underline","background","foreground"]),f=a.getOuterStyle({font:n,bold:l,italic:s,underline:c,background:p,foreground:u}),v="anvil-inlinable",m="";"full"===d.align.toString()&&(m="width: 100%;",delete d.align,v="");var h=t(d.enabled)?{}:{disabled:""},g=i();return a.h(a.OuterElement,r({className:v+" anvil-dropdown"},d),a.h("form",r({refName:"form",className:"".concat(g,"form-inline")},m?{style:m}:{}),a.h("select",r({refName:"select",className:"".concat(g,"form-control ").concat(g,"to-disable"),style:f+m},h))))},locals(t){t.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.invalidItemElement=$("<option />").text("<Invalid value>").val(-1),e._anvil.select=$(e._anvil.elements.select).on("change",(t=>{e._anvil.getPropJS("enabled")&&(delete e._anvil.cachedInvalidValue,e._anvil.invalidItemElement.detach(),e._anvil.dataBindingWriteback(e,"selected_value").finally((()=>a.raiseEventAsync({},e,"change"))))}));var t=e._anvil.props.selected_value;if(void 0!==t)return e._anvil.setProp("selected_value",t)})),t.focus=new Sk.builtin.func((function(e){return e._anvil.select.trigger("focus"),Sk.builtin.none.none$}))}});var n=(e,n,r)=>{var o=n.find("select"),i=e._anvil.jsItems&&e._anvil.jsItems[o.val()];return i=i&&i[1],o.empty(),Sk.misceval.chain(Sk.misceval.arrayFromIterable(r,!0),(n=>{r=new Sk.builtin.list(n),e._anvil.pyItems=r;var a=!1;t(e._anvil.getProp("include_placeholder"))&&(o.append($("<option />").text(e._anvil.getProp("placeholder").toString()).val(-2)),o.val(-2),a=!0,e._anvil.cachedInvalidValue===Sk.builtin.none.none$&&delete e._anvil.cachedInvalidValue);var l,s,c=e._anvil.jsItems=[];n.forEach(((t,n)=>{if(Sk.builtin.checkString(t))s=t,l=t,c.push([s,l]),o.append($("<option />").text(s.toString()).val(n));else{if(!(t instanceof Sk.builtin.list||t instanceof Sk.builtin.tuple))throw new Sk.builtin.TypeError("'items' must be a list of strings or tuples");if(2!==(t=Sk.misceval.arrayFromIterable(t)).length||!Sk.builtin.checkString(t[0]))throw new Sk.builtin.TypeError("Dropdown item tuples must be of the form ('label', value), (at item ".concat(n," got ").concat(Sk.misceval.objectRepr(new Sk.builtin.tuple(t)),")"));[s,l]=t,c.push(t),o.append($("<option />").text(s.toString()).val(n))}e._anvil.cachedInvalidValue&&Sk.misceval.richCompareBool(e._anvil.cachedInvalidValue,l,"Eq")?(o.val(n),delete e._anvil.cachedInvalidValue,a=!0):i&&Sk.misceval.richCompareBool(i,l,"Eq")&&(o.val(n),a=!0)})),!a&&c.length>0&&(o.val(0),delete e._anvil.cachedInvalidValue)}))}}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(13),n(16),n(10),n(51),n(3),n(20);var l=n(1),{datetimeMod:s,tzMod:c}=n(8),{getCssPrefix:p}=n(9);e.exports=e=>{var{isTrue:t}=Sk.misceval,{checkString:n}=Sk.builtin,u=s.datetime,d=s.date,f=new Sk.builtin.str("strftime"),v={"%a":"ddd","%A":"dddd","%b":"MMM","%B":"MMMM","%c":"llll","%d":"DD","%H":"HH","%I":"hh","%j":"DDDD","%m":"MM","%M":"mm","%p":"A","%S":"ss","%U":"ww","%w":"e","%W":"WW","%x":"L","%X":"LT","%y":"YY","%Y":"YYYY","%Z":"","%%":"%"},m=/%[aAbBcdHIjmMpSUwWxXyYZ%]/g,h=e=>e.replace(m,(e=>v[e])),g=(e,r,o)=>{if(!t(e))return null;if(n(e)){var i=e.toString();return"now"===i?moment():moment(i,[o,moment.ISO_8601])}if(e instanceof u){if(!t(r.pick_time))throw new Sk.builtin.ValueError("Cannot display a datetime object on a DatePicker without setting pick_time to True.");var a=e.tp$getattr(f),s=l.pyCall(a,[new Sk.builtin.str("%Y-%m-%d %H:%M:%S.%f%z")]);return moment(s.toString())}if(e instanceof d){var c=e.tp$getattr(f),p=l.pyCall(c,[new Sk.builtin.str("%Y-%m-%d")]);return moment(p.toString())}};function _(e){var n=e._anvil.props,r=t(n.pick_time)?"%c":"%x",o=h(n.format.toString()||r),i=g(n.min_date,n,o),a=g(n.max_date,n,o);e._anvil.pickerConfig={timePicker24Hour:!0,timePickerSeconds:!1,showCustomRangeLabel:!0,alwaysShowCalendars:!1,autoApply:!0,linkedCalendars:!1,autoUpdateInput:!1,minDate:i,maxDate:a,drops:"auto",locale:{format:o},timePicker:t(n.pick_time),singleDatePicker:!0,showDropdowns:!0,timePickerIncrement:1};var s=e._anvil.picker;s.val(""),s.daterangepicker(e._anvil.pickerConfig),s.off("apply.daterangepicker"),s.on("apply.daterangepicker",(function(t){e._anvil.dateMoment=$(t.target).data("daterangepicker").startDate,e._anvil.dataBindingWriteback(e,"date").finally((()=>(s.val(e._anvil.dateMoment.format(o)),l.raiseEventAsync({},e,"change"))))})),s.off("change"),s.on("change",(()=>{e._anvil.dateMoment=""===s.val()?null:s.data("daterangepicker").startDate,e._anvil.dataBindingWriteback(e,"date").finally((()=>l.raiseEventAsync({},e,"change")))})),e._anvil.dateMoment=g(n.date,n,o),e._anvil.dateMoment&&(s.data("daterangepicker").setStartDate(e._anvil.dateMoment),s.data("daterangepicker").setEndDate(e._anvil.dateMoment),s.val(e._anvil.dateMoment.format(o)))}e.DatePicker=l.mkComponentCls(e,"DatePicker",{properties:l.assembleGroupProperties(
/*!componentProps(DatePicker)!2*/
["text","layout","interaction","appearance","tooltip","user data"],{foreground:{set:(e,t,n)=>{e._anvil.elements.input.style.color=e._anvil.elements.icon.style.color=l.getColor(n)}},background:{set:(e,t,n)=>{e._anvil.elements.input.style.background=l.getColor(n)}},font_size:{set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.picker.addBack().css("font-size","number"==typeof n?n+"px":"")}},align:{set(e,t,n){n=n.toString();var r=p(),o=e._anvil.elements.input;o.classList.remove(r+"align-left",r+"align-center",r+"align-right"),o.style.textAlign=n,["left","center","right"].includes(n)&&o.classList.add(r+"align-"+n)}},text:{omit:!0},enabled:{set(e,n,r){r=!t(r),e._anvil.elements.input.disabled=r,e._anvil.elements.icon.classList.toggle("anvil-disabled",r)}},date:
/*!componentProp(DatePicker)!1*/
{name:"date",type:"string",description:"The date selected on this component.",defaultValue:Sk.builtin.str.$empty,exampleValue:"2001-01-01 14:57",allowBindingWriteback:!0,dataBindingProp:!0,suggested:!0,pyVal:!0,set(e,t,n){_(e)},get(e,n){if(!e._anvil.dateMoment||e._anvil.dateMoment===Sk.builtin.none.none$)return Sk.builtin.none.none$;var r=e._anvil.dateMoment.toArray();if(r[6]*=1e3,r[1]+=1,t(e._anvil.props.pick_time)){var o=l.pyCall(c.tzoffset,[],["minutes",Sk.ffi.remapToPy(e._anvil.dateMoment.utcOffset())]);return r.push(o),l.pyCall(u,r.map((e=>Sk.ffi.remapToPy(e))))}return l.pyCall(d,r.slice(0,3).map((e=>Sk.ffi.remapToPy(e))))},getJS:(e,t)=>Sk.ffi.remapToJs(e._anvil.props.date)},
/*!componentProp(DatePicker)!1*/
format:{name:"format",type:"string",description:"The format in which to display the selected date.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"%Y-%m-%d, %H:%M",set(e,t,n){_(e)}},
/*!componentProp(DatePicker)!1*/
pick_time:{name:"pick_time",type:"boolean",description:"Whether the user should be able to select a time as well as a date",defaultValue:Sk.builtin.bool.false$,pyVal:!0,exampleValue:!0,set(e,t,n){_(e)},important:!0},
/*!componentProp(DatePicker)!1*/
min_date:{name:"min_date",type:"string",description:"The minimum date the user can select.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"1995-07-31",set(e,t,n){_(e)}},
/*!componentProp(DatePicker)!1*/
max_date:{name:"max_date",type:"string",description:"The maximum date the user can select.",defaultValue:Sk.builtin.str.$empty,exampleValue:"2020-12-31",set(e,t,n){_(e)}},
/*!componentProp(DatePicker)!1*/
placeholder:{name:"placeholder",type:"string",description:"A string to display when the DatePicker is empty.",defaultValue:Sk.builtin.str.$empty,exampleValue:"Choose a date",set(e,n,r){e._anvil.elements.input.setAttribute("placeholder",t(r)?r.toString():"")},important:!0}}),events:l.assembleGroupEvents(
/*!componentEvents()!2*/
"DatePicker",["universal"],{change:
/*!componentEvent(DatePicker)!1*/
{name:"change",description:"When the selected date changes",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{background:n,align:s,placeholder:c,foreground:u,font_size:d}=e,f=a(e,["background","align","placeholder","foreground","font_size"]);c=t(c)?c.toString():"";var v=p(),m=t(u)?"color: "+l.getColor(u)+";":"",h=l.getOuterStyle({background:n,align:s,foreground:u,font_size:d}),g=l.getOuterClass({align:s}),_=t(f.enabled)?{}:{disabled:""},y=t(f.enabled)?"":" anvil-disabled";return l.h(l.OuterElement,r({className:"anvil-datepicker"},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({font_size:d},f)),l.h("input",r({refName:"input",className:"".concat(v,"form-control ").concat(v,"to-disable ")+g,style:h+m,placeholder:c},_)),l.h("i",{refName:"icon",className:"fa fa-calendar"+y,style:m}))},locals(n){n.__new__=l.mkNew(e.ClassicComponent,(e=>{e._anvil.picker=$(e._anvil.elements.input),e._anvil.elements.icon.addEventListener("click",(()=>{t(e._anvil.getProp("enabled"))&&e._anvil.picker.trigger("focus")})),e._anvil.pickerConfig={},_(e)})),n.focus=new Sk.builtin.func((function(e){return e._anvil.picker.trigger("focus"),Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(13),n(291),n(10),n(51),n(3);var{getCssPrefix:i}=n(9),a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;e.TextBox=a.mkComponentCls(e,"TextBox",{properties:a.assembleGroupProperties(
/*!componentProps(TextBox)!2*/
["layout","text","interaction","appearance","tooltip","user data"],{text:{dataBindingProp:!0,get(e,t){if("number"===e._anvil.inputType){var n=Number.parseFloat(e._anvil.elements.input.value);return Sk.ffi.remapToPy(isNaN(n)?null:n)}return new Sk.builtin.str(e._anvil.elements.input.value)},set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString(),e._anvil.elements.input.value=n,e._anvil.lastChangeVal=n},allowBindingWriteback:!0,suggested:!0,inlineEditElement:"input"},placeholder:
/*!componentProp(TextBox)!1*/
{name:"placeholder",type:"string",description:"The text to be displayed when the component is empty.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"Enter text here",important:!0,set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString(),e._anvil.elements.input.setAttribute("placeholder",n)}},hide_text:
/*!componentProp(TextBox)!1*/
{name:"hide_text",type:"boolean",description:"Display stars instead of the text in this box",defaultValue:Sk.builtin.bool.false$,pyVal:!0,set(e,n,r){e._anvil.hiddenInput=t(r),e._anvil.updateType()}},type:
/*!componentProp(TextBox)!1*/
{name:"type",type:"enum",options:["text","number","email","tel","url"],description:"What type of data will be entered into this box?",defaultValue:new Sk.builtin.str("text"),pyVal:!0,exampleValue:"number",set(e,t,n){n=n.toString(),n=["text","number","tel","url","email"].includes(n)?n:"text",e._anvil.inputType=n,e._anvil.updateType()}}}),events:a.assembleGroupEvents(
/*!componentEvents()!2*/
"TextBox",["universal","focus"],{change:
/*!componentEvent(TextBox)!1*/
{name:"change",description:"When the text in this text box is edited",parameters:[],important:!0},pressed_enter:
/*!componentEvent(TextBox)!1*/
{name:"pressed_enter",description:"When the user presses Enter in this text box",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{hide_text:n,type:l,placeholder:s,text:c}=e,p=o(e,["hide_text","type","placeholder","text"]),u=i(),d=a.getOuterClass(p),f=a.getOuterStyle(p),v=a.getOuterAttrs(p);return s=Sk.builtin.checkNone(s)?"":s.toString(),l=l.toString(),c=Sk.builtin.checkNone(c)?"":c.toString(),l=t(n)?"password":["text","number","tel","url","email"].includes(l)?l:"text",a.h("input",r({refName:"input",type:l,className:"".concat(u,"form-control ").concat(u,"to-disable anvil-text-box ").concat(d),style:f,value:c,placeholder:s},v))},locals(n){n.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.element.on("propertychange change keyup paste input",(function(t){"change"!==t.type&&this.focus();var n=e._anvil.elements.input.value;n!==e._anvil.lastChangeVal&&(e._anvil.lastChangeVal=n,a.raiseEventAsync({},e,"change"))})).on("keydown",(t=>{13==t.which&&(e._anvil.dataBindingWriteback(e,"text").finally((function(){return a.raiseEventAsync({},e,"pressed_enter")})),t.stopPropagation(),t.preventDefault())})).on("focus",(function(t){a.raiseEventAsync({},e,"focus")})).on("blur",(function(t){e._anvil.dataBindingWriteback(e,"text").finally((()=>setTimeout((()=>a.raiseEventAsync({},e,"lost_focus")))))}));var n=e._anvil.props.type.toString();e._anvil.inputType=["text","number","tel","url","email"].includes(n)?n:"text",e._anvil.hiddenInput=t(e._anvil.props.hide_text),e._anvil.updateType=()=>{e._anvil.elements.input.setAttribute("type",e._anvil.hiddenInput?"password":e._anvil.inputType)}})),n.focus=new Sk.builtin.func((function(e){return e._anvil.element.trigger("focus"),Sk.builtin.none.none$})),n.select=new Sk.builtin.func((function(e,t,n,r){if(t&&n){var o=Sk.ffi.remapToJs(t),i=Sk.ffi.remapToJs(n),a=r?Sk.ffi.remapToJs(r):void 0;e._anvil.elements.input.setSelectionRange(o,i,a)}else e._anvil.element.trigger("select");return Sk.builtin.none.none$}))}})}},function(e,t,n){var r=n(12),o=n(292);r({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},function(e,t,n){var r=n(4),o=n(217).trim,i=n(156),a=r.parseFloat,l=1/a(i+"-0")!=-1/0;e.exports=l?function(e){var t=o(String(e)),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(13),n(10),n(51),n(3);var{getCssPrefix:i}=n(9),a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;function n(e,t){if(e._anvil.getPropJS("visible")){var n,r=e._anvil.taHeight;n="number"==typeof r?r:"string"==typeof r&&r.length>0?parseFloat(r):0;var o=e._anvil.taDummy;o||((o=t.cloneNode()).style.position="absolute",o.style.top="100%",o.style.visibility="hidden",e._anvil.taDummy=o),o.style.height=0,o.style.width=t.clientWidth+"px",o.value=t.value,document.body.appendChild(o),t.style.height=a.cssLength(Math.max(n,o.scrollHeight+(e._anvil.taHeightDiff||0))),o.remove()}}e.TextArea=a.mkComponentCls(e,"TextArea",{properties:a.assembleGroupProperties(
/*!componentProps(TextArea)!2*/
["layout","height","text","interaction","appearance","tooltip","user data"],{text:{dataBindingProp:!0,get:(e,t)=>new Sk.builtin.str(e._anvil.lastChangeVal),set(e,t,r){var o=e._anvil.domNode;r=Sk.builtin.checkNone(r)?"":r.toString(),e._anvil.lastChangeVal=r,o.value=r,e._anvil.taAutoExpand&&n(e,o)},allowBindingWriteback:!0,multiline:!0,suggested:!0,inlineEditElement:"outer",group:void 0},height:{set(e,t,r){r=r.toString(),e._anvil.taHeight=r;var o=e._anvil.domNode;e._anvil.taAutoExpand?n(e,o):o.style.height=a.cssLength(r)}},placeholder:
/*!componentProp(TextArea)!1*/
{name:"placeholder",type:"string",description:"The text to be displayed when the component is empty.",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"Enter text here",set(e,t,n){t.attr("placeholder",Sk.builtin.checkNone(n)?"":n.toString())},group:void 0},auto_expand:
/*!componentProp(TextArea)!1*/
{name:"auto_expand",type:"boolean",description:"If true, the text area will expand vertically to fit its contents",defaultValue:Sk.builtin.bool.false$,pyVal:!0,set(e,r,o){e._anvil.taAutoExpand=t(o)&&!0;var i=e._anvil.domNode;e._anvil.taAutoExpand?n(e,i):i.style.height=a.cssLength(e._anvil.taHeight)}}}),events:a.assembleGroupEvents("text area",
/*!componentEvents(TextArea)!1*/
["universal","focus"],{change:
/*!componentEvent(TextArea)!1*/
{name:"change",description:"When the text in this text area is edited",parameters:[],important:!0,defaultEvent:!0}}),element(e){var{placeholder:t,text:n}=e,l=o(e,["placeholder","text"]),s=i(),c=a.getOuterClass(l),p=a.getOuterStyle(l),u=a.getOuterAttrs(l);return n=Sk.builtin.checkNone(n)?"":n.toString(),t=Sk.builtin.checkNone(t)?"":t.toString(),a.h("textarea",r({refName:"outer",className:"anvil-text-area ".concat(s,"form-control ").concat(s,"to-disable ").concat(c),style:p,placeholder:t},u),n)},locals(r){r.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.element.on("propertychange change keyup paste input",(function(t){var r=e._anvil.element;r.val()!=e._anvil.lastChangeVal&&(e._anvil.lastChangeVal=r.val(),a.raiseEventAsync({},e,"change")),e._anvil.taAutoExpand&&n(e,e._anvil.domNode)})).on("focus",(function(t){a.raiseEventAsync({},e,"focus")})).on("blur",(function(t){e._anvil.dataBindingWriteback(e,"text").finally((()=>setTimeout((()=>a.raiseEventAsync({},e,"lost_focus")))))})),e._anvil.taAutoExpand=t(e._anvil.props.auto_expand)&&!0,e._anvil.taHeight=e._anvil.props.height.toString();var r=e._anvil.props.text;e._anvil.lastChangeVal=Sk.builtin.checkNone(r)?"":r.toString();var o=e._anvil.element,i=()=>{e._anvil.taAutoExpand&&(e._anvil.taHeightDiff=o.outerHeight()-o.height(),n(e,e._anvil.domNode))};e._anvil.pageEvents={add:i,show:i}})),r.focus=new Sk.builtin.func((function(e){return e._anvil.element.trigger("focus"),Sk.builtin.none.none$})),r.select=new Sk.builtin.func((function(e,t,n,r){if(t&&n){var o=Sk.ffi.remapToJs(t),i=Sk.ffi.remapToJs(n),a=r?Sk.ffi.remapToJs(r):void 0;e._anvil.domNode.setSelectionRange(o,i,a)}else e._anvil.element.trigger("select");return Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";n(10),n(51);var r=n(1);e.exports=e=>{e.Timer=r.mkComponentCls(e,"Timer",{properties:[
/*!componentProp(Timer)!1*/
{name:"interval",type:"number",description:"The number of seconds between each tick. 0 switches the timer off.",suggested:!0,pyVal:!0,defaultValue:new Sk.builtin.float_(.5),set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.timerInterval=n,e._anvil.lastTicked=null,e._anvil.setTimer()}}],events:r.assembleGroupEvents(
/*!componentEvents()!3*/
"Timer",["universal","user data"],{show:{description:"When this timer's form is shown on the screen (or it is added to a visible form)"},hide:{description:"When this timer's form is hidden from the screen (or it is removed from a visible form)"},tick:
/*!componentEvent(Timer)!1*/
{name:"tick",description:"Every [interval] seconds. Does not trigger if [interval] is 0.",parameters:[],important:!0,defaultEvent:!0}}),locals(t){t.__new__=r.mkNew(e.ClassicComponent,(e=>{e._anvil.metadata={invisible:!0},e._anvil.clearTimer=()=>{e._anvil.timerHandle&&clearTimeout(e._anvil.timerHandle)},e._anvil.setTimer=()=>{var t=1e3*e._anvil.timerInterval,n=e._anvil.lastTicked,o=n?Math.max(1,n+t-Date.now()):t;e._anvil.clearTimer(),e._anvil.timerHandle=t>0?setTimeout((()=>{if(e._anvil.onPage)return e._anvil.lastTicked=Date.now(),r.raiseEventAsync({},e,"tick").finally((function(){e._anvil.setTimer()}))}),o):null},e._anvil.pageEvents={add(){e._anvil.onPage=!0,e._anvil.setTimer()},remove(){e._anvil.onPage=!1,e._anvil.clearTimer()}},e._anvil.timerInterval=Sk.ffi.remapToJs(e._anvil.props.interval),e._anvil.lastTicked=null}))}})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n(13),n(19),n(3);var o=n(1),{PostponedResizeObserver:i}=n(25);e.exports=function(e){function t(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e._anvil.element.attr("width",e._anvil.element.width()),e._anvil.element.attr("height",e._anvil.element.height()),e._anvil.ctx=e._anvil.domNode.getContext("2d"),t&&o.raiseEventAsync({},e,"reset")}e.Canvas=o.mkComponentCls(e,"Canvas",{properties:o.assembleGroupProperties(
/*!componentProps(Canvas)!1*/
["layout","height","appearance","user data","tooltip"]),events:o.assembleGroupEvents(
/*!componentEvents()!2*/
"Canvas",["universal","mouse"],{reset:
/*!componentEvent(Canvas)!1*/
{name:"reset",description:"When the canvas is reset and cleared, such as when the window resizes, or the canvas is added to a form.",parameters:[],important:!0,defaultEvent:!0}}),element(e){var t=o.getOuterAttrs(e),n=o.getOuterStyle(e),i=o.getOuterClass(e);return o.h("canvas",r({refName:"canvas",style:"width:100%; height: 150px; "+n,className:"anvil_notify_add "+i},t))},locals(n){n.__new__=o.mkNew(e.ClassicComponent,(e=>{var n=new i((()=>{e._anvil.onPage&&t(e)}));e._anvil.gradients={},e._anvil.pageEvents={add(){n.observe(e._anvil.domNode),t(e)},show(){t(e)},remove(){n.disconnect()}},t(e,!1),o.setupDefaultMouseEvents(e)})),n.get_width=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy(e._anvil.element.width())})),n.get_height=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy(e._anvil.element.height())}));var r={stroke_style:"strokeStyle",fill_style:"fillStyle",shadow_offset_x:"shadowOffsetX",shadow_offset_y:"shadowOffsetY",shadow_blur:"shadowBlur",shadow_color:"shadowColor",global_alpha:"globalAlpha",global_composite_operation:"globalCompositeOperation",line_width:"lineWidth",line_cap:"lineCap",line_join:"lineJoin",miter_limit:"miterLimit",font:"font",text_align:"textAlign",text_baseline:"textBaseline"},a=["stroke_style","fill_style","shadow_color"];n.__getattr__=new Sk.builtin.func((function(e,t){var n=t.toString();if(n in r)return e._anvil.ctx[r[n]]instanceof CanvasGradient?e._anvil.gradients[n]:Sk.ffi.remapToPy(e._anvil.ctx[r[n]]);throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+n+"'")})),n.__setattr__=new Sk.builtin.func((function(e,t,i){var l=t.toString();if(!(l in r))return Sk.builtin.object.prototype.tp$setattr.call(e,t,i);if(i instanceof n.Gradient)e._anvil.ctx[r[l]]=i._anvil.canvasGradient,e._anvil.gradients[l]=i;else if(a.indexOf(l)>-1){var s=o.getColor(i);e._anvil.ctx[r[l]]=s}else e._anvil.ctx[r[l]]=Sk.ffi.remapToJs(i)})),n.reset_context=new Sk.builtin.func((function(e){return t(e),Sk.builtin.none.none$})),n.save=new Sk.builtin.func((function(e){return e._anvil.ctx.save(),Sk.builtin.none.none$})),n.restore=new Sk.builtin.func((function(e){return e._anvil.ctx.restore(),Sk.builtin.none.none$})),n.translate=new Sk.builtin.func((function(e,t,n){return e._anvil.ctx.translate(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$})),n.rotate=new Sk.builtin.func((function(e,t){return e._anvil.ctx.rotate(Sk.ffi.remapToJs(t)),Sk.builtin.none.none$})),n.scale=new Sk.builtin.func((function(e,t,n){return e._anvil.ctx.scale(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$})),n.transform=new Sk.builtin.func((function(e,t,n,r,o,i,a){return e._anvil.ctx.transform(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(o),Sk.ffi.remapToJs(i),Sk.ffi.remapToJs(a)),Sk.builtin.none.none$})),n.set_transform=new Sk.builtin.func((function(e,t,n,r,o,i,a){return e._anvil.ctx.setTransform(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(o),Sk.ffi.remapToJs(i),Sk.ffi.remapToJs(a)),Sk.builtin.none.none$})),n.reset_transform=new Sk.builtin.func((function(e){return e._anvil.ctx.setTransform(1,0,0,1,0,0),Sk.builtin.none.none$})),n.fill_text=new Sk.builtin.func((function(e,t,n,r){return e._anvil.ctx.fillText(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r)),Sk.builtin.none.none$})),n.stroke_text=new Sk.builtin.func((function(e,t,n,r){return e._anvil.ctx.strokeText(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r)),Sk.builtin.none.none$})),n.measure_text=new Sk.builtin.func((function(e,t){return Sk.ffi.remapToPy(e._anvil.ctx.measureText(Sk.ffi.remapToJs(t)).width)})),n.clear_rect=new Sk.builtin.func((function(e,t,n,r,o){return e._anvil.ctx.clearRect(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(o)),Sk.builtin.none.none$})),n.fill_rect=new Sk.builtin.func((function(e,t,n,r,o){return e._anvil.ctx.fillRect(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(o)),Sk.builtin.none.none$})),n.stroke_rect=new Sk.builtin.func((function(e,t,n,r,o){return e._anvil.ctx.strokeRect(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(o)),Sk.builtin.none.none$})),n.begin_path=new Sk.builtin.func((function(e){return e._anvil.ctx.beginPath(),Sk.builtin.none.none$})),n.close_path=new Sk.builtin.func((function(e){return e._anvil.ctx.closePath(),Sk.builtin.none.none$})),n.fill=new Sk.builtin.func((function(e){return e._anvil.ctx.fill(),Sk.builtin.none.none$})),n.stroke=new Sk.builtin.func((function(e){return e._anvil.ctx.stroke(),Sk.builtin.none.none$})),n.clip=new Sk.builtin.func((function(e){return e._anvil.ctx.clip(),Sk.builtin.none.none$})),n.move_to=new Sk.builtin.func((function(e,t,n){return e._anvil.ctx.moveTo(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$})),n.line_to=new Sk.builtin.func((function(e,t,n){return e._anvil.ctx.lineTo(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$})),n.quadratic_curve_to=new Sk.builtin.func((function(e,t,n,r,o){return e._anvil.ctx.quadraticCurveTo(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(o)),Sk.builtin.none.none$})),n.bezier_curve_to=new Sk.builtin.func((function(e,t,n,r,o,i,a){return e._anvil.ctx.bezierCurveTo(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(o),Sk.ffi.remapToJs(i),Sk.ffi.remapToJs(a)),Sk.builtin.none.none$})),n.arc=new Sk.builtin.func((function(e,t,n,r,o,i,a){var l=void 0===o?0:o,s=void 0===i?2*Math.PI:i,c=Sk.misceval.isTrue(a);return e._anvil.ctx.arc(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r),Sk.ffi.remapToJs(l),Sk.ffi.remapToJs(s),c),Sk.builtin.none.none$})),n.draw_image=new Sk.builtin.func((function(e,t,r,i,a,l){return o.pyCallOrSuspend(n.draw_image_part,[e,t,null,null,null,null,r,i,a,l])})),n.draw_image_part=new Sk.builtin.func((function(t,n,r,i,a,l,s,c,p,u){if(!n||!Sk.misceval.isTrue(Sk.builtin.isinstance(n,e.Media)))throw new Sk.builtin.TypeError("Must pass a Media object to draw_image() or draw_image_part()");if(10!==arguments.length)throw new Sk.builtin.TypeError("draw_image_part() takes 9 arguments");r=r?Sk.ffi.remapToJs(r):void 0,i=i?Sk.ffi.remapToJs(i):void 0,a=a?Sk.ffi.remapToJs(a):void 0,l=l?Sk.ffi.remapToJs(l):void 0,s=s?Sk.ffi.remapToJs(s):0,c=c?Sk.ffi.remapToJs(c):0,p=p?Sk.ffi.remapToJs(p):void 0,u=u?Sk.ffi.remapToJs(u):void 0;var d=t._anvil.ctx,f=e=>{void 0!==r&&void 0!==i?d.drawImage(e,r,i,a,l,s,c,p,u):void 0!==p&&void 0!==u?d.drawImage(e,s,c,p,u):d.drawImage(e,s,c)};return n._anvilCachedImage?(f(n._anvilCachedImage),Sk.builtin.none.none$):Sk.misceval.chain(o.getUrlForMedia(n),(e=>Sk.misceval.tryCatch((()=>o.suspensionPromise(((t,r)=>{var o=new Image;o.onload=()=>{try{n._anvilCachedImage=o,f(o),t()}catch(e){r(e)}finally{e.release()}},o.onerror=t=>{r("Could not load image "+e.getUrl()),e.release()},o.src=e.getUrl()}))),(function(t){throw e.release(),t}))))})),n.get_image=new Sk.builtin.func((function(t){return o.pyCallOrSuspend(e.URLMedia,[new Sk.builtin.str(t._anvil.domNode.toDataURL())])})),n.Gradient=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){if(!(t instanceof CanvasGradient))throw new Sk.builtin.RuntimeError("Cannot construct Canvas.Gradient from python.");return e._anvil={canvasGradient:t},Sk.builtin.none.none$})),t.add_color_stop=new Sk.builtin.func((function(e,t,n){return e._anvil.canvasGradient.addColorStop(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),Sk.builtin.none.none$}))}),"Canvas.Gradient",[]),n.create_linear_gradient=new Sk.builtin.func((function(e,t,r,i,a){t=Sk.ffi.remapToJs(t),r=Sk.ffi.remapToJs(r),i=Sk.ffi.remapToJs(i),a=Sk.ffi.remapToJs(a);var l=e._anvil.ctx.createLinearGradient(t,r,i,a);return o.pyCallOrSuspend(n.Gradient,[l])})),n.create_radial_gradient=new Sk.builtin.func((function(e,t,r,i,a,l,s){t=Sk.ffi.remapToJs(t),r=Sk.ffi.remapToJs(r),i=Sk.ffi.remapToJs(i),a=Sk.ffi.remapToJs(a),l=Sk.ffi.remapToJs(l),s=Sk.ffi.remapToJs(s);var c=e._anvil.ctx.createRadialGradient(t,r,i,a,l,s);return o.pyCallOrSuspend(n.Gradient,[c])}))}})}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){e.SimpleCanvas=Sk.misceval.buildClass(e,(function(t,n){n.__init__=new Sk.builtin.func(r.withRawKwargs((function(t,n){Sk.misceval.call(e.Canvas.prototype.__init__,void 0,void 0,t,n),n._anvil.eventTypes.shape_grab={name:"shape_grab",description:"When the user grabs a shape",parameters:[{name:"shape",pyVal:!0,important:!0},{name:"mouse_x"},{name:"mouse_y"}]},n._anvil.eventTypes.shape_drag={name:"shape_drag",description:"When the user drags a shape",parameters:[{name:"shape",pyVal:!0,important:!0},{name:"mouse_x"},{name:"mouse_y"}]},n._anvil.eventTypes.shape_drop={name:"shape_drop",description:"When the user drops a shape",parameters:[{name:"shape",pyVal:!0,important:!0},{name:"mouse_x"},{name:"mouse_y"}]},n._anvil.eventTypes.shape_click={name:"shape_click",description:"When the user clicks on a shape",parameters:[{name:"shape",pyVal:!0,important:!0},{name:"mouse_x"},{name:"mouse_y"}]};window.requestAnimationFrame((function e(){!function(){var e=n._anvil.element.width(),t=n._anvil.element.height(),r=n._anvil.domNode.getContext("2d");for(var o in r.clearRect(0,0,e,t),n.shapes.v)n.shapes.v[o]._anvil.draw(r)}(),window.requestAnimationFrame(e)}));var o=function(e,t){var r=null;for(var o in n.shapes.v){var i=n.shapes.v[o];i._anvil.hitTest(e,t)&&(r=i)}return r},i=null,a=0,l=0,s=0,c=0;n._anvil.element.on("mousedown",(function(e){var t=n._anvil.element.offset(),a=e.pageX-t.left,l=e.pageY-t.top,p=o(a,l);p&&Sk.ffi.remapToJs(p.tp$getattr(new Sk.builtin.str("draggable")))&&(i=p,s=a,c=l,r.raiseEventAsync({shape:p,mouse_x:a,mouse_y:l},n,"shape_grab"))})),n._anvil.element.on("mousemove",(function(e){var t=n._anvil.element.offset(),s=e.pageX-t.left,c=e.pageY-t.top;if(i)i._anvil.moveBy(s-a,c-l),r.raiseEventAsync({shape:i,mouse_x:s,mouse_y:c},n,"shape_drag");else{var p=o(s,c);p&&Sk.ffi.remapToJs(p.tp$getattr(new Sk.builtin.str("draggable")))?n._anvil.element.css({cursor:"move"}):n._anvil.element.css({cursor:"initial"})}a=s,l=c})),n._anvil.element.on("mouseup",(function(e){var t=n._anvil.element.offset(),o=e.pageX-t.left,a=e.pageY-t.top;i&&(r.raiseEventAsync({shape:i,mouse_x:o,mouse_y:a},n,"shape_drop"),o-s==0&&a-c==0&&r.raiseEventAsync({shape:i,mouse_x:o,mouse_y:a},n,"shape_click")),i=null}))}))),n.shapes=new Sk.builtin.list}),"SimpleCanvas",[e.Canvas])}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(13),n(19),n(3);var i=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;function n(e,t){var n=e._anvil.domNode,r=e._anvil.elements.img,o=r.style;if(t){o.display="",r.setAttribute("src",t);var a=e._anvil.getProp("display_mode").toString(),l=e._anvil.getProp("horizontal_align")+" "+e._anvil.getProp("vertical_align");switch(a){case"shrink_to_fit":Object.assign(o,{width:"100%",height:"100%",objectFit:"contain",objectPosition:l});break;case"zoom_to_fill":Object.assign(o,{width:"100%",height:"100%",objectFit:"cover",objectPosition:l});break;case"fill_width":Object.assign(o,{width:"100%",height:"",objectFit:"",objectPosition:""});break;default:Object.assign(o,{width:"",height:"",objectFit:"",objectPosition:""})}e._anvil.isSelfSizing?n.style.height="":n.style.height=i.cssLength(e._anvil.height),n.classList.remove("anvil-image-empty")}else o.display="none",n.classList.add("anvil-image-empty")}e.Image=i.mkComponentCls(e,"Image",{properties:i.assembleGroupProperties(
/*!componentProps(Image)!1*/
["layout","height","appearance","tooltip","user data"],{height:{defaultValue:new Sk.builtin.str("200"),pyVal:!0,set(e,t,n){n=n.toString(),e._anvil.domNode.style.height=e._anvil.isSelfSizing?"":i.cssLength(n),e._anvil.height=n},description:"The height of the image (ignored in fill_width and original_size display modes)"},foreground:{hidden:!0},display_mode:
/*!componentProp(Image)!1*/
{name:"display_mode",type:"enum",priority:2,important:!0,defaultValue:new Sk.builtin.str("shrink_to_fit"),pyVal:!0,options:["shrink_to_fit","zoom_to_fill","fill_width","original_size"],description:"Determines how the image's size should be adjusted to fit the size of this Image component",initialize:!0,set(e,t,n){n=n.toString(),e._anvil.isSelfSizing="original_size"===n||"fill_width"===n,e._anvil.onPage&&e._anvil.pageEvents.add()}},align:{name:"align",deprecated:!0,hidden:!0,type:"string",defaultValue:new Sk.builtin.str("center"),pyVal:!0,set(e,t,n){e._anvil.setProp("horizontal_align",n)}},horizontal_align:
/*!componentProp(Image)!1*/
{name:"horizontal_align",priority:3,group:"Image Display",type:"enum",options:["left","center","right"],description:"Position the image horizontally within this component",defaultValue:new Sk.builtin.str("center"),pyVal:!0,important:!0,set(e,t,n){n=n.toString(),e._anvil.domNode.style.textAlign=n,e._anvil.onPage&&e._anvil.pageEvents.add()}},vertical_align:
/*!componentProp(Image)!1*/
{name:"vertical_align",group:"Image Display",important:!0,type:"enum",defaultValue:new Sk.builtin.str("center"),pyVal:!0,options:["top","center","bottom"],description:"Position the image vertically within this component",set(e,t,n){e._anvil.onPage&&e._anvil.pageEvents.add()}},source:
/*!componentProp(Image)!1*/
{name:"source",priority:1,designerHint:"asset-upload",important:!0,suggested:!0,type:"uri",accept:"image/*",description:"The image source - set a string for a URL or a Media object in code",pyVal:!0,defaultValue:new Sk.builtin.str(""),exampleValue:new Sk.builtin.str("http://mysite.com/logo.png"),initialize:!0,dataBindingProp:!0,get:(e,t)=>e._anvil.pyMedia||Sk.builtin.none.none$,getJS:(e,t)=>e._anvil.urlString||"",set(r,o,a){if(r._anvil.urlHandle&&(r._anvil.urlHandle.release(),r._anvil.urlHandle=null),r._anvil.urlString=null,Sk.builtin.checkNone(a))r._anvil.pyMedia=a;else if(Sk.builtin.checkString(a)){var l=a.toString();r._anvil.urlString=l,n(r,l),r._anvil.pyMedia=i.pyCall(e.URLMedia,[a])}else{if(!t(Sk.builtin.isinstance(a,e.Media)))throw new Sk.builtin.TypeError("The 'source' property can only be set to a Media object or a URL");r._anvil.pyMedia=a}return Sk.misceval.chain(i.getUrlForMedia(r._anvil.pyMedia),(e=>{r._anvil.urlHandle=e,r._anvil.onPage&&r._anvil.pageEvents.add()}))}}}),events:i.assembleGroupEvents(
/*!componentEvents()!2*/
"Image",["universal","mouse"]),element(e){var{height:t,display_mode:n,horizontal_align:a,align:l}=e,s=o(e,["height","display_mode","horizontal_align","align"]);return t="original_size"===(n=n.toString())||"fill_width"===n?"":"height: "+i.cssLength(t.toString())+";",a=a.toString(),i.h(i.OuterElement,r({className:"anvil-image",style:"min-height:20px;text-align:".concat(a,";").concat(t,";overflow:hidden;overflow:clip")},s),i.h("img",{refName:"img",style:"max-width:100%;max-height:100%;"}))},locals(t){t.__new__=i.mkNew(e.ClassicComponent,(e=>{e._anvil.pageEvents={remove(){e._anvil.urlHandle&&e._anvil.urlHandle.release()},add(){e._anvil.urlHandle&&n(e,e._anvil.urlHandle.getUrl())}},i.setupDefaultMouseEvents(e),e._anvil.height=e._anvil.props.height.toString()}))}})}},function(e,t,n){"use strict";n(10),n(3),n(20),n(32);var r=n(25);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval,n=!1,l=function(){var e,t=(e=function*(){try{n=!0,yield a.loadScript("https://www.youtube.com/iframe_api")}catch(e){n=!1,console.error(e)}},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();function s(e){var n,r=encodeURIComponent(void 0!==(n=(n=e._anvil.getProp("youtube_id").toString()).replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?n[2].split(/[^0-9a-z_-]/i)[0]:n),o="https://www.youtube.com/embed/"+r+"?rel=0&enablejsapi=1";t(e._anvil.getProp("autoplay"))&&(o+="&autoplay=1"),t(e._anvil.getProp("mute"))&&(o+="&mute=1"),t(e._anvil.getProp("loop"))&&(o+="&loop=1",o+="&playlist="+r),e._anvil.elements.iframe.setAttribute("src",o)}e.YouTubeVideo=a.mkComponentCls(e,"YouTubeVideo",{properties:a.assembleGroupProperties(
/*!componentProps(YouTubeVideo)!1*/
["layout","height","appearance","user data"],{height:{defaultValue:new Sk.builtin.int_(300)},youtube_id:
/*!componentProp(YouTubeVideo)!1*/
{name:"youtube_id",type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,dataBindingProp:"youtube_id",exampleValue:"m7kzwpJfEeY",description:"The ID of the YouTube video to play",suggested:!0,set(e){s(e)}},autoplay:
/*!componentProp(YouTubeVideo)!1*/
{name:"autoplay",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,description:"Set to true to play this video immediately",set(e){s(e)}},loop:
/*!componentProp(YouTubeVideo)!1*/
{name:"loop",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,description:"Set to true to play this video repeatedly",set(e){s(e)}},current_time:
/*!componentProp(YouTubeVideo)!1*/
{name:"current_time",type:"object",description:"Get or set the current playback position, in seconds.",exampleValue:10.2,defaultValue:new Sk.builtin.float_(0),pyVal:!0,set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.player&&e._anvil.player.seekTo&&e._anvil.player.seekTo(n,!0)},get:(e,t)=>e._anvil.player&&e._anvil.player.getCurrentTime?Sk.ffi.remapToPy(e._anvil.player.getCurrentTime()):new Sk.builtin.float_(0)},volume:
/*!componentProp(YouTubeVideo)!1*/
{name:"volume",type:"object",description:"Get or set the current volume, from 0 - 100.",exampleValue:50,defaultValue:new Sk.builtin.int_(50),pyVal:!0,set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.player&&e._anvil.player.setVolume&&null!=n&&e._anvil.player.setVolume(n)},get:(e,t)=>e._anvil.player&&e._anvil.player.getVolume?Sk.ffi.remapToPy(e._anvil.player.getVolume()):new Sk.builtin.int_(0)},state:
/*!componentProp(YouTubeVideo)!1*/
{name:"state",type:"object",description:"Get the current playback state of the video as a string. E.g. PLAYING",readOnly:!0,pyVal:!0,get(e,t){if(e._anvil.player&&e._anvil.player.getPlayerState)var n=e._anvil.player.getPlayerState();return new Sk.builtin.str(c(n))}},duration:
/*!componentProp(YouTubeVideo)!1*/
{name:"duration",type:"object",description:"Get the duration of the video in seconds.",readOnly:!0,pyVal:!0,get:(e,t)=>e._anvil.player&&e._anvil.player.getDuration?Sk.ffi.remapToPy(e._anvil.player.getDuration()):new Sk.builtin.int_(0)},mute:
/*!componentProp(YouTubeVideo)!1*/
{name:"mute",type:"boolean",description:"Set whether the video is muted or not.",defaultValue:Sk.builtin.bool.false$,pyVal:!0,set(e,n,r){r=t(r),e._anvil.player&&e._anvil.player.mute&&e._anvil.player.unMute&&(r?e._anvil.player.mute():e._anvil.player.unMute())}}}),events:a.assembleGroupEvents(
/*!componentEvents()!3*/
"YouTubeVideo",["universal","user data"],{show:{description:"When this video is shown on the screen (or it is added to a visible form)"},hide:{description:"When this video is hidden from the screen (or it is removed from a visible form)"},state_change:
/*!componentEvent(YouTubeVideo)!1*/
{name:"state_change",description:"When the video changes state (eg PAUSED to PLAYING)",parameters:[{name:"state",type:"string",description:"The new state of the video (values from the YouTube API)",important:!0}],important:!0,defaultEvent:!0}}),element:e=>a.h(a.OuterElement,o({style:"min-height: 34px",className:"anvil-youtube-video"},e),a.h("iframe",{refName:"iframe",enablejsapi:!0,frameborder:"0",allowfullscreen:"",allow:"autoplay",style:"height: 100%; width: 100%;"})),locals(o){o.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.playerDefer=(0,r.defer)(),e._anvil.player=null,s(e),setTimeout((function r(){window.YT&&window.YT.Player?e._anvil.player=new window.YT.Player(e._anvil.elements.iframe,{events:{onReady(){t(e._anvil.getProp(["mute"]))&&e._anvil.player.mute(),e._anvil.playerDefer.resolve(e._anvil.player)},onStateChange(t){a.raiseEventAsync({state:c(t.data)},e,"state_change")}}}):(n||l(),console.log("YouTube Player not yet loaded. Trying again in 1 sec."),setTimeout(r,1e3))}),0)})),o.play=new Sk.builtin.func((function(e){return e._anvil.playerDefer.promise.then((e=>e.playVideo())),Sk.builtin.none.none$})),o.pause=new Sk.builtin.func((function(e){return e._anvil.playerDefer.promise.then((e=>e.pauseVideo())),Sk.builtin.none.none$})),o.stop=new Sk.builtin.func((function(e){return e._anvil.playerDefer.promise.then((e=>e.stopVideo())),Sk.builtin.none.none$}))}});var c=e=>{switch(e){case-1:return"UNSTARTED";case 0:return"ENDED";case 1:return"PLAYING";case 2:return"PAUSED";case 3:return"BUFFERING";case 5:return"CUED";default:return"UNKNOWN"}}}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(13),n(3);var{getCssPrefix:i}=n(9),a=n(1);e.exports=e=>{var{isTrue:t}=Sk.misceval;function n(e){var t=e._anvil.elements.input.files.length;t?e._anvil.elements.text.textContent=t+" file"+(1===t?"":"s")+" selected":e._anvil.setProp("text",e._anvil.props.text)}e.FileLoader=a.mkComponentCls(e,"FileLoader",{properties:a.assembleGroupProperties(
/*!componentProps(FileLoader)!1*/
["layout","text","appearance","icon","interaction","user data","tooltip"],{text:{dataBindingProp:!0,defaultValue:new Sk.builtin.str("Upload"),group:void 0,inlineEditElement:"text"},align:{defaultValue:new Sk.builtin.str("center")},icon:{defaultValue:new Sk.builtin.str("fa:upload"),group:void 0},bold:{set(e,n,r){e._anvil.elements.label.style.fontWeight=t(r)?"bold":""}},font_size:{set(e,t,n){n=Sk.ffi.remapToJs(n),e._anvil.elements.label.style.fontSize="number"==typeof n?n+"px":""}},border:{set(e,n,r){e._anvil.elements.label.style.border=t(r)?r.toString():""}},background:{set(e,t,n){e._anvil.elements.label.style.backgroundColor=a.getColor(n)}},underline:{set(e,n,r){e._anvil.elements.label.style.textDecoration=t(r)?"underline":""}},foreground:{set(e,t,n){e._anvil.elements.label.style.color=a.getColor(n)}},enabled:{set(e,n,r){r=!t(r),e._anvil.elements.input.disabled=r,n.toggleClass("anvil-disabled",r)}},multiple:
/*!componentProp(FileLoader)!1*/
{name:"multiple",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,description:"If True, this FileLoader can load multiple files at the same time",set(e,n,r){e._anvil.elements.input.multiple=t(r)}},show_state:
/*!componentProp(FileLoader)!1*/
{name:"show_state",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,description:"If True, display a message describing selected files.",set(e,r,o){t(o)?n(e):e._anvil.setProp("text",e._anvil.props.text)}},file:
/*!componentProp(FileLoader)!1*/
{name:"file",type:"object",pyType:"anvil.Media instance",suggested:!0,pyVal:!0,readOnly:!0,description:"The currently selected file (or the first, if multiple files are selected). This is a Media object.",get:(e,t)=>e._anvil.firstFile},files:
/*!componentProp(FileLoader)!1*/
{name:"files",type:"object",pyType:"list(anvil.Media instance)",pyVal:!0,readOnly:!0,allowBindingWriteback:!0,description:"A list of currently selected files. Each file is a Media object.",get:(e,t)=>e._anvil.files},file_types:
/*!componentProp(FileLoader)!1*/
{name:"file_types",type:"string",description:'Specify what type of file to upload. Can accept a MIME type (eg "image/png" or "image/*"), or an extension (eg ".png"), or a comma-separated set of them (eg ".png,.jpg,.jpeg")',exampleValue:"image/*",pyVal:!0,defaultValue:Sk.builtin.none.none$,set(e,n,r){e._anvil.elements.input.accept=t(r)?Sk.ffi.remapToJs(r):""}}}),events:a.assembleGroupEvents("FileLoader",
/*!componentEvents(FileLoader)!1*/
["universal","focus"],{change:
/*!componentEvent(FileLoader)!1*/
{name:"change",description:"When a new file is loaded into this FileLoader",parameters:[{name:"file",pyType:"anvil.Media instance",pyVal:!0,description:"The first selected file. Set the 'multiple' property to allow loading more than one file.",important:!0},{name:"files",pyType:"list(anvil.Media instance)",pyVal:!0,description:"A list of loaded files. Set the 'multiple' property to allow loading more than one file.",important:!1}],important:!0,defaultEvent:!0}}),element(e){var{bold:n,font_size:l,border:s,background:c,foreground:p,multiple:u,enabled:d,file_types:f,underline:v}=e,m=o(e,["bold","font_size","border","background","foreground","multiple","enabled","file_types","underline"]),h=i(),g=a.getOuterStyle(m),_=a.getOuterClass(m)+(t(d)?"":" anvil-disabled"),y=a.getOuterAttrs(m),b=a.getOuterStyle({bold:n,font_size:l,border:s,background:c,foreground:p,underline:v}),{icon:k,icon_align:S}=m,w={};return t(u)&&(w.multiple=!0),t(d)||(w.disabled=""),f=t(f)?f.toString():"",a.h("a",r({refName:"outer",className:"".concat(h,"file-loader ").concat(_),href:"javascript:void(0)",style:g},y),a.h("label",{refName:"label",className:"anvil-inlinable",style:b},a.h(a.IconComponent,{side:"left",icon:k,icon_align:S}),a.h("span",{refName:"text",className:"".concat(h,"label-text")},Sk.builtin.checkNone(m.text)?"":m.text.toString()),a.h(a.IconComponent,{side:"right",icon:k,icon_align:S}),a.h("form",{refName:"fileUpload",className:"".concat(h,"file-upload")},a.h("input",r({refName:"input",type:"file",className:"".concat(h,"file-upload ").concat(h,"to-disable"),style:"display: none",accept:f},w)))))},locals(r){r.__new__=a.mkNew(e.ClassicComponent,(r=>{r._anvil.files=new Sk.builtin.list([]),r._anvil.firstFile=Sk.builtin.none.none$,$(r._anvil.elements.input).on("change",(o=>{for(var i=r._anvil.elements.input.files,l=[],s=0;s<i.length;s++)l.push(a.pyCall(e.FileMedia,[i[s]]));r._anvil.files=new Sk.builtin.list(l),r._anvil.firstFile=0===l.length?Sk.builtin.none.none$:l[0],t(r._anvil.getProp("show_state"))&&n(r),a.raiseEventAsync({files:r._anvil.files,file:r._anvil.firstFile},r,"change")})).on("focus",(e=>a.raiseEventAsync({},r,"focus"))).on("blur",(e=>a.raiseEventAsync({},r,"lost_focus")))})),r.open_file_selector=new Sk.builtin.func((e=>(e._anvil.elements.input.click(),Sk.builtin.none.none$))),r.focus=new Sk.builtin.func((function(e){return e._anvil.element.trigger("focus"),Sk.builtin.none.none$})),r.clear=new Sk.builtin.func((function(e){return $(e._anvil.elements.input).val(""),e._anvil.files=new Sk.builtin.list,e._anvil.firstFile=Sk.builtin.none.none$,t(e._anvil.getProp("show_state"))&&n(e),Sk.builtin.none.none$}))}})}},function(e,t,n){"use strict";n(0),n(62),n(34),n(2);var r=n(9),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=n(8),a=(n(28),n(30));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}e.exports=function(e){function t(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{detachDom:i,afterRemoval:l,setVisibility:s,isMounted:c=!0}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=(0,r.getCssPrefix)();(0,a.validateChild)(t),0===e._anvil.components.length&&e._anvil.domNode.classList.add(p+"has-components");var u={component:t,layoutProperties:o},d=e._anvil.components,{index:f}=o;return"number"==typeof f&&f>=0&&f<d.length?d.splice(f,0,u):d.push(u),(null===(n=t._anvil)||void 0===n?void 0:n.componentSpec)&&!t._anvil.metadata.invisible&&(e._anvil.childLayoutProps[t._anvil.componentSpec.name]=o),t.anvilComponent$setParent(e._anvil.overrideParentObj||e,{onRemove:()=>{if(i)i();else{var n,r,o=t.anvil$hooks.domElement;null===(n=o.parentElement)||void 0===n||null===(r=n.removeChild)||void 0===r||r.call(n,o)}for(var a=0;a<e._anvil.components.length;a++)if(e._anvil.components[a].component===t){e._anvil.components.splice(a,1);break}return 0===e._anvil.components.length&&e._anvil.domNode.classList.remove(p+"has-components"),null==l?void 0:l()},setVisibility:s,isMounted:c})}e.ClassicContainer=o.mkComponentCls(e,"ClassicContainer",{base:[e.ClassicComponent,a.Container],events:o.assembleGroupEvents("ClassicContainer",["universal"]),locals(e){e.add_component=new Sk.builtin.func((function(e,n,r){return t(e,n,r)})),e.get_components=new Sk.builtin.func((function(e){return new Sk.builtin.list(e._anvil.components.map((e=>e.component)))})),e.clear=new Sk.builtin.func((function(e){e._anvil.domNode.classList.remove((0,r.getCssPrefix)()+"has-components");var t=e._anvil.components.map((e=>{var{component:t}=e;return()=>Sk.misceval.callsimOrSuspendArray(t.tp$getattr(i.s_remove_from_parent),[])}));return Sk.misceval.chain(void 0,...t,(()=>Sk.builtin.none.none$))})),e.raise_event_on_children=new Sk.builtin.func(o.withRawKwargs((function(e,t,n){var r=Sk.ffi.remapToJs(n);if(r in t._anvil.eventTypes||r.match(/^x-/))return Sk.misceval.chain(Sk.builtin.none.none$,...t._anvil.components.map((t=>{var{component:r}=t;return()=>Sk.misceval.callsimOrSuspendArray(r.tp$getattr(i.s_raise_event),[n],e)})));throw new Sk.builtin.ValueError("Cannot raise unknown event '"+r+"' on "+t.tp$name+" component. Custom events must have the 'x-' prefix.")}))),e.__serialize__=o.mkSerializePreservingIdentity((function(e){var t=[];for(var n in e._anvil.props)t.push(new Sk.builtin.str(n),e._anvil.props[n]);var r=new Sk.builtin.dict(t),o=e._anvil.components.map((e=>new Sk.builtin.tuple([e.component,Sk.ffi.remapToPy(e.layoutProperties)])));return r.mp$ass_subscript(new Sk.builtin.str("$_components"),new Sk.builtin.list(o)),r})),e.__new_deserialized__=o.mkNewDeserializedPreservingIdentity((function(e,t){var n=new Sk.builtin.str("$_components"),r=t.mp$subscript(n);Sk.abstr.objectDelItem(t,n);var i=e.tp$getattr(new Sk.builtin.str("add_component"));return Sk.misceval.chain(o.setAttrsFromDict(e,t),(()=>Sk.misceval.iterFor(Sk.abstr.iter(r),(e=>{var t=e.v[0],n=e.v[1];return Sk.misceval.callOrSuspend(i,n,void 0,[],t)}))))}))}}),e.ClassicContainer._doAddComponent=t}},function(e,t,n){"use strict";n(13),n(0),n(16),n(19),n(3),n(20),n(2);var r,o,i,a,l,s,c=n(302),p=n(6),u=n(52),d=n(30),f=n(9);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var m=n(1),h=new Set,g=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_=/^aria-[\w-]*$/i,y=/^(\/|_\/theme\/|https?:\/\/)/,b=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,k={a:new Set(["target","href","title","rel"]),img:new Set(["src","alt","title","width","height"])},S=new Set(["script","style"]),w=new Set(["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","img"]),C=new Set(["margin","margin-left","margin-top","margin-bottom","margin-right","padding","padding-left","padding-top","padding-bottom","padding-right","font-size","font-family","font-weight","font-style","border","background-color","color"]),O=(e,t)=>{var n=e.name;return!!t.has(n)&&(!g.has(n)||Boolean(y.test(e.nodeValue)||b.test(e.nodeValue)))},P=e=>{for(var t of e)C.has(t)||e.removeProperty(t)},x=/(?:{{)|(?:}})|(?:{([a-zA-Z0-9\-_ :!.%&;^<>'"]*)})/g;function T(e,t){if(e.length<2)return null;for(var n,r=[],o=0,i=e=>{if(""!==e){var t=r.length-1;"string"==typeof r[t]?r[t]+=e:r.push(e)}};n=x.exec(e);){var[a,l]=n,s=n.index;"{{"!==a&&"}}"!==a||s++,i(e.slice(o,s)),l&&r.push(E(l,t)),o=x.lastIndex}return 0===r.length?null:(i(e.slice(o)),r)}var E=(e,t)=>{var n,r=e.indexOf(":"),o="";-1===r?n=e:(n=e.slice(0,r),o=e.slice(r+1));var i=null;n=n.replace(/![sr]$/,(e=>(i=e,"")));var[a,{placeHolder:l}]=m.h("span",{style:"display: inline-block;","x-anvil-slot":n,className:"anvil-always-inline-container"},m.h("code",{refName:"placeHolder",class:"anvil-slot-name"},e));return t[n]={format:o,flag:i,hasComponents:!1,domNode:a,placeHolder:l},a};function j(){this.innerHTML="",this.append.apply(this,arguments)}e.exports=e=>{var t=new c.Remarkable("full",{breaks:!0,highlight(e,t){if("undefined"==typeof hljs)return"";try{return t&&window.hljs.getLanguage(t)?window.hljs.highlight(t,e).value:window.hljs.highlightAuto(e).value}catch(e){return""}}});t.renderer.rules.table_open=()=>'<table class="table table-striped">\n';var n=(e,t,n)=>{var r,o=e._anvil.slots[n.slot];if(o){r=o.domNode,o.hasComponents||r.removeChild(r.firstChild),o.hasComponents=!0;var i=r.classList.contains("anvil-inlinable")?"":n.width||"auto";r.style.width=i?m.cssLength(i.toString()):null}else r=e._anvil.domNode;r.appendChild(t.anvil$hooks.domElement)},r=(e,r)=>{var o,i,a,l,s=null!==(o=null===(i=e._anvil.props.content)||void 0===i?void 0:i.toString())&&void 0!==o?o:"",c=null===(a=e._anvil.props.format)||void 0===a?void 0:a.toString(),u=(0,p.isTrue)(e._anvil.props.enable_slots),d=e._anvil.slots={},v=e._anvil.components,m=!1;for(var g of("markdown"===c?(l=document.createElement("div")).innerHTML=t.render(s):"restricted_html"===c?l=function(e){for(var t,n=(new window.DOMParser).parseFromString(e,"text/html"),r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);t=r.nextNode();){var o,i=t.nodeName.toLowerCase();if(S.has(i))r.previousNode(),t.remove();else if(w.has(i)){var a=null!==(o=k[i])&&void 0!==o?o:h;for(var l of[...t.attributes]){var s=l.name;if("style"===s)P(t.style);else{if(_.test(s))continue;O(l,a)||t.removeAttribute(s)}}}else{var c=[...t.childNodes];r.previousNode(),t.replaceChildren(),t.replaceWith(...c)}}return n.body}(s):((l=document.createElement("div")).innerText=s,m=!0),v))g.component.anvil$hooks.domElement.remove();u&&function(e,t){for(var n,r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),o=r.nextNode();o;){var i=T(o.textContent,t);n=o,o=r.nextNode(),null!==i&&n.replaceWith(...i)}}(l,d),r.replaceChildren(...l.childNodes);var y=(0,f.getCssPrefix)();for(var b of(r.classList.toggle(y+"has-text",!!s),r.style.whiteSpace=m?"pre-wrap":"unset",v))n(e,b.component,b.layoutProperties)},o=new Sk.builtin.str("clear"),i=new Sk.builtin.str("add_component");e.RichText=m.mkComponentCls(e,"RichText",{base:e.ClassicContainer,properties:m.assembleGroupProperties(
/*!componentProps(RichText)!2*/
["text","layout","appearance","tooltip","user data"],{text:{omit:!0},bold:{omit:!0},italic:{omit:!0},underline:{omit:!0},content:
/*!componentProp(RichText)!1*/
{name:"content",type:"string",description:"The content to render in this component, in the format specified by the 'format' property",exampleValue:"# This is a heading",important:!0,priority:10,pyVal:!0,defaultValue:Sk.builtin.str.$empty,set(e,t,n){r(e,t[0])},multiline:!0,suggested:!0},format:
/*!componentProp(RichText)!1*/
{name:"format",type:"enum",description:"The format of the content of this component.",options:["markdown","plain_text","restricted_html"],defaultValue:new Sk.builtin.str("markdown"),pyVal:!0,important:!0,priority:11,set(e,t){r(e,t[0])}},enable_slots:
/*!componentProp(RichText)!1*/
{name:"enable_slots",type:"boolean",description:"If true {braces} in content define slots. If false, braces in content display normally.",defaultValue:Sk.builtin.bool.true$,initialize:!0,pyVal:!0,priority:13,set(e,t,n){r(e,t[0])}},data:
/*!componentProp(RichText)!1*/
{name:"data",type:"object",description:"A dict of data or Components to populate the named content {slots}.",dataBindingProp:!0,defaultValue:Sk.builtin.none.none$,initialize:!0,pyVal:!0,priority:12,set:(t,n,r)=>((t,n,r)=>{var a=t.tp$getattr(o),l=t.tp$getattr(i),s=t._anvil.populatedDataSlots||[];t._anvil.populatedDataSlots=[];var c=[];if(r instanceof Sk.builtin.dict){var p=function(n,r){var o=t._anvil.slots[n];if(o){if(!(r instanceof e.Component)){var i=Sk.builtin.str.$empty,s=o.flag;try{i=Sk.builtin.format("!r"===s?Sk.builtin.repr(r):"!s"===s?new Sk.builtin.str(r):r,new Sk.builtin.str(o.format||""))}catch(e){Sk.builtin.print(["Warning: Could not format RichText slot value '".concat(r.toString(),"' in slot ").concat(n," with format string '").concat(o.format,"': ").concat(e instanceof Sk.builtin.Exception?new Sk.builtin.str(e).toString():(null==e?void 0:e.message)||"Internal error")])}r=m.pyCall(e.Label,[],["text",i])}t._anvil.populatedDataSlots.push(n),n=new Sk.builtin.str(n),c.push((()=>m.pyCallOrSuspend(a,[],["slot",n]))),c.push((()=>m.pyCallOrSuspend(l,[r],["slot",n])))}u=n,d=r};for(var[u,d]of r.$items())p(u,d)}else if(!Sk.builtin.checkNone(r))throw t._anvil.populatedDataSlots=s,new Sk.builtin.TypeError("data must be a dict or None, not '".concat(Sk.abstr.typeName(r),"'"));var f=function(e){-1===t._anvil.populatedDataSlots.indexOf(e)&&c.push((()=>m.pyCallOrSuspend(a,[],["slot",new Sk.builtin.str(e)])))};for(var v of s)f(v);return Sk.misceval.chain(null,...c)})(t,0,r)}}),events:m.assembleGroupEvents(
/*!componentEvents()!2*/
"RichText",["universal"]),element:e=>m.h(m.OuterElement,v({className:"anvil-rich-text anvil-inlinable anvil-container"},e)),locals(t){t.__new__=m.mkNew(e.ClassicContainer,(e=>{e._anvil.updateContent=r})),t.add_component=new m.funcWithKwargs((function(t,r,o){return(0,d.validateChild)(o),Sk.misceval.chain(o.anvil$hooks.setupDom(),(i=>(0,u.isInvisibleComponent)(o)?e.ClassicContainer._doAddComponent(r,o,t):(n(r,o,t),e.ClassicContainer._doAddComponent(r,o,t,{detachDom(){i.remove();var{slot:e}=t;if(e){var n=r._anvil.slots[e];n&&(n.domNode.children.length||(n.hasComponents=!1,n.domNode.appendChild(n.placeHolder)))}}}))))}));var o=new Sk.builtin.str("remove_from_parent");
/*!defMethod(_,[slot="slot_name"])!2*/t.clear=new m.funcWithKwargs((function(e,t){var n=t._anvil.components.slice(0),r=e.slot,i=[];return n.forEach((e=>{r&&e.layoutProperties.slot!==r||i.push((()=>m.pyCallOrSuspend(e.component.tp$getattr(o))))})),i.push((()=>Sk.builtin.none.none$)),Sk.misceval.chain(void 0,...i)}))},layouts:[{name:"slot",type:"string",description:"The name of the content slot where this component will be placed",defaultValue:"",important:!0,priority:0},{name:"width",type:"number",description:"The width for an element that is not horizontally self-sizing",defaultValue:null,important:!0,priority:0}]})},
/*!defClass(anvil,RichText,Container)!*/
null!==(o=(r=Document.prototype).replaceChildren)&&void 0!==o||(r.replaceChildren=j),null!==(a=(i=DocumentFragment.prototype).replaceChildren)&&void 0!==a||(i.replaceChildren=j),null!==(s=(l=Element.prototype).replaceChildren)&&void 0!==s||(l.replaceChildren=j)},function(e,t,n){"use strict";var r;function o(e){return(r=r||document.createElement("textarea")).innerHTML="&"+e+";",r.value}n(13),n(16),n(227),n(62),n(161),n(3),n(34),n(20),n(32),n(218),Object.defineProperty(t,"__esModule",{value:!0}),t.Remarkable=Ee,t.utils=void 0;var i=Object.prototype.hasOwnProperty;function a(e,t){return!!e&&i.call(e,t)}function l(e){return[].slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}var s=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function c(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")}function p(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function u(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var d=/&([a-z#][a-z0-9]{1,31});/gi,f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function v(e,t){var n=0,r=o(t);return t!==r?r:35===t.charCodeAt(0)&&f.test(t)&&p(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?u(n):e}function m(e){return e.indexOf("&")<0?e:e.replace(d,v)}var h=/[&<>"]/,g=/[&<>"]/g,_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function y(e){return _[e]}function b(e){return h.test(e)?e.replace(g,y):e}var k=Object.freeze({isString:function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},has:a,assign:l,unescapeMd:c,isValidEntityCode:p,fromCodePoint:u,replaceEntities:m,escapeHtml:b});t.utils=k;var S={};function w(e,t){return++t>=e.length-2?t:"paragraph_open"===e[t].type&&e[t].tight&&"inline"===e[t+1].type&&0===e[t+1].content.length&&"paragraph_close"===e[t+2].type&&e[t+2].tight?w(e,t+2):t}S.blockquote_open=function(){return"<blockquote>\n"},S.blockquote_close=function(e,t){return"</blockquote>"+C(e,t)},S.code=function(e,t){return e[t].block?"<pre><code>"+b(e[t].content)+"</code></pre>"+C(e,t):"<code>"+b(e[t].content)+"</code>"},S.fence=function(e,t,n,r,o){var i,l,s=e[t],p="",u=n.langPrefix;if(s.params){if(l=(i=s.params.split(/\s+/g)).join(" "),a(o.rules.fence_custom,i[0]))return o.rules.fence_custom[i[0]](e,t,n,r,o);p=' class="'+u+b(m(c(l)))+'"'}return"<pre><code"+p+">"+(n.highlight&&n.highlight.apply(n.highlight,[s.content].concat(i))||b(s.content))+"</code></pre>"+C(e,t)},S.fence_custom={},S.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},S.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},S.hr=function(e,t,n){return(n.xhtmlOut?"<hr />":"<hr>")+C(e,t)},S.bullet_list_open=function(){return"<ul>\n"},S.bullet_list_close=function(e,t){return"</ul>"+C(e,t)},S.list_item_open=function(){return"<li>"},S.list_item_close=function(){return"</li>\n"},S.ordered_list_open=function(e,t){var n=e[t];return"<ol"+(n.order>1?' start="'+n.order+'"':"")+">\n"},S.ordered_list_close=function(e,t){return"</ol>"+C(e,t)},S.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},S.paragraph_close=function(e,t){var n=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(n?C(e,t):"")},S.link_open=function(e,t,n){var r=e[t].title?' title="'+b(m(e[t].title))+'"':"",o=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+b(e[t].href)+'"'+r+o+">"},S.link_close=function(){return"</a>"},S.image=function(e,t,n){var r=' src="'+b(e[t].src)+'"',o=e[t].title?' title="'+b(m(e[t].title))+'"':"";return"<img"+r+(' alt="'+(e[t].alt?b(m(c(e[t].alt))):"")+'"')+o+(n.xhtmlOut?" /":"")+">"},S.table_open=function(){return"<table>\n"},S.table_close=function(){return"</table>\n"},S.thead_open=function(){return"<thead>\n"},S.thead_close=function(){return"</thead>\n"},S.tbody_open=function(){return"<tbody>\n"},S.tbody_close=function(){return"</tbody>\n"},S.tr_open=function(){return"<tr>"},S.tr_close=function(){return"</tr>\n"},S.th_open=function(e,t){var n=e[t];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},S.th_close=function(){return"</th>"},S.td_open=function(e,t){var n=e[t];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},S.td_close=function(){return"</td>"},S.strong_open=function(){return"<strong>"},S.strong_close=function(){return"</strong>"},S.em_open=function(){return"<em>"},S.em_close=function(){return"</em>"},S.del_open=function(){return"<del>"},S.del_close=function(){return"</del>"},S.ins_open=function(){return"<ins>"},S.ins_close=function(){return"</ins>"},S.mark_open=function(){return"<mark>"},S.mark_close=function(){return"</mark>"},S.sub=function(e,t){return"<sub>"+b(e[t].content)+"</sub>"},S.sup=function(e,t){return"<sup>"+b(e[t].content)+"</sup>"},S.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},S.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},S.text=function(e,t){return b(e[t].content)},S.htmlblock=function(e,t){return e[t].content},S.htmltag=function(e,t){return e[t].content},S.abbr_open=function(e,t){return'<abbr title="'+b(m(e[t].title))+'">'},S.abbr_close=function(){return"</abbr>"},S.footnote_ref=function(e,t){var n=Number(e[t].id+1).toString(),r="fnref"+n;return e[t].subId>0&&(r+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+r+'">['+n+"]</a></sup>"},S.footnote_block_open=function(e,t,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},S.footnote_block_close=function(){return"</ol>\n</section>\n"},S.footnote_open=function(e,t){return'<li id="fn'+Number(e[t].id+1).toString()+'"  class="footnote-item">'},S.footnote_close=function(){return"</li>\n"},S.footnote_anchor=function(e,t){var n="fnref"+Number(e[t].id+1).toString();return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">↩</a>'},S.dl_open=function(){return"<dl>\n"},S.dt_open=function(){return"<dt>"},S.dd_open=function(){return"<dd>"},S.dl_close=function(){return"</dl>\n"},S.dt_close=function(){return"</dt>\n"},S.dd_close=function(){return"</dd>\n"};var C=S.getBreak=function(e,t){return(t=w(e,t))<e.length&&"list_item_close"===e[t].type?"":"\n"};function O(){this.rules=l({},S),this.getBreak=S.getBreak}function P(){this.__rules__=[],this.__cache__=null}function x(e,t,n,r,o){this.src=e,this.env=r,this.options=n,this.parser=t,this.tokens=o,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function T(e,t){var n,r,o,i=-1,a=e.posMax,l=e.pos,s=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,n=1;e.pos<a;){if(91===(o=e.src.charCodeAt(e.pos)))n++;else if(93===o&&0===--n){r=!0;break}e.parser.skipToken(e)}return r?(i=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=n-1,e.pos=l,e.isInLabel=s,i}function E(e,t,n,r){var o,i,a,l,s,c;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(-1===e.indexOf("]:"))return-1;if((i=T(o=new x(e,t,n,r,[]),1))<0||58!==e.charCodeAt(i+1))return-1;for(l=o.posMax,a=i+2;a<l&&10!==o.src.charCodeAt(a);a++);return s=e.slice(2,i),0===(c=e.slice(i+2,a).trim()).length?-1:(r.abbreviations||(r.abbreviations={}),void 0===r.abbreviations[":"+s]&&(r.abbreviations[":"+s]=c),a)}function j(e){var t=m(e);try{t=decodeURI(t)}catch(e){}return encodeURI(t)}function $(e,t){var n,r,o,i=t,a=e.posMax;if(60===e.src.charCodeAt(t)){for(t++;t<a;){if(10===(n=e.src.charCodeAt(t)))return!1;if(62===n)return o=j(c(e.src.slice(i+1,t))),!!e.parser.validateLink(o)&&(e.pos=t+1,e.linkContent=o,!0);92===n&&t+1<a?t+=2:t++}return!1}for(r=0;t<a&&32!==(n=e.src.charCodeAt(t))&&!(n<32||127===n);)if(92===n&&t+1<a)t+=2;else{if(40===n&&++r>1)break;if(41===n&&--r<0)break;t++}return i!==t&&(o=c(e.src.slice(i,t)),!!e.parser.validateLink(o)&&(e.linkContent=o,e.pos=t,!0))}function A(e,t){var n,r=t,o=e.posMax,i=e.src.charCodeAt(t);if(34!==i&&39!==i&&40!==i)return!1;for(t++,40===i&&(i=41);t<o;){if((n=e.src.charCodeAt(t))===i)return e.pos=t+1,e.linkContent=c(e.src.slice(r+1,t)),!0;92===n&&t+1<o?t+=2:t++}return!1}function M(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function N(e,t,n,r){var o,i,a,l,s,c,p,u,d;if(91!==e.charCodeAt(0))return-1;if(-1===e.indexOf("]:"))return-1;if((i=T(o=new x(e,t,n,r,[]),0))<0||58!==e.charCodeAt(i+1))return-1;for(l=o.posMax,a=i+2;a<l&&(32===(s=o.src.charCodeAt(a))||10===s);a++);if(!$(o,a))return-1;for(p=o.linkContent,c=a=o.pos,a+=1;a<l&&(32===(s=o.src.charCodeAt(a))||10===s);a++);for(a<l&&c!==a&&A(o,a)?(u=o.linkContent,a=o.pos):(u="",a=c);a<l&&32===o.src.charCodeAt(a);)a++;return a<l&&10!==o.src.charCodeAt(a)?-1:(d=M(e.slice(1,i)),void 0===r.references[d]&&(r.references[d]={title:u,href:p}),a)}O.prototype.renderInline=function(e,t,n){for(var r=this.rules,o=e.length,i=0,a="";o--;)a+=r[e[i].type](e,i++,t,n,this);return a},O.prototype.render=function(e,t,n){for(var r=this.rules,o=e.length,i=-1,a="";++i<o;)"inline"===e[i].type?a+=this.renderInline(e[i].children,t,n):a+=r[e[i].type](e,i,t,n,this);return a},P.prototype.__find__=function(e){for(var t=this.__rules__.length,n=-1;t--;)if(this.__rules__[++n].name===e)return n;return-1},P.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},P.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},P.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},P.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},P.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},P.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach((function(e){e.enabled=!1})),e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0}),this),this.__cache__=null},P.prototype.disable=function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1}),this),this.__cache__=null},P.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},x.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},x.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},x.prototype.cacheSet=function(e,t){for(var n=this.cache.length;n<=e;n++)this.cache.push(0);this.cache[e]=t},x.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};var L=" \n()[]'\".,!?-";function I(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var D=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,V=/\((c|tm|r|p)\)/gi,F={c:"©",r:"®",p:"§",tm:"™"};var R=/['"]/,G=/['"]/g,B=/[-\s()\[\]]/,H="’";function U(e,t){return!(t<0||t>=e.length)&&!B.test(e[t])}function z(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}var J=[["block",function(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}],["abbr",function(e){var t,n,r,o,i=e.tokens;if(!e.inlineMode)for(t=1,n=i.length-1;t<n;t++)if("paragraph_open"===i[t-1].type&&"inline"===i[t].type&&"paragraph_close"===i[t+1].type){for(r=i[t].content;r.length&&!((o=E(r,e.inline,e.options,e.env))<0);)r=r.slice(o).trim();i[t].content=r,r.length||(i[t-1].tight=!0,i[t+1].tight=!0)}}],["references",function(e){var t,n,r,o,i=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,n=i.length-1;t<n;t++)if("inline"===i[t].type&&"paragraph_open"===i[t-1].type&&"paragraph_close"===i[t+1].type){for(r=i[t].content;r.length&&!((o=N(r,e.inline,e.options,e.env))<0);)r=r.slice(o).trim();i[t].content=r,r.length||(i[t-1].tight=!0,i[t+1].tight=!0)}}],["inline",function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.inline.parse(t.content,e.options,e.env,t.children)}],["footnote_tail",function(e){var t,n,r,o,i,a,l,s,c,p=0,u=!1,d={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(u=!0,s=[],c=e.label,!1):"footnote_reference_close"===e.type?(u=!1,d[":"+c]=s,!1):(u&&s.push(e),!u)})),e.env.footnotes.list)){for(a=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:p++}),t=0,n=a.length;t<n;t++){for(e.tokens.push({type:"footnote_open",id:t,level:p++}),a[t].tokens?((l=[]).push({type:"paragraph_open",tight:!1,level:p++}),l.push({type:"inline",content:"",level:p,children:a[t].tokens}),l.push({type:"paragraph_close",tight:!1,level:--p})):a[t].label&&(l=d[":"+a[t].label]),e.tokens=e.tokens.concat(l),i="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,o=a[t].count>0?a[t].count:1,r=0;r<o;r++)e.tokens.push({type:"footnote_anchor",id:t,subId:r,level:p});i&&e.tokens.push(i),e.tokens.push({type:"footnote_close",level:--p})}e.tokens.push({type:"footnote_block_close",level:--p})}}],["abbr2",function(e){var t,n,r,o,i,a,l,s,c,p,u,d,f=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(d="(^|["+L.split("").map(I).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(I).join("|")+")($|["+L.split("").map(I).join("")+"])",e.env.abbrRegExp=new RegExp(d,"g")),p=e.env.abbrRegExp,n=0,r=f.length;n<r;n++)if("inline"===f[n].type)for(t=(o=f[n].children).length-1;t>=0;t--)if("text"===(i=o[t]).type){for(s=0,a=i.content,p.lastIndex=0,c=i.level,l=[];u=p.exec(a);)p.lastIndex>s&&l.push({type:"text",content:a.slice(s,u.index+u[1].length),level:c}),l.push({type:"abbr_open",title:e.env.abbreviations[":"+u[2]],level:c++}),l.push({type:"text",content:u[2],level:c}),l.push({type:"abbr_close",level:--c}),s=p.lastIndex-u[3].length;l.length&&(s<a.length&&l.push({type:"text",content:a.slice(s),level:c}),f[n].children=o=[].concat(o.slice(0,t),l,o.slice(t+1)))}}],["replacements",function(e){var t,n,r,o,i,a;if(e.options.typographer)for(i=e.tokens.length-1;i>=0;i--)if("inline"===e.tokens[i].type)for(t=(o=e.tokens[i].children).length-1;t>=0;t--)"text"===(n=o[t]).type&&(r=n.content,r=(a=r).indexOf("(")<0?a:a.replace(V,(function(e,t){return F[t.toLowerCase()]})),D.test(r)&&(r=r.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),n.content=r)}],["smartquotes",function(e){var t,n,r,o,i,a,l,s,c,p,u,d,f,v,m,h,g;if(e.options.typographer)for(g=[],m=e.tokens.length-1;m>=0;m--)if("inline"===e.tokens[m].type)for(h=e.tokens[m].children,g.length=0,t=0;t<h.length;t++)if("text"===(n=h[t]).type&&!R.test(n.text)){for(l=h[t].level,f=g.length-1;f>=0&&!(g[f].level<=l);f--);g.length=f+1,i=0,a=(r=n.content).length;e:for(;i<a&&(G.lastIndex=i,o=G.exec(r));)if(s=!U(r,o.index-1),i=o.index+1,v="'"===o[0],(c=!U(r,i))||s){if(u=!c,d=!s)for(f=g.length-1;f>=0&&(p=g[f],!(g[f].level<l));f--)if(p.single===v&&g[f].level===l){p=g[f],v?(h[p.token].content=z(h[p.token].content,p.pos,e.options.quotes[2]),n.content=z(n.content,o.index,e.options.quotes[3])):(h[p.token].content=z(h[p.token].content,p.pos,e.options.quotes[0]),n.content=z(n.content,o.index,e.options.quotes[1])),g.length=f;continue e}u?g.push({token:t,pos:o.index,single:v,level:l}):d&&v&&(n.content=z(n.content,o.index,H))}else v&&(n.content=z(n.content,o.index,H))}}]];function W(){this.options={},this.ruler=new P;for(var e=0;e<J.length;e++)this.ruler.push(J[e][0],J[e][1])}function q(e,t,n,r,o){var i,a,l,s,c,p,u;for(this.src=e,this.parser=t,this.options=n,this.env=r,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",p=0,u=!1,l=s=p=0,c=(a=this.src).length;s<c;s++){if(i=a.charCodeAt(s),!u){if(32===i){p++;continue}u=!0}10!==i&&s!==c-1||(10!==i&&s++,this.bMarks.push(l),this.eMarks.push(s),this.tShift.push(p),u=!1,p=0,l=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function K(e,t){var n,r,o;return(r=e.bMarks[t]+e.tShift[t])>=(o=e.eMarks[t])||42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n||r<o&&32!==e.src.charCodeAt(r)?-1:r}function Y(e,t){var n,r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(r+1>=o)return-1;if((n=e.src.charCodeAt(r++))<48||n>57)return-1;for(;;){if(r>=o)return-1;if(!((n=e.src.charCodeAt(r++))>=48&&n<=57)){if(41===n||46===n)break;return-1}}return r<o&&32!==e.src.charCodeAt(r)?-1:r}W.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},q.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},q.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},q.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&32===this.src.charCodeAt(e);e++);return e},q.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},q.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},q.prototype.getLines=function(e,t,n,r){var o,i,a,l,s,c=e;if(e>=t)return"";if(c+1===t)return i=this.bMarks[c]+Math.min(this.tShift[c],n),a=r?this.eMarks[c]+1:this.eMarks[c],this.src.slice(i,a);for(l=new Array(t-e),o=0;c<t;c++,o++)(s=this.tShift[c])>n&&(s=n),s<0&&(s=0),i=this.bMarks[c]+s,a=c+1<t||r?this.eMarks[c]+1:this.eMarks[c],l[o]=this.src.slice(i,a);return l.join("")};var Z={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(e){Z[e]=!0}));var X=/^<([a-zA-Z]{1,15})[\s\/>]/,Q=/^<\/([a-zA-Z]{1,15})[\s>]/;function ee(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function te(e,t){var n,r,o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return o>=i||126!==(r=e.src.charCodeAt(o++))&&58!==r||o===(n=e.skipSpaces(o))||n>=i?-1:n}var ne=[["code",function(e,t,n){var r,o;if(e.tShift[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.tShift[r]-e.blkIndent>=4))break;o=++r}return e.line=r,e.tokens.push({type:"code",content:e.getLines(t,o,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}],["fences",function(e,t,n,r){var o,i,a,l,s,c=!1,p=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(p+3>u)return!1;if(126!==(o=e.src.charCodeAt(p))&&96!==o)return!1;if(s=p,(i=(p=e.skipChars(p,o))-s)<3)return!1;if((a=e.src.slice(p,u).trim()).indexOf("`")>=0)return!1;if(r)return!0;for(l=t;!(++l>=n)&&!((p=s=e.bMarks[l]+e.tShift[l])<(u=e.eMarks[l])&&e.tShift[l]<e.blkIndent);)if(e.src.charCodeAt(p)===o&&!(e.tShift[l]-e.blkIndent>=4||(p=e.skipChars(p,o))-s<i||(p=e.skipSpaces(p))<u)){c=!0;break}return i=e.tShift[t],e.line=l+(c?1:0),e.tokens.push({type:"fence",params:a,content:e.getLines(t+1,l,i,!0),lines:[t,e.line],level:e.level}),!0},["paragraph","blockquote","list"]],["blockquote",function(e,t,n,r){var o,i,a,l,s,c,p,u,d,f,v,m=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(m>h)return!1;if(62!==e.src.charCodeAt(m++))return!1;if(e.level>=e.options.maxNesting)return!1;if(r)return!0;for(32===e.src.charCodeAt(m)&&m++,s=e.blkIndent,e.blkIndent=0,l=[e.bMarks[t]],e.bMarks[t]=m,i=(m=m<h?e.skipSpaces(m):m)>=h,a=[e.tShift[t]],e.tShift[t]=m-e.bMarks[t],u=e.parser.ruler.getRules("blockquote"),o=t+1;o<n&&!((m=e.bMarks[o]+e.tShift[o])>=(h=e.eMarks[o]));o++)if(62!==e.src.charCodeAt(m++)){if(i)break;for(v=!1,d=0,f=u.length;d<f;d++)if(u[d](e,o,n,!0)){v=!0;break}if(v)break;l.push(e.bMarks[o]),a.push(e.tShift[o]),e.tShift[o]=-1337}else 32===e.src.charCodeAt(m)&&m++,l.push(e.bMarks[o]),e.bMarks[o]=m,i=(m=m<h?e.skipSpaces(m):m)>=h,a.push(e.tShift[o]),e.tShift[o]=m-e.bMarks[o];for(c=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:p=[t,0],level:e.level++}),e.parser.tokenize(e,t,o),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=c,p[1]=e.line,d=0;d<a.length;d++)e.bMarks[d+t]=l[d],e.tShift[d+t]=a[d];return e.blkIndent=s,!0},["paragraph","blockquote","list"]],["hr",function(e,t,n,r){var o,i,a,l=e.bMarks[t],s=e.eMarks[t];if((l+=e.tShift[t])>s)return!1;if(42!==(o=e.src.charCodeAt(l++))&&45!==o&&95!==o)return!1;for(i=1;l<s;){if((a=e.src.charCodeAt(l++))!==o&&32!==a)return!1;a===o&&i++}return!(i<3)&&(r||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)},["paragraph","blockquote","list"]],["list",function(e,t,n,r){var o,i,a,l,s,c,p,u,d,f,v,m,h,g,_,y,b,k,S,w,C,O=!0;if((u=Y(e,t))>=0)m=!0;else{if(!((u=K(e,t))>=0))return!1;m=!1}if(e.level>=e.options.maxNesting)return!1;if(v=e.src.charCodeAt(u-1),r)return!0;for(g=e.tokens.length,m?(p=e.bMarks[t]+e.tShift[t],f=Number(e.src.substr(p,u-p-1)),e.tokens.push({type:"ordered_list_open",order:f,lines:y=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:y=[t,0],level:e.level++}),o=t,_=!1,k=e.parser.ruler.getRules("list");!(!(o<n)||((d=(h=e.skipSpaces(u))>=e.eMarks[o]?1:h-u)>4&&(d=1),d<1&&(d=1),i=u-e.bMarks[o]+d,e.tokens.push({type:"list_item_open",lines:b=[t,0],level:e.level++}),l=e.blkIndent,s=e.tight,a=e.tShift[t],c=e.parentType,e.tShift[t]=h-e.bMarks[t],e.blkIndent=i,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,n,!0),e.tight&&!_||(O=!1),_=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=l,e.tShift[t]=a,e.tight=s,e.parentType=c,e.tokens.push({type:"list_item_close",level:--e.level}),o=t=e.line,b[1]=o,h=e.bMarks[t],o>=n)||e.isEmpty(o)||e.tShift[o]<e.blkIndent);){for(C=!1,S=0,w=k.length;S<w;S++)if(k[S](e,o,n,!0)){C=!0;break}if(C)break;if(m){if((u=Y(e,o))<0)break}else if((u=K(e,o))<0)break;if(v!==e.src.charCodeAt(u-1))break}return e.tokens.push({type:m?"ordered_list_close":"bullet_list_close",level:--e.level}),y[1]=o,e.line=o,O&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,g),!0},["paragraph","blockquote"]],["footnote",function(e,t,n,r){var o,i,a,l,s,c=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(c+4>p)return!1;if(91!==e.src.charCodeAt(c))return!1;if(94!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(l=c+2;l<p;l++){if(32===e.src.charCodeAt(l))return!1;if(93===e.src.charCodeAt(l))break}return l!==c+2&&(!(l+1>=p||58!==e.src.charCodeAt(++l))&&(r||(l++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),s=e.src.slice(c+2,l-2),e.env.footnotes.refs[":"+s]=-1,e.tokens.push({type:"footnote_reference_open",label:s,level:e.level++}),o=e.bMarks[t],i=e.tShift[t],a=e.parentType,e.tShift[t]=e.skipSpaces(l)-l,e.bMarks[t]=l,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,n,!0),e.parentType=a,e.blkIndent-=4,e.tShift[t]=i,e.bMarks[t]=o,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0))},["paragraph"]],["heading",function(e,t,n,r){var o,i,a,l=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(l>=s)return!1;if(35!==(o=e.src.charCodeAt(l))||l>=s)return!1;for(i=1,o=e.src.charCodeAt(++l);35===o&&l<s&&i<=6;)i++,o=e.src.charCodeAt(++l);return!(i>6||l<s&&32!==o)&&(r||(s=e.skipCharsBack(s,32,l),(a=e.skipCharsBack(s,35,l))>l&&32===e.src.charCodeAt(a-1)&&(s=a),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:i,lines:[t,e.line],level:e.level}),l<s&&e.tokens.push({type:"inline",content:e.src.slice(l,s).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:i,level:e.level})),!0)},["paragraph","blockquote"]],["lheading",function(e,t,n){var r,o,i,a=t+1;return!(a>=n)&&(!(e.tShift[a]<e.blkIndent)&&(!(e.tShift[a]-e.blkIndent>3)&&(!((o=e.bMarks[a]+e.tShift[a])>=(i=e.eMarks[a]))&&((45===(r=e.src.charCodeAt(o))||61===r)&&(o=e.skipChars(o,r),!((o=e.skipSpaces(o))<i)&&(o=e.bMarks[t]+e.tShift[t],e.line=a+1,e.tokens.push({type:"heading_open",hLevel:61===r?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(o,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===r?1:2,level:e.level}),!0))))))}],["htmlblock",function(e,t,n,r){var o,i,a,l=e.bMarks[t],s=e.eMarks[t],c=e.tShift[t];if(l+=c,!e.options.html)return!1;if(c>3||l+2>=s)return!1;if(60!==e.src.charCodeAt(l))return!1;if(33===(o=e.src.charCodeAt(l+1))||63===o){if(r)return!0}else{if(47!==o&&!function(e){var t=32|e;return t>=97&&t<=122}(o))return!1;if(47===o){if(!(i=e.src.slice(l,s).match(Q)))return!1}else if(!(i=e.src.slice(l,s).match(X)))return!1;if(!0!==Z[i[1].toLowerCase()])return!1;if(r)return!0}for(a=t+1;a<e.lineMax&&!e.isEmpty(a);)a++;return e.line=a,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,a,0,!0)}),!0},["paragraph","blockquote"]],["table",function(e,t,n,r){var o,i,a,l,s,c,p,u,d,f,v;if(t+2>n)return!1;if(s=t+1,e.tShift[s]<e.blkIndent)return!1;if((a=e.bMarks[s]+e.tShift[s])>=e.eMarks[s])return!1;if(124!==(o=e.src.charCodeAt(a))&&45!==o&&58!==o)return!1;if(i=ee(e,t+1),!/^[-:| ]+$/.test(i))return!1;if((c=i.split("|"))<=2)return!1;for(u=[],l=0;l<c.length;l++){if(!(d=c[l].trim())){if(0===l||l===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(d))return!1;58===d.charCodeAt(d.length-1)?u.push(58===d.charCodeAt(0)?"center":"right"):58===d.charCodeAt(0)?u.push("left"):u.push("")}if(-1===(i=ee(e,t).trim()).indexOf("|"))return!1;if(c=i.replace(/^\||\|$/g,"").split("|"),u.length!==c.length)return!1;if(r)return!0;for(e.tokens.push({type:"table_open",lines:f=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),l=0;l<c.length;l++)e.tokens.push({type:"th_open",align:u[l],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:c[l].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:v=[t+2,0],level:e.level++}),s=t+2;s<n&&!(e.tShift[s]<e.blkIndent)&&-1!==(i=ee(e,s).trim()).indexOf("|");s++){for(c=i.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),l=0;l<c.length;l++)e.tokens.push({type:"td_open",align:u[l],level:e.level++}),p=c[l].substring(124===c[l].charCodeAt(0)?1:0,124===c[l].charCodeAt(c[l].length-1)?c[l].length-1:c[l].length).trim(),e.tokens.push({type:"inline",content:p,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),f[1]=v[1]=s,e.line=s,!0},["paragraph"]],["deflist",function(e,t,n,r){var o,i,a,l,s,c,p,u,d,f,v,m,h,g;if(r)return!(e.ddIndent<0)&&te(e,t)>=0;if(p=t+1,e.isEmpty(p)&&++p>n)return!1;if(e.tShift[p]<e.blkIndent)return!1;if((o=te(e,p))<0)return!1;if(e.level>=e.options.maxNesting)return!1;c=e.tokens.length,e.tokens.push({type:"dl_open",lines:s=[t,0],level:e.level++}),a=t,i=p;e:for(;;){for(g=!0,h=!1,e.tokens.push({type:"dt_open",lines:[a,a],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(a,a+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[a,a],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:l=[p,0],level:e.level++}),m=e.tight,d=e.ddIndent,u=e.blkIndent,v=e.tShift[i],f=e.parentType,e.blkIndent=e.ddIndent=e.tShift[i]+2,e.tShift[i]=o-e.bMarks[i],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,i,n,!0),e.tight&&!h||(g=!1),h=e.line-i>1&&e.isEmpty(e.line-1),e.tShift[i]=v,e.tight=m,e.parentType=f,e.blkIndent=u,e.ddIndent=d,e.tokens.push({type:"dd_close",level:--e.level}),l[1]=p=e.line,p>=n)break e;if(e.tShift[p]<e.blkIndent)break e;if((o=te(e,p))<0)break;i=p}if(p>=n)break;if(a=p,e.isEmpty(a))break;if(e.tShift[a]<e.blkIndent)break;if((i=a+1)>=n)break;if(e.isEmpty(i)&&i++,i>=n)break;if(e.tShift[i]<e.blkIndent)break;if((o=te(e,i))<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),s[1]=p,e.line=p,g&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,c),!0},["paragraph"]],["paragraph",function(e,t){var n,r,o,i,a,l,s=t+1;if(s<(n=e.lineMax)&&!e.isEmpty(s))for(l=e.parser.ruler.getRules("paragraph");s<n&&!e.isEmpty(s);s++)if(!(e.tShift[s]-e.blkIndent>3)){for(o=!1,i=0,a=l.length;i<a;i++)if(l[i](e,s,n,!0)){o=!0;break}if(o)break}return r=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,r.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:r,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}]];function re(){this.ruler=new P;for(var e=0;e<ne.length;e++)this.ruler.push(ne[e][0],ne[e][1],{alt:(ne[e][2]||[]).slice()})}re.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,l=!1;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.tShift[a]<e.blkIndent);){for(r=0;r<i&&!o[r](e,a,n,!1);r++);if(e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),(a=e.line)<n&&e.isEmpty(a)){if(l=!0,++a<n&&"list"===e.parentType&&e.isEmpty(a))break;e.line=a}}};var oe=/[\n\t]/g,ie=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,ae=/\u00a0/g;function le(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}re.prototype.parse=function(e,t,n,r){var o,i=0,a=0;if(!e)return[];(e=(e=e.replace(ae," ")).replace(ie,"\n")).indexOf("\t")>=0&&(e=e.replace(oe,(function(t,n){var r;return 10===e.charCodeAt(n)?(i=n+1,a=0,t):(r="    ".slice((n-i-a)%4),a=n-i+1,r)}))),o=new q(e,this,t,n,r),this.tokenize(o,o.line,o.lineMax)};for(var se=[],ce=0;ce<256;ce++)se.push(0);function pe(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function ue(e,t){var n,r,o,i=t,a=!0,l=!0,s=e.posMax,c=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;i<s&&e.src.charCodeAt(i)===c;)i++;return i>=s&&(a=!1),(o=i-t)>=4?a=l=!1:(32!==(r=i<s?e.src.charCodeAt(i):-1)&&10!==r||(a=!1),32!==n&&10!==n||(l=!1),95===c&&(pe(n)&&(a=!1),pe(r)&&(l=!1))),{can_open:a,can_close:l,delims:o}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){se[e.charCodeAt(0)]=1}));var de=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var fe=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var ve=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],me=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,he=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function ge(e,t){return e=e.source,t=t||"",function n(r,o){return r?(o=o.source||o,e=e.replace(r,o),n):new RegExp(e,t)}}var _e=ge(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",/[^"'=<>`\x00-\x20]+/)("single_quoted",/'[^']*'/)("double_quoted",/"[^"]*"/)(),ye=ge(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",/[a-zA-Z_:][a-zA-Z0-9:._-]*/)("attr_value",_e)(),be=ge(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",ye)(),ke=ge(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",be)("close_tag",/<\/[A-Za-z][A-Za-z0-9]*\s*>/)("comment",/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/)("processing",/<[?].*?[?]>/)("declaration",/<![A-Z]+\s+[^>]*>/)("cdata",/<!\[CDATA\[[\s\S]*?\]\]>/)();var Se=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,we=/^&([a-z][a-z0-9]{1,31});/i;var Ce=[["text",function(e,t){for(var n=e.pos;n<e.posMax&&!le(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["newline",function(e,t){var n,r,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;if(n=e.pending.length-1,r=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(var i=n-2;i>=0;i--)if(32!==e.pending.charCodeAt(i)){e.pending=e.pending.substring(0,i+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(o++;o<r&&32===e.src.charCodeAt(o);)o++;return e.pos=o,!0}],["escape",function(e,t){var n,r=e.pos,o=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(++r<o){if((n=e.src.charCodeAt(r))<256&&0!==se[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){for(t||e.push({type:"hardbreak",level:e.level}),r++;r<o&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}],["backticks",function(e,t){var n,r,o,i,a,l=e.pos;if(96!==e.src.charCodeAt(l))return!1;for(n=l,l++,r=e.posMax;l<r&&96===e.src.charCodeAt(l);)l++;for(o=e.src.slice(n,l),i=a=l;-1!==(i=e.src.indexOf("`",a));){for(a=i+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-i===o.length)return t||e.push({type:"code",content:e.src.slice(l,i).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=a,!0}return t||(e.pending+=o),e.pos+=o.length,!0}],["del",function(e,t){var n,r,o,i,a,l=e.posMax,s=e.pos;if(126!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+4>=l)return!1;if(126!==e.src.charCodeAt(s+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=s>0?e.src.charCodeAt(s-1):-1,a=e.src.charCodeAt(s+2),126===i)return!1;if(126===a)return!1;if(32===a||10===a)return!1;for(r=s+2;r<l&&126===e.src.charCodeAt(r);)r++;if(r>s+3)return e.pos+=r-s,t||(e.pending+=e.src.slice(s,r)),!0;for(e.pos=s+2,o=1;e.pos+1<l;){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),126!==(a=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1)&&126!==i&&(32!==i&&10!==i?o--:32!==a&&10!==a&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=s+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=s,!1)}],["ins",function(e,t){var n,r,o,i,a,l=e.posMax,s=e.pos;if(43!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+4>=l)return!1;if(43!==e.src.charCodeAt(s+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=s>0?e.src.charCodeAt(s-1):-1,a=e.src.charCodeAt(s+2),43===i)return!1;if(43===a)return!1;if(32===a||10===a)return!1;for(r=s+2;r<l&&43===e.src.charCodeAt(r);)r++;if(r!==s+2)return e.pos+=r-s,t||(e.pending+=e.src.slice(s,r)),!0;for(e.pos=s+2,o=1;e.pos+1<l;){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),43!==(a=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1)&&43!==i&&(32!==i&&10!==i?o--:32!==a&&10!==a&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=s+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=s,!1)}],["mark",function(e,t){var n,r,o,i,a,l=e.posMax,s=e.pos;if(61!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+4>=l)return!1;if(61!==e.src.charCodeAt(s+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=s>0?e.src.charCodeAt(s-1):-1,a=e.src.charCodeAt(s+2),61===i)return!1;if(61===a)return!1;if(32===a||10===a)return!1;for(r=s+2;r<l&&61===e.src.charCodeAt(r);)r++;if(r!==s+2)return e.pos+=r-s,t||(e.pending+=e.src.slice(s,r)),!0;for(e.pos=s+2,o=1;e.pos+1<l;){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),61!==(a=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1)&&61!==i&&(32!==i&&10!==i?o--:32!==a&&10!==a&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=s+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=s,!1)}],["emphasis",function(e,t){var n,r,o,i,a,l,s,c=e.posMax,p=e.pos,u=e.src.charCodeAt(p);if(95!==u&&42!==u)return!1;if(t)return!1;if(n=(s=ue(e,p)).delims,!s.can_open)return e.pos+=n,t||(e.pending+=e.src.slice(p,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=p+n,l=[n];e.pos<c;)if(e.src.charCodeAt(e.pos)!==u)e.parser.skipToken(e);else{if(r=(s=ue(e,e.pos)).delims,s.can_close){for(i=l.pop(),a=r;i!==a;){if(a<i){l.push(i-a);break}if(a-=i,0===l.length)break;e.pos+=i,i=l.pop()}if(0===l.length){n=i,o=!0;break}e.pos+=r;continue}s.can_open&&l.push(r),e.pos+=r}return o?(e.posMax=e.pos,e.pos=p+n,t||(2!==n&&3!==n||e.push({type:"strong_open",level:e.level++}),1!==n&&3!==n||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==n&&3!==n||e.push({type:"em_close",level:--e.level}),2!==n&&3!==n||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+n,e.posMax=c,!0):(e.pos=p,!1)}],["sub",function(e,t){var n,r,o=e.posMax,i=e.pos;if(126!==e.src.charCodeAt(i))return!1;if(t)return!1;if(i+2>=o)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=i+1;e.pos<o;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&i+1!==e.pos?(r=e.src.slice(i+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=i,!1):(e.posMax=e.pos,e.pos=i+1,t||e.push({type:"sub",level:e.level,content:r.replace(de,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0):(e.pos=i,!1)}],["sup",function(e,t){var n,r,o=e.posMax,i=e.pos;if(94!==e.src.charCodeAt(i))return!1;if(t)return!1;if(i+2>=o)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=i+1;e.pos<o;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&i+1!==e.pos?(r=e.src.slice(i+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=i,!1):(e.posMax=e.pos,e.pos=i+1,t||e.push({type:"sup",level:e.level,content:r.replace(fe,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0):(e.pos=i,!1)}],["links",function(e,t){var n,r,o,i,a,l,s,c,p=!1,u=e.pos,d=e.posMax,f=e.pos,v=e.src.charCodeAt(f);if(33===v&&(p=!0,v=e.src.charCodeAt(++f)),91!==v)return!1;if(e.level>=e.options.maxNesting)return!1;if(n=f+1,(r=T(e,f))<0)return!1;if((l=r+1)<d&&40===e.src.charCodeAt(l)){for(l++;l<d&&(32===(c=e.src.charCodeAt(l))||10===c);l++);if(l>=d)return!1;for(f=l,$(e,l)?(i=e.linkContent,l=e.pos):i="",f=l;l<d&&(32===(c=e.src.charCodeAt(l))||10===c);l++);if(l<d&&f!==l&&A(e,l))for(a=e.linkContent,l=e.pos;l<d&&(32===(c=e.src.charCodeAt(l))||10===c);l++);else a="";if(l>=d||41!==e.src.charCodeAt(l))return e.pos=u,!1;l++}else{if(e.linkLevel>0)return!1;for(;l<d&&(32===(c=e.src.charCodeAt(l))||10===c);l++);if(l<d&&91===e.src.charCodeAt(l)&&(f=l+1,(l=T(e,l))>=0?o=e.src.slice(f,l++):l=f-1),o||(void 0===o&&(l=r+1),o=e.src.slice(n,r)),!(s=e.env.references[M(o)]))return e.pos=u,!1;i=s.href,a=s.title}return t||(e.pos=n,e.posMax=r,p?e.push({type:"image",src:i,title:a,alt:e.src.substr(n,r-n),level:e.level}):(e.push({type:"link_open",href:i,title:a,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=l,e.posMax=d,!0}],["footnote_inline",function(e,t){var n,r,o,i,a=e.posMax,l=e.pos;return!(l+2>=a)&&(94===e.src.charCodeAt(l)&&(91===e.src.charCodeAt(l+1)&&(!(e.level>=e.options.maxNesting)&&(n=l+2,!((r=T(e,l+1))<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),o=e.env.footnotes.list.length,e.pos=n,e.posMax=r,e.push({type:"footnote_ref",id:o,level:e.level}),e.linkLevel++,i=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[o]={tokens:e.tokens.splice(i)},e.linkLevel--),e.pos=r+1,e.posMax=a,!0)))))}],["footnote_ref",function(e,t){var n,r,o,i,a=e.posMax,l=e.pos;if(l+3>a)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(l))return!1;if(94!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(r=l+2;r<a;r++){if(32===e.src.charCodeAt(r))return!1;if(10===e.src.charCodeAt(r))return!1;if(93===e.src.charCodeAt(r))break}return r!==l+2&&(!(r>=a)&&(r++,n=e.src.slice(l+2,r-1),void 0!==e.env.footnotes.refs[":"+n]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(o=e.env.footnotes.list.length,e.env.footnotes.list[o]={label:n,count:0},e.env.footnotes.refs[":"+n]=o):o=e.env.footnotes.refs[":"+n],i=e.env.footnotes.list[o].count,e.env.footnotes.list[o].count++,e.push({type:"footnote_ref",id:o,subId:i,level:e.level})),e.pos=r,e.posMax=a,!0)))}],["autolink",function(e,t){var n,r,o,i,a,l=e.pos;return 60===e.src.charCodeAt(l)&&(!((n=e.src.slice(l)).indexOf(">")<0)&&((r=n.match(he))?!(ve.indexOf(r[1].toLowerCase())<0)&&(a=j(i=r[0].slice(1,-1)),!!e.parser.validateLink(i)&&(t||(e.push({type:"link_open",href:a,level:e.level}),e.push({type:"text",content:i,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=r[0].length,!0)):!!(o=n.match(me))&&(a=j("mailto:"+(i=o[0].slice(1,-1))),!!e.parser.validateLink(a)&&(t||(e.push({type:"link_open",href:a,level:e.level}),e.push({type:"text",content:i,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=o[0].length,!0))))}],["htmltag",function(e,t){var n,r,o,i=e.pos;return!!e.options.html&&(o=e.posMax,!(60!==e.src.charCodeAt(i)||i+2>=o)&&(!(33!==(n=e.src.charCodeAt(i+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(r=e.src.slice(i).match(ke))&&(t||e.push({type:"htmltag",content:e.src.slice(i,i+r[0].length),level:e.level}),e.pos+=r[0].length,!0))))}],["entity",function(e,t){var n,r,i=e.pos,a=e.posMax;if(38!==e.src.charCodeAt(i))return!1;if(i+1<a)if(35===e.src.charCodeAt(i+1)){if(r=e.src.slice(i).match(Se))return t||(n="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),e.pending+=p(n)?u(n):u(65533)),e.pos+=r[0].length,!0}else if(r=e.src.slice(i).match(we)){var l=o(r[1]);if(r[1]!==l)return t||(e.pending+=l),e.pos+=r[0].length,!0}return t||(e.pending+="&"),e.pos++,!0}]];function Oe(){this.ruler=new P;for(var e=0;e<Ce.length;e++)this.ruler.push(Ce[e][0],Ce[e][1]);this.validateLink=Pe}function Pe(e){var t=e.trim().toLowerCase();return-1===(t=m(t)).indexOf(":")||-1===["vbscript","javascript","file","data"].indexOf(t.split(":")[0])}Oe.prototype.skipToken=function(e){var t,n,r=this.ruler.getRules(""),o=r.length,i=e.pos;if((n=e.cacheGet(i))>0)e.pos=n;else{for(t=0;t<o;t++)if(r[t](e,!0))return void e.cacheSet(i,e.pos);e.pos++,e.cacheSet(i,e.pos)}},Oe.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax;e.pos<i;){for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Oe.prototype.parse=function(e,t,n,r){var o=new x(e,this,t,n,r);this.tokenize(o)};var xe={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},full:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}};function Te(e,t,n){this.src=t,this.env=n,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function Ee(e,t){"string"!=typeof e&&(t=e,e="default"),t&&null!=t.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new Oe,this.block=new re,this.core=new W,this.renderer=new O,this.ruler=new P,this.options={},this.configure(xe[e]),this.set(t||{})}Ee.prototype.set=function(e){l(this.options,e)},Ee.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enable(e.components[n].rules,!0)}))},Ee.prototype.use=function(e,t){return e(this,t),this},Ee.prototype.parse=function(e,t){var n=new Te(this,e,t);return this.core.process(n),n.tokens},Ee.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Ee.prototype.parseInline=function(e,t){var n=new Te(this,e,t);return n.inlineMode=!0,this.core.process(n),n.tokens},Ee.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)}},function(e,t,n){var r=n(7),o=n(156);e.exports=function(e){return r((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}n(0),n(16),n(10),n(3),n(20),n(2);var i=n(1),{s_get_components:a}=n(8),{pyFunc:l}=n(6);e.exports=function(e){var{misceval:{isTrue:t,callsimArray:n,callsimOrSuspendArray:s,chain:c},builtin:{none:{none$:p},str:u,tuple:d,isinstance:f,checkString:v}}=Sk,m=new u("add_component"),h=new u("remove_from_parent"),g=new u("clear"),_=[],y=[],b=!1;function k(){var e;return e=function*(){if(yield i.loadScript("https://maps.googleapis.com/maps/api/js?key=".concat(window.anvilGoogleApiKey,"&v=3&libraries=geometry")),!window.google)throw console.warn("Google unavailable, not loading GoogleMap component"),new Sk.builtin.RuntimeError("Google maps is unavailable")},k=function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)}))},k.apply(this,arguments)}var S=()=>{var t=e.GoogleMap.prototype;for(var n of y)t[n]=t[n]();for(var r of _)r.jsType=r.jsType();b=!0};function w(){if(!b)return window.gm_authFailure=e=>{window.googleMapsAuthFailure=!0},window.google?S():Sk.misceval.chain(Sk.misceval.promiseToSuspension(function(){return k.apply(this,arguments)}()),S)}var C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sk.misceval.chain(w(),...t)};function O(e,t){_.push({jsType:e,pyType:t}),Object.defineProperty(t.prototype,"valueOf",{value(){return this._toJsVal?this._toJsVal():this._jsVal},writable:!0})}var P=e=>{for(var t of _||[])if(e instanceof t.pyType)return e._toJsVal?e._toJsVal():e._jsVal};function x(e){return Sk.ffi.toJs(e,{unhandledHook:P})}var T=e=>{for(var t of _||[]){var n;if(e instanceof t.jsType)return null!==(n=e._pyVal)&&void 0!==n?n:Sk.misceval.callsim(t.pyType,e)}return Sk.ffi.proxy(e)};function E(e){return Sk.ffi.toPy(e,{proxyHook:T})}function j(e){return e.replace(/_(.)/g,((e,t)=>t.toUpperCase()))}function A(e,t){var n;for(var r in null!==(n=t)&&void 0!==n||(t={}),e){t[j(r)]=x(e[r])}return t}function M(e,t){for(var n in t){var r=t[n].transformRawArgs?i.funcWithRawKwargsDict:i.funcWithKwargs;e[n]=r(function(e,t,n,r){var o,i=t.transformArgs||t.transformRawArgs||function(e,t){var n=[],r=Array.prototype.slice.call(arguments,2);for(var o in r)n.push(x(r[o]));return n},a=t.transformResult||E,l=Array.prototype.slice.call(arguments,2),s=i.apply(null,l),p=t.fn||j(e),u=r._jsVal[p].apply(r._jsVal,s);return c(null===(o=t.callback)||void 0===o?void 0:o.call(t,r),(()=>a(u)))}.bind(null,n,t[n]))}}function N(e,t,n){return function(){var r=Array.prototype.slice.call(arguments,0),o=1;r[0].tp$name||o++;var i=r[o-1],a=e();r[o]&&r[o]instanceof a?(i._jsVal=r[o],n&&n(i,i._jsVal)):t.apply(null,r),i._jsVal._pyVal=i,Object.defineProperties(i._jsVal,{$isPyWrapped:{value:!0,writable:!0},unwrap:{value:()=>i,writable:!0}})}}function L(e){var t=[null],n=e._anvilClassic$propMap;return Object.keys(n).forEach((r=>{if(n[r].mapProp){var o=e._anvil.props[r];void 0!==o&&t.push((()=>e._anvil.setProp(r,o)))}})),Sk.misceval.chain(...t)}e.GoogleMap=i.mkComponentCls(e,"GoogleMap",{base:e.ClassicContainer,element:e=>i.h(i.OuterElement,r({className:"anvil-google-map",style:"min-height:40px;"},e)),locals:function(r){function o(){}r.__new__=i.mkNew(e.ClassicContainer,(e=>C((()=>{e._jsVal=new google.maps.Map(e._anvil.domNode,{center:{lat:50,lng:-45}}),e._jsVal.addListener("bounds_changed",(function(){i.raiseEventAsync({},e,"bounds_changed")})),e._jsVal.addListener("center_changed",(function(){i.raiseEventAsync({},e,"center_changed")})),e._jsVal.addListener("click",(function(t){i.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"click")})),e._jsVal.addListener("dbl_click",(function(t){i.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"dbl_click")})),e._jsVal.addListener("drag",(function(){i.raiseEventAsync({},e,"drag")})),e._jsVal.addListener("dragend",(function(){i.raiseEventAsync({},e,"dragend")})),e._jsVal.addListener("dragstart",(function(){i.raiseEventAsync({},e,"dragstart")})),e._jsVal.addListener("heading_changed",(function(){i.raiseEventAsync({},e,"heading_changed")})),e._jsVal.addListener("idle",(function(){i.raiseEventAsync({},e,"idle")})),e._jsVal.addListener("maptypeid_changed",(function(){i.raiseEventAsync({},e,"maptypeid_changed")})),e._jsVal.addListener("mousemove",(function(t){i.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"mousemove")})),e._jsVal.addListener("mouseout",(function(t){i.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"mouseout")})),e._jsVal.addListener("mouseover",(function(t){i.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"mouseover")})),e._jsVal.addListener("projection_changed",(function(){i.raiseEventAsync({},e,"projection_changed")})),e._jsVal.addListener("rightclick",(function(t){i.raiseEventAsync({lat_lng:E(t.latLng),pixel:E(t.pixel)},e,"rightclick")})),e._jsVal.addListener("tilesloaded",(function(){i.raiseEventAsync({},e,"tilesloaded")})),e._jsVal.addListener("tilt_changed",(function(){i.raiseEventAsync({},e,"tilt_changed")})),e._jsVal.addListener("zoom_changed",(function(){i.raiseEventAsync({},e,"zoom_changed")})),e._jsVal._pyVal=e,e._anvil.mapData=Sk.misceval.callsim(r.Data,e._jsVal.data)}),(()=>L(e))))),r.ObjectSpec=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithRawKwargsDict((function(e,t){t._jsVal=new o,t._jsVal=e,t._toJsVal=function(){return A(t._jsVal)}})),t.__setattr__=new Sk.builtin.func((function(e,t,n){var r=Sk.ffi.toJs(t);return e._jsVal[r]=n,Sk.builtin.object.prototype.tp$setattr.call(e,t,n)})),t.__getattr__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);if(n in e._jsVal)return e._jsVal[n];throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+n+"'")}))}),"GoogleMap.ObjectSpec",[]),O((()=>o),r.ObjectSpec),r.LatLngLiteral=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,LatLngLiteral)!*/
"GoogleMap.LatLngLiteral",[r.ObjectSpec]),r.LatLngBoundsLiteral=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,LatLngBoundsLiteral)!*/
"GoogleMap.LatLngBoundsLiteral",[r.ObjectSpec]),r.Icon=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,Icon)!*/
"GoogleMap.Icon",[r.ObjectSpec]),r.Symbol=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,Symbol)!*/
"GoogleMap.Symbol",[r.ObjectSpec]),r.IconSequence=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,IconSequence)!*/
"GoogleMap.IconSequence",[r.ObjectSpec]),r.FullscreenControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,FullscreenControlOptions)!*/
"GoogleMap.FullscreenControlOptions",[r.ObjectSpec]),r.MapTypeControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,MapTypeControlOptions)!*/
"GoogleMap.MapTypeControlOptions",[r.ObjectSpec]),r.MotionTrackingControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,MotionTrackingControlOptions)!*/
"GoogleMap.MotionTrackingControlOptions",[r.ObjectSpec]),r.RotateControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,RotateControlOptions)!*/
"GoogleMap.RotateControlOptions",[r.ObjectSpec]),r.ScaleControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,ScaleControlOptions)!*/
"GoogleMap.ScaleControlOptions",[r.ObjectSpec]),r.StreetViewControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,StreetViewControlOptions)!*/
"GoogleMap.StreetViewControlOptions",[r.ObjectSpec]),r.ZoomControlOptions=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,ZoomControlOptions)!*/
"GoogleMap.ZoomControlOptions",[r.ObjectSpec]),r.MarkerLabel=Sk.misceval.buildClass(e,(function(e,t){}),
/*!defClass(anvil.GoogleMap,MarkerLabel)!*/
"GoogleMap.MarkerLabel",[r.ObjectSpec]),r.GeocoderResult=Sk.misceval.buildClass(e,(function(e,t){
/*!defClass(anvil.GoogleMap,GeocoderResult)!*/}),"GoogleMap.GeocoderResult",[r.ObjectSpec]),r.GeocoderAddressComponent=Sk.misceval.buildClass(e,(function(e,t){
/*!defClass(anvil.GoogleMap,GeocoderAddressComponent)!*/}),"GoogleMap.GeocoderAddressComponent",[r.ObjectSpec]),r.GeocoderGeometry=Sk.misceval.buildClass(e,(function(e,t){
/*!defClass(anvil.GoogleMap,GeocoderGeometry)!*/}),"GoogleMap.GeocoderGeometry",[r.ObjectSpec]),r.LatLng=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func(N((()=>google.maps.LatLng),(function(e,t,n,r){var o=Sk.ffi.toJs(t),i=Sk.ffi.toJs(n),a=!!r&&Sk.ffi.toJs(r);e._jsVal=new google.maps.LatLng(o,i,a)}))),t.__repr__=new Sk.builtin.func((function(e){return Sk.ffi.toPy("<GoogleMap.LatLng: "+e._jsVal.toUrlValue()+">")})),M(t,{lat:{},lng:{}})}),
/*!defClass(anvil.GoogleMap,LatLng)!*/
"GoogleMap.LatLng",[]),O((()=>google.maps.LatLng),r.LatLng),r.LatLngBounds=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func(N((()=>google.maps.LatLngBounds),(function(e,t,n){var r=x(t),o=x(n);e._jsVal=new google.maps.LatLngBounds(r,o)}))),t.__repr__=new Sk.builtin.func((function(e){var t=Sk.misceval.callsim(r.LatLng,e._jsVal.getSouthWest()),n=Sk.misceval.callsim(r.LatLng,e._jsVal.getNorthEast());return Sk.ffi.toPy("<GoogleMap.LatLngBounds sw="+Sk.ffi.toJs(Sk.builtin.str(t))+", ne="+Sk.ffi.toJs(Sk.builtin.str(n))+">")})),M(t,{contains:{},equals:{},extend:{},get_center:{},get_north_east:{},get_south_west:{},intersects:{},is_empty:{},to_json:{fn:"toJSON"},to_span:{},to_url_value:{},union:{}})}),
/*!defClass(anvil.GoogleMap,LatLngBounds)!*/
"GoogleMap.LatLngBounds",[]),O((()=>google.maps.LatLngBounds),r.LatLngBounds),r.Point=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func(N((()=>google.maps.Point),(function(e,t,n){var r=Sk.ffi.toJs(t),o=Sk.ffi.toJs(n);e._jsVal=new google.maps.Point(r,o)})))}),
/*!defClass(anvil.GoogleMap,Point)!*/
"GoogleMap.Point",[]),O((()=>google.maps.Point),r.Point),r.Size=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func(N((()=>google.maps.Size),(function(e,t,n){var r=Sk.ffi.toJs(t),o=Sk.ffi.toJs(n);e._jsVal=new google.maps.Size(r,o)})))}),
/*!defClass(anvil.GoogleMap,Size)!*/
"GoogleMap.Size",[]),O((()=>google.maps.Size),r.Size),r.GeocoderLocationType=()=>Sk.misceval.buildClass(e,(function(e,t){t.APPROXIMATE=Sk.ffi.toPy(google.maps.GeocoderLocationType.APPROXIMATE),t.GEOMETRIC_CENTER=Sk.ffi.toPy(google.maps.GeocoderLocationType.GEOMETRIC_CENTER),t.RANGE_INTERPOLATED=Sk.ffi.toPy(google.maps.GeocoderLocationType.RANGE_INTERPOLATED),t.ROOFTOP=Sk.ffi.toPy(google.maps.GeocoderLocationType.ROOFTOP)}),"GoogleMap.GeocoderLocationType",[]),y.push("GeocoderLocationType"),r.SymbolPath=()=>Sk.misceval.buildClass(e,(function(e,t){t.BACKWARD_CLOSED_ARROW=Sk.ffi.toPy(google.maps.SymbolPath.BACKWARD_CLOSED_ARROW),t.BACKWARD_OPEN_ARROW=Sk.ffi.toPy(google.maps.SymbolPath.BACKWARD_OPEN_ARROW),t.CIRCLE=Sk.ffi.toPy(google.maps.SymbolPath.CIRCLE),t.FORWARD_CLOSED_ARROW=Sk.ffi.toPy(google.maps.SymbolPath.FORWARD_CLOSED_ARROW),t.FORWARD_OPEN_ARROW=Sk.ffi.toPy(google.maps.SymbolPath.FORWARD_OPEN_ARROW)}),"GoogleMap.SymbolPath",[]),y.push("SymbolPath"),r.Animation=()=>Sk.misceval.buildClass(e,(function(e,t){t.BOUNCE=Sk.ffi.toPy(google.maps.Animation.BOUNCE),t.DROP=Sk.ffi.toPy(google.maps.Animation.DROP)}),"GoogleMap.Animation",[]),y.push("Animation"),r.MapTypeId=()=>Sk.misceval.buildClass(e,(function(e,t){t.HYBRID=Sk.ffi.toPy(google.maps.MapTypeId.HYBRID),t.ROADMAP=Sk.ffi.toPy(google.maps.MapTypeId.ROADMAP),t.SATELLITE=Sk.ffi.toPy(google.maps.MapTypeId.SATELLITE),t.TERRAIN=Sk.ffi.toPy(google.maps.MapTypeId.TERRAIN)}),"GoogleMap.MapTypeId",[]),y.push("MapTypeId"),r.StrokePosition=()=>Sk.misceval.buildClass(e,(function(e,t){t.CENTER=Sk.ffi.toPy(google.maps.StrokePosition.CENTER),t.INSIDE=Sk.ffi.toPy(google.maps.StrokePosition.INSIDE),t.OUTSIDE=Sk.ffi.toPy(google.maps.StrokePosition.OUTSIDE)}),"GoogleMap.StrokePosition",[]),y.push("StrokePosition"),r.MapTypeControlStyle=()=>Sk.misceval.buildClass(e,(function(e,t){t.DEFAULT=Sk.ffi.toPy(google.maps.MapTypeControlStyle.DEFAULT),t.DROPDOWN_MENU=Sk.ffi.toPy(google.maps.MapTypeControlStyle.DROPDOWN_MENU),t.HORIZONTAL_BAR=Sk.ffi.toPy(google.maps.MapTypeControlStyle.HORIZONTAL_BAR)}),"GoogleMap.MapTypeControlStyle",[]),y.push("MapTypeControlStyle"),r.ControlPosition=()=>Sk.misceval.buildClass(e,(function(e,t){t.BOTTOM_CENTER=Sk.ffi.toPy(google.maps.ControlPosition.BOTTOM_CENTER),t.BOTTOM_LEFT=Sk.ffi.toPy(google.maps.ControlPosition.BOTTOM_LEFT),t.BOTTOM_RIGHT=Sk.ffi.toPy(google.maps.ControlPosition.BOTTOM_RIGHT),t.LEFT_BOTTOM=Sk.ffi.toPy(google.maps.ControlPosition.LEFT_BOTTOM),t.LEFT_CENTER=Sk.ffi.toPy(google.maps.ControlPosition.LEFT_CENTER),t.LEFT_TOP=Sk.ffi.toPy(google.maps.ControlPosition.LEFT_TOP),t.RIGHT_BOTTOM=Sk.ffi.toPy(google.maps.ControlPosition.RIGHT_BOTTOM),t.RIGHT_CENTER=Sk.ffi.toPy(google.maps.ControlPosition.RIGHT_CENTER),t.RIGHT_TOP=Sk.ffi.toPy(google.maps.ControlPosition.RIGHT_TOP),t.TOP_CENTER=Sk.ffi.toPy(google.maps.ControlPosition.TOP_CENTER),t.TOP_LEFT=Sk.ffi.toPy(google.maps.ControlPosition.TOP_LEFT),t.TOP_RIGHT=Sk.ffi.toPy(google.maps.ControlPosition.TOP_RIGHT)}),"GoogleMap.ControlPosition",[]),y.push("ControlPosition"),r.Data=Sk.misceval.buildClass(e,(function(t,n){n.StyleOptions=Sk.misceval.buildClass(e,(function(e,t){
/*!defInitFromAttrs()!*/}),
/*!defClass(anvil.GoogleMap.Data,StyleOptions)!*/
"GoogleMap.Data.StyleOptions",[r.ObjectSpec]),n.Geometry=Sk.misceval.buildClass(e,(function(e,t){M(t,{get_type:{}})}),
/*!defClass(anvil.GoogleMap.Data,Geometry)!*/
"GoogleMap.Data.Geometry",[]),n.Point=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithKwargs(N((()=>google.maps.Data.Point),(function(e,t,n){t._jsVal=new google.maps.Data.Point(x(n))}))),M(t,{get:{}})}),
/*!defClass(anvil.GoogleMap.Data,Point,Geometry)!*/
"GoogleMap.Data.Point",[n.Geometry]),O((()=>google.maps.Data.Point),n.Point),n.MultiPoint=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithKwargs(N((()=>google.maps.Data.MultiPoint),(function(e,t,n){t._jsVal=new google.maps.Data.MultiPoint(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,MultiPoint,Geometry)!*/
"GoogleMap.Data.MultiPoint",[n.Geometry]),O((()=>google.maps.Data.MultiPoint),n.MultiPoint),n.LineString=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithKwargs(N((()=>google.maps.Data.LineString),(function(e,t,n){t._jsVal=new google.maps.Data.LineString(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,LineString,Geometry)!*/
"GoogleMap.Data.LineString",[n.Geometry]),O((()=>google.maps.Data.LineString),n.LineString),n.MultiLineString=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithKwargs(N((()=>google.maps.Data.MultiLineString),(function(e,t,n){t._jsVal=new google.maps.Data.MultiLineString(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,MultiLineString,Geometry)!*/
"GoogleMap.Data.MultiLineString",[n.Geometry]),O((()=>google.maps.Data.MultiLineString),n.MultiLineString),n.LinearRing=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithKwargs(N((()=>google.maps.Data.LinearRing),(function(e,t,n){t._jsVal=new google.maps.Data.LinearRing(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,LinearRing,Geometry)!*/
"GoogleMap.Data.LinearRing",[n.Geometry]),O((()=>google.maps.Data.LinearRing),n.LinearRing),n.Polygon=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithKwargs(N((()=>google.maps.Data.Polygon),(function(e,t,n){t._jsVal=new google.maps.Data.Polygon(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,Polygon,Geometry)!*/
"GoogleMap.Data.Polygon",[n.Geometry]),O((()=>google.maps.Data.Polygon),n.Polygon),n.MultiPolygon=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithKwargs(N((()=>google.maps.Data.MultiPolygon),(function(e,t,n){t._jsVal=new google.maps.Data.MultiPolygon(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,MultiPolygon,Geometry)!*/
"GoogleMap.Data.MultiPolygon",[n.Geometry]),O((()=>google.maps.Data.MultiPolygon),n.MultiPolygon),n.GeometryCollection=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithKwargs(N((()=>google.maps.Data.GeometryCollection),(function(e,t,n){t._jsVal=new google.maps.Data.GeometryCollection(x(n))}))),M(t,{get_array:{},get_at:{},get_length:{}})}),
/*!defClass(anvil.GoogleMap.Data,GeometryCollection,Geometry)!*/
"GoogleMap.Data.GeometryCollection",[n.Geometry]),O((()=>google.maps.Data.GeometryCollection),n.GeometryCollection),O((()=>google.maps.Data.Geometry),n.Geometry),n.Feature=Sk.misceval.buildClass(e,(function(e,t){t.__init__=i.funcWithRawKwargsDict(N((()=>google.maps.Data.Feature),(function(e,t){t._jsVal=new google.maps.Data.Feature(A(e))}))),t.__setattr__=new Sk.builtin.func((function(e,t,n){switch(Sk.ffi.toJs(t)){case"geometry":e._jsVal.setGeometry(x(n));break;case"id":e._jsVal.setId(x(n));break;default:Sk.builtin.object.prototype.tp$setattr.call(e,t,n)}})),t.__getattr__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);switch(n){case"geometry":return E(e._jsVal.getGeometry());case"id":return E(e._jsVal.getId());default:throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+n+"'")}})),t.__getitem__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);return E(e._jsVal.getProperty(n))})),t.__setitem__=new Sk.builtin.func((function(e,t,n){Sk.ffi.toJs(t);e._jsVal.setProperty(x(n))})),t.to_geo_json=new Sk.builtin.func((function(e){return i.suspensionPromise((function(t,n){e._jsVal.toGeoJson((function(e){t(Sk.ffi.toPy(e))}))}))})),M(t,{})}),
/*!defClass(anvil.GoogleMap.Data,Feature)!*/
"GoogleMap.Data.Feature",[]),O((()=>google.maps.Data.Feature),n.Feature);n.__init__=i.funcWithKwargs(N((()=>google.maps.Data),(function(e,t){t._jsVal=new google.maps.Data(e)}),(function(e,t){!function(e){var t=e.getMap();if(t){var n=t._pyVal;e.addListener("addfeature",(function(e){i.raiseEventAsync({feature:E(e.feature)},n,"data_addfeature")})),e.addListener("click",(function(e){i.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_click")})),e.addListener("dblclick",(function(e){i.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_dblclick")})),e.addListener("mousedown",(function(e){i.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_mousedown")})),e.addListener("mouseout",(function(e){i.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_mouseout")})),e.addListener("mouseover",(function(e){i.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_mouseover")})),e.addListener("mouseup",(function(e){i.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_mouseup")})),e.addListener("removefeature",(function(e){i.raiseEventAsync({feature:E(e.feature)},n,"data_removefeature")})),e.addListener("removeproperty",(function(e){i.raiseEventAsync({feature:E(e.feature),name:E(e.name),old_value:E(e.oldValue)},n,"data_removeproperty")})),e.addListener("rightclick",(function(e){i.raiseEventAsync({feature:E(e.feature),lat_lng:E(e.latLng)},n,"data_rightclick")})),e.addListener("setgeometry",(function(e){i.raiseEventAsync({feature:E(e.feature),new_geometry:E(e.newGeometry),old_geometry:E(e.oldGeometry)},n,"data_setgeometry")})),e.addListener("setproperty",(function(e){i.raiseEventAsync({feature:E(e.feature),name:E(e.name),new_value:E(e.newValue),old_value:E(e.oldValue)},n,"data_setproperty")}))}}(t)}))),n.__setattr__=new Sk.builtin.func((function(e,t,n){switch(Sk.ffi.toJs(t)){case"control_position":e._jsVal.setControlPosition(x(n));break;case"controls":e._jsVal.setControls(x(n));break;case"drawing_mode":e._jsVal.setDrawingMode(x(n));break;case"style":if(n&&Sk.builtin.callable(n).v){var r=function(e){return x(Sk.misceval.callsim(n,E(e)))};r._pyVal=n,e._jsVal.setStyle(r)}else e._jsVal.setStyle(x(n));break;default:Sk.builtin.object.prototype.tp$setattr.call(e,t,n)}})),n.__getattr__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);switch(n){case"control_position":return E(e._jsVal.getControlPosition());case"controls":return E(e._jsVal.getControls());case"drawing_mode":return E(e._jsVal.getDrawingMode());case"style":return E(e._jsVal.getStyle());default:throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+n+"'")}})),n.add=i.funcWithRawKwargsDict((function(e,t,r){if(r&&Sk.builtin.isinstance(r,n.Feature).v){var o=t._jsVal.add(r._jsVal);return r._jsVal=o,r}var i=A(e),a=t._jsVal.add(i);return Sk.misceval.callsim(n.Feature,a)})),n.override_style=i.funcWithRawKwargsDict((function(e,t,n,r){t._jsVal.overrideStyle(n._jsVal,r?x(r):A(e))})),n.to_geo_json=new Sk.builtin.func((function(e){return i.suspensionPromise((function(t,n){e._jsVal.toGeoJson((function(e){t(Sk.ffi.toPy(e))}))}))})),n.add_geo_json=i.funcWithKwargs((function(e,t,n){if(e.id_property_name)var r={idPropertyName:e.id_property_name};t._jsVal.addGeoJson(Sk.ffi.toJs(n),r)})),M(n,{contains:{},get_feature_by_id:{},load_geo_json:{transformRawArgs:function(e,t,r){if(e.id_property_name)var o={idPropertyName:Sk.ffi.toJs(e.id_property_name)};if(e.callback)var i=function(t){var r=new Sk.builtin.list;for(var o in t)Sk.misceval.callsim(r.tp$getattr(new Sk.builtin.str("append")),Sk.misceval.callsim(n.Feature,t[o]));Sk.misceval.callsim(e.callback,r)};return[Sk.ffi.toJs(r),o,i]}},remove:{},revert_style:{}})}),
/*!defClass(anvil.GoogleMap,Data)!*/
"GoogleMap.Data",[]),O((()=>google.maps.Data),r.Data),M(r,{fit_bounds:{},get_bounds:{},pan_by:{},pan_to:{},pan_to_bounds:{}}),r.add_component=i.funcWithKwargs((function(n,o,i){if(!i||!t(f(i,new d([r.AbstractOverlay,r.InfoWindow]))))throw new Sk.builtin.TypeError("Cannot add component. Only GoogleMap overlay components may be added to a GoogleMap instance.");return s(e.ClassicContainer.prototype.add_component,[o,i,n])}));var _=(t,n,r,o,a,l,s)=>{var c=i.mkComponentCls(e,t,{properties:o,events:a,base:n,locals(e){l&&(e.__new__=i.mkNew(n,l)),s&&s(e)}});return r&&(Object.defineProperty(c.prototype,"$google_map_type",{value:r,writable:!0}),O((()=>r),c)),c};r.AbstractOverlay=_("GoogleMap.AbstractOverlay",e.ClassicComponent,null,i.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.AbstractOverlay)!2*/
["mapOverlays"]),i.assembleGroupEvents("GoogleMap.AbstractOverlay",
/*!componentEvents(anvil.googleMap.AbstractOverlay)!1*/
["universal","mapOverlays"]),(t=>{if(t.$google_map_type){var n=t.$google_map_type();t._jsVal=new n,t._jsVal.addListener("click",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"click")})),t._jsVal.addListener("dblclick",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"dblclick")})),t._jsVal.addListener("drag",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"drag")})),t._jsVal.addListener("dragend",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"dragend")})),t._jsVal.addListener("dragstart",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"dragstart")})),t._jsVal.addListener("mousedown",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"mousedown")})),t._jsVal.addListener("mouseout",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"mouseout")})),t._jsVal.addListener("mouseover",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"mouseover")})),t._jsVal.addListener("mouseup",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"mouseup")})),t._jsVal.addListener("rightclick",(function(e){i.raiseEventAsync({lat_lng:E(e.latLng)},t,"rightclick")}))}return t._anvil.pageEvents={add(){if(!Sk.misceval.isTrue(Sk.builtin.isinstance(t._anvil.parent.pyObj,e.GoogleMap)))throw new Sk.builtin.TypeError("Map components can only be added to maps.");t._jsVal.setMap(t._anvil.parent.pyObj._jsVal)},remove(){t._jsVal.setMap(null)}},L(t)})),
/*!defClass(anvil.GoogleMap,AbstractOverlay,anvil.Component)!*/
r.Marker=_("GoogleMap.Marker",r.AbstractOverlay,(()=>google.maps.Marker),i.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Marker)!2*/
[],{
/*!componentProp(anvil.GoogleMap.Marker)!1*/
animation:{name:"animation",type:"anvil.GoogleMap.Animation",important:!0,description:"The animation of this Marker.",pyVal:!0,mapProp:!0,set:i.mapSetter("animation",x),get:i.mapGetter("getAnimation",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
position:{name:"position",pyType:"anvil.GoogleMap.LatLng instance",important:!0,description:"The LatLng position of this Marker",pyVal:!0,mapProp:!0,set:i.mapSetter("position",x),get:i.mapGetter("getPosition",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
icon:{name:"icon",pyType:"anvil.GoogleMap.Symbol instance",description:"The icon to display at the position of this Marker.",pyVal:!0,mapProp:!0,set:i.mapSetter("icon",x),get:i.mapGetter("getIcon",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
label:{name:"label",pyType:"anvil.GoogleMap.MarkerLabel instance",description:"The label to display on this Marker.",pyVal:!0,mapProp:!0,set:i.mapSetter("label",x),get:i.mapGetter("getLabel",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
title:{name:"title",description:"The tooltip text for this Marker.",type:"string",mapProp:!0,set:i.mapSetter("title"),get:i.mapGetter("getTitle",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
cursor:{name:"cursor",description:"The cursor to display over this Marker.",type:"string",mapProp:!0,set:i.mapSetter("cursor"),get:i.mapGetter("getCursor",E)},
/*!componentProp(anvil.GoogleMap.Marker)!1*/
opacity:{name:"opacity",description:"The opacity of this Marker.",type:"number",mapProp:!0,set:i.mapSetter("opacity"),get:i.mapGetter("getOpacity",E)}}),i.assembleGroupEvents("GoogleMap.Marker",
/*!componentEvents(anvil.GoogleMap.Marker)!1*/
[]).concat(
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"animation_changed",description:"When the animation of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"clickable_changed",description:"When the 'clickable' property of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"cursor_changed",description:"When the 'cursor' property of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"draggable_changed",description:"When the 'draggable' property of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"icon_changed",description:"When the 'icon' property of this Marker changes.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"position_changed",description:"When the position of this Marker changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"shape_changed",description:"When the 'shape' property of this Marker changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"title_changed",description:"When the 'title' property of this Marker changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"visible_changed",description:"When the 'visible' property of this Marker changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Marker)!1*/
{name:"z_index_changed",description:"When the 'z_index' property of this Marker changes, i.e. when it is moved.",parameters:[]}),(e=>{e._jsVal.addListener("animation_changed",(function(){i.raiseEventAsync({},e,"animation_changed")})),e._jsVal.addListener("clickable_changed",(function(){i.raiseEventAsync({},e,"clickable_changed")})),e._jsVal.addListener("cursor_changed",(function(){i.raiseEventAsync({},e,"cursor_changed")})),e._jsVal.addListener("draggable_changed",(function(){i.raiseEventAsync({},e,"draggable_changed")})),e._jsVal.addListener("icon_changed",(function(){i.raiseEventAsync({},e,"icon_changed")})),e._jsVal.addListener("position_changed",(function(){i.raiseEventAsync({},e,"position_changed")})),e._jsVal.addListener("shape_changed",(function(){i.raiseEventAsync({},e,"shape_changed")})),e._jsVal.addListener("title_changed",(function(){i.raiseEventAsync({},e,"title_changed")})),e._jsVal.addListener("visible_changed",(function(){i.raiseEventAsync({},e,"visible_changed")})),e._jsVal.addListener("zindex_changed",(function(){i.raiseEventAsync({},e,"z_index_changed")}))})),
/*!defClass(anvil.GoogleMap,Marker,anvil.GoogleMap.AbstractOverlay)!*/
r.Polyline=_("GoogleMap.Polyline",r.AbstractOverlay,(()=>google.maps.Polyline),i.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Polyline)!2*/
["mapPolyOverlays"],{
/*!componentProp(anvil.GoogleMap.Polyline)!1*/
icons:{name:"icons",important:!0,description:"The icons to be rendered along the polyline.",pyVal:!0,mapProp:!0,set:i.mapSetter("icons",x)},
/*!componentProp(anvil.GoogleMap.Polyline)!1*/
path:{name:"path",pyType:"list(anvil.GoogleMap.LatLng instance)",important:!0,description:"The ordered sequence of LatLng coordinates of the Polyline.",pyVal:!0,mapProp:!0,set:i.mapSetter("path",x)},
/*!componentProp(anvil.GoogleMap.Polyline)!1*/
geodesic:{name:"geodesic",description:"When true, edges of the polygon are interpreted as geodesic and will follow the curvature of the Earth.",type:"boolean",defaultValue:!1,mapProp:!0,pyVal:!0,set:i.mapSetter("geodesic",t)}}),i.assembleGroupEvents("GoogleMap.Polyline",
/*!componentEvents(anvil.GoogleMap.Polyline)!1*/
[])),
/*!defClass(anvil.GoogleMap,Polyline,anvil.GoogleMap.AbstractOverlay)!*/
r.Polygon=_("GoogleMap.Polygon",r.AbstractOverlay,(()=>google.maps.Polygon),i.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Polygon)!2*/
["mapPolyOverlays","mapAreaOverlays"],{
/*!componentProp(anvil.GoogleMap.Polygon)!1*/
path:{name:"path",pyType:"list(anvil.GoogleMap.LatLng instance)",important:!0,description:"The ordered sequence of LatLng coordinates of the Polygon.",pyVal:!0,mapProp:!0,set:i.mapSetter("path",x)},
/*!componentProp(anvil.GoogleMap.Polygon)!1*/
geodesic:{name:"geodesic",description:"When true, edges of the polygon are interpreted as geodesic and will follow the curvature of the Earth.",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:i.mapSetter("geodesic",t)}}),i.assembleGroupEvents("GoogleMap.Polygon",
/*!componentEvents(anvil.GoogleMap.Polygon)!1*/
[])),
/*!defClass(anvil.GoogleMap,Polygon,anvil.GoogleMap.AbstractOverlay)!*/
r.Rectangle=_("GoogleMap.Rectangle",r.AbstractOverlay,(()=>google.maps.Rectangle),i.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Rectangle)!2*/
["mapPolyOverlays","mapAreaOverlays"],{
/*!componentProp(anvil.GoogleMap.Rectangle)!1*/
bounds:{name:"bounds",pyType:"anvil.GoogleMap.LatLngBounds instance",important:!0,description:"The bounds of the Rectangle.",pyVal:!0,mapProp:!0,set:i.mapSetter("bounds",x),get:i.mapGetter("getBounds",E)}}),i.assembleGroupEvents("GoogleMap.Rectangle",
/*!componentEvents(anvil.GoogleMap.Rectangle)!1*/
[]).concat(
/*!componentEvent(anvil.GoogleMap.Rectangle)!1*/
{name:"bounds_changed",description:"When the bounds of this rectangle change, i.e. when it is moved or resized.",parameters:[]}),(e=>{e._jsVal.addListener("center_changed",(function(){i.raiseEventAsync({},e,"center_changed")})),e._jsVal.addListener("radius_changed",(function(){i.raiseEventAsync({},e,"radius_changed")}))})),
/*!defClass(anvil.GoogleMap,Rectangle,anvil.GoogleMap.AbstractOverlay)!*/
r.Circle=_("GoogleMap.Circle",r.AbstractOverlay,(()=>google.maps.Circle),i.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.Circle)!2*/
["mapPolyOverlays","mapAreaOverlays"],{
/*!componentProp(anvil.GoogleMap.Circle)!1*/
center:{name:"center",pyType:"anvil.GoogleMap.LatLng instance",important:!0,description:"The center of the Circle.",pyVal:!0,mapProp:!0,set:i.mapSetter("center",x),get:i.mapGetter("getCenter",E)},
/*!componentProp(anvil.GoogleMap.Circle)!1*/
radius:{name:"radius",type:"number",important:!0,description:"The radius of the Circle.",mapProp:!0,set:i.mapSetter("radius"),get:i.mapGetter("getRadius",E)}}),i.assembleGroupEvents("GoogleMap.Circle",
/*!componentEvents(anvil.GoogleMap.Circle)!1*/
[]).concat(
/*!componentEvent(anvil.GoogleMap.Circle)!1*/
{name:"center_changed",description:"When the center position of this circle changes, i.e. when it is moved.",parameters:[]},
/*!componentEvent(anvil.GoogleMap.Circle)!1*/
{name:"radius_changed",description:"When the radius of this circle changes, i.e. when it is resized.",parameters:[]}),(e=>{e._jsVal.addListener("center_changed",(function(){i.raiseEventAsync({},e,"center_changed")})),e._jsVal.addListener("radius_changed",(function(){i.raiseEventAsync({},e,"radius_changed")}))})),
/*!defClass(anvil.GoogleMap,Circle,anvil.GoogleMap.AbstractOverlay)!*/
r.InfoWindow=_("GoogleMap.InfoWindow",e.ClassicComponent,(()=>google.maps.InfoWindow),i.assembleGroupProperties(
/*!componentProps(anvil.GoogleMap.InfoWindow)!2*/
[],{
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
content:{name:"content",pyType:"anvil.Component instance",pyVal:!0,important:!0,description:"Content to display in the InfoWindow. Can be a string or an Anvil Component",mapProp:!0,set(e,t,n){var r,o=e._anvil.pyHiddenContainer;return r=v(n)?n.toString():n.anvil$hooks.setupDom(),c(s(o.tp$getattr(g)),(()=>(e._jsVal.setOptions({content:r}),"string"==typeof r?p:s(o.tp$getattr(m),[n]))))},get(e,t){var n=e._jsVal.getContent();return"string"==typeof n?new u(n):$(n).data("anvil-py-component")||p}},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
disable_auto_pan:{name:"disable_auto_pan",description:"Disable auto-pan on open.",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:i.mapSetter("disableAutoPan",t)},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
max_width:{name:"max_width",description:"Maximum width of the infowindow, regardless of content's width.",type:"number",mapProp:!0,set:i.mapSetter("maxWidth")},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
pixel_offset:{name:"pixel_offset",description:"The offset, in pixels, of the tip of the info window from the point on the map at whose geographical coordinates the info window is anchored.",pyType:"anvil.GoogleMap.Size instance",pyVal:!0,mapProp:!0,set:i.mapSetter("pixelOffset",x)},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
position:{name:"position",description:"The LatLng at which to display this InfoWindow. Not required if this popup is anchored to a component",pyType:"anvil.GoogleMap.LatLng instance",pyVal:!0,mapProp:!0,set:i.mapSetter("position",x)},
/*!componentProp(anvil.GoogleMap.InfoWindow)!1*/
z_index:{name:"z_index",description:"All InfoWindows are displayed on the map in order of their zIndex, with higher values displaying in front of InfoWindows with lower values.",type:"number",mapProp:!0,set:i.mapSetter("zIndex")}}),i.assembleGroupEvents("GoogleMap.InfoWindow",
/*!componentEvents(anvil.GoogleMap.InfoWindow)!1*/
["universal"]),(n=>(n._jsVal=new google.maps.InfoWindow,n._anvil.pyHiddenContainer=i.pyCall(e.ClassicContainer),n._anvil.pyHiddenContainer._anvil.overrideParentObj=n,n._anvil.pageEvents={add(){if(!t(f(n._anvil.parent.pyObj,e.GoogleMap)))throw new Sk.builtin.TypeError("Map components can only be added to maps.");n._jsVal.setMap(n._anvil.parent.pyObj._jsVal)},remove(){n._jsVal.setMap(null)}},n._jsVal.addListener("rightclick",(e=>{i.raiseEventAsync({lat_lng:E(e.latLng)},n,"rightclick")})),n._jsVal.addListener("closeclick",(()=>{i.asyncToPromise((()=>s(n.tp$getattr(h,[]))))})),L(n))),(e=>{M(e,{open:{callback(e){var t,n,r=null===(t=e._jsVal.getMap())||void 0===t?void 0:t._pyVal,o=null==r?void 0:r.tp$getattr(m);if(o){var i=null===(n=e._anvil.parent)||void 0===n?void 0:n.pyObj;if(!i||i!==r)return c(i&&s(e.tp$getattr(h,[])),(()=>s(o,[e])))}}},close:{callback:e=>s(e.tp$getattr(h,[]))}}),e.get_components=new l((e=>n(e._anvil.pyHiddenContainer.tp$getattr(a))))})),
/*!defClass(anvil.GoogleMap,InfoWindow,anvil.Component)!*/
r.geocode=new Sk.builtin.staticmethod(i.funcWithRawKwargsDict((function(t){var n=new google.maps.Geocoder;return i.suspensionPromise((function(r,o){window.googleMapsAuthFailure?o("Google Maps authorization failed - is the API key invalid?"):n.geocode(A(t),(function(t,n){if("OK"==n){var i=[];for(var a in t){var l=[],s=[];for(var c in t[a].address_components){var p=t[a].address_components[c],u=[Sk.ffi.toPy("long_name"),E(p.long_name),Sk.ffi.toPy("short_name"),E(p.short_name),Sk.ffi.toPy("types"),E(p.types)],d=Sk.misceval.call(e.GoogleMap.prototype.GeocoderAddressComponent,void 0,void 0,u);s.push(d)}l.push(Sk.ffi.toPy("address_components")),l.push(new Sk.builtin.list(s)),l.push(Sk.ffi.toPy("formatted_address")),l.push(E(t[a].formatted_address));var f=[Sk.ffi.toPy("bounds"),E(t[a].geometry.bounds),Sk.ffi.toPy("location"),E(t[a].geometry.location),Sk.ffi.toPy("location_type"),E(t[a].geometry.location_type),Sk.ffi.toPy("viewport"),E(t[a].geometry.viewport)];l.push(Sk.ffi.toPy("geometry")),l.push(Sk.misceval.call(e.GoogleMap.prototype.GeocoderGeometry,void 0,void 0,f)),l.push(Sk.ffi.toPy("partial_match")),l.push(E(t[a].partial_match)),l.push(Sk.ffi.toPy("place_id")),l.push(E(t[a].place_id)),l.push(Sk.ffi.toPy("postcode_localities")),l.push(E(t[a].postcode_localities)),l.push(Sk.ffi.toPy("types")),l.push(E(t[a].types));var v=Sk.misceval.call(e.GoogleMap.prototype.GeocoderResult,void 0,void 0,l);i.push(v)}r(new Sk.builtin.list(i))}else o("Geocode failed: "+n)}))}))}))),r.compute_area=new Sk.builtin.staticmethod(new Sk.builtin.func((function(e){return E(google.maps.geometry.spherical.computeArea(x(e)))}))),r.compute_length=new Sk.builtin.staticmethod(new Sk.builtin.func((function(e){return E(google.maps.geometry.spherical.computeLength(x(e)))})))},properties:i.assembleGroupProperties(
/*!componentProps(GoogleMap)!1*/
["layout","height","visibility","user data"],{
/*!componentProp(GoogleMap)!1*/
map_data:{name:"map_data",pyVal:!0,type:"object",pyType:"anvil.GoogleMap.Data instance",description:"Map data",hideFromDesigner:!0,mapProp:!0,set(e,t,n){e._jsVal.data=x(n)},get:(e,t)=>e._jsVal?E(e._jsVal.data):Sk.builtin.none.none$},
/*!componentProp(GoogleMap)!1*/
background_color:{name:"background_color",description:"Color used for the background of the Map div. This color will be visible when tiles have not yet loaded as the user pans.",type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,mapProp:!0,set:i.mapSetter("backgroundColor",String)},
/*!componentProp(GoogleMap)!1*/
center:{name:"center",description:"The Map center.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.LatLng instance",pyVal:!0,mapProp:!0,set:i.mapSetter("center",x),get:i.mapGetter("getCenter",E)},
/*!componentProp(GoogleMap)!1*/
clickable_icons:{name:"clickable_icons",description:"When false, map icons are not clickable. A map icon represents a point of interest",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("clickableIcons",t)},
/*!componentProp(GoogleMap)!1*/
disable_default_ui:{name:"disable_default_ui",description:"Enables/disables all default UI.",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:i.mapSetter("disableDefaultUI",t)},
/*!componentProp(GoogleMap)!1*/
disable_double_click_zoom:{name:"disable_double_click_zoom",description:"Enables/disables zoom and center on double click.",type:"boolean",defaultValue:Sk.builtin.bool.false$,pyVal:!0,mapProp:!0,set:i.mapSetter("disableDoubelClickZoom",t)},
/*!componentProp(GoogleMap)!1*/
draggable:{name:"draggable",description:"If false, prevents the map from being dragged.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("draggable",t)},
/*!componentProp(GoogleMap)!1*/
draggable_cursor:{name:"draggable_cursor",description:"The name or url of the cursor to display when mousing over a draggable map.",type:"string",defaultValue:new Sk.builtin.str("auto"),pyVal:!0,mapProp:!0,set:i.mapSetter("draggableCursor",String)},
/*!componentProp(GoogleMap)!1*/
dragging_cursor:{name:"dragging_cursor",description:"The name or url of the cursor to display when the map is being dragged.",type:"string",defaultValue:new Sk.builtin.str("auto"),pyVal:!0,mapProp:!0,set:i.mapSetter("draggingCursor",String)},
/*!componentProp(GoogleMap)!1*/
fullscreen_control:{name:"fullscreen_control",description:"The enabled/disabled state of the Fullscreen control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("fullscreenControl",t)},
/*!componentProp(GoogleMap)!1*/
fullscreen_control_options:{name:"fullscreen_control_options",description:"The display options for the Fullscreen control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.FullscreenControlOptions instance",pyVal:!0,mapProp:!0,set:i.mapSetter("fullscreenControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
gesture_handling:{name:"gesture_handling",description:"This setting controls how gestures on the map are handled.",type:"string",defaultValue:new Sk.builtin.str("auto"),pyVal:!0,mapProp:!0,set:i.mapSetter("gestureHandling",String)},
/*!componentProp(GoogleMap)!1*/
heading:{name:"heading",description:"The heading for aerial imagery in degrees measured clockwise from cardinal direction North. ",type:"number",defaultValue:new Sk.builtin.int_(0),pyVal:!0,mapProp:!0,set:i.mapSetter("heading",(e=>t(e)?e:0)),get:(e,t)=>i.mapGetter("getHeading",E)(e,t)},
/*!componentProp(GoogleMap)!1*/
keyboard_shortcuts:{name:"keyboard_shortcuts",description:"If false, prevents the map from being controlled by the keyboard.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("keyboardShortcuts",t)},
/*!componentProp(GoogleMap)!1*/
map_type_control:{name:"map_type_control",description:"The enabled/disabled state of the Map type control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("mapTypeControl",t)},
/*!componentProp(GoogleMap)!1*/
map_type_control_options:{name:"map_type_control_options",description:"The display options for the Map type control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.MapTypeControlOptions instance",pyVal:!0,mapProp:!0,set:i.mapSetter("mapTypeControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
map_type_id:{name:"map_type_id",description:"The map type ID. Defaults to MapTypeId.ROADMAP",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.MapTypeId",pyVal:!0,mapProp:!0,set:i.mapSetter("mapTypeId",x)},
/*!componentProp(GoogleMap)!1*/
max_zoom:{name:"max_zoom",description:"The maximum zoom level which will be displayed on the map.",type:"number",defaultValue:new Sk.builtin.int_(18),pyVal:!0,mapProp:!0,set:i.mapSetter("maxZoom",x)},
/*!componentProp(GoogleMap)!1*/
min_zoom:{name:"min_zoom",description:"The minimum zoom level which will be displayed on the map.",type:"number",defaultValue:new Sk.builtin.int_(0),pyVal:!0,mapProp:!0,set:i.mapSetter("minZoom",x)},
/*!componentProp(GoogleMap)!1*/
rotate_control:{name:"rotate_control",description:"The enabled/disabled state of the rotate control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("rotateControl",t)},
/*!componentProp(GoogleMap)!1*/
rotate_control_options:{name:"rotate_control_options",description:"The display options for the rotate control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.RotateControlOptions instance",pyVal:!0,mapProp:!0,set:i.mapSetter("rotateControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
scale_control:{name:"scale_control",description:"The enabled/disabled state of the scale control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("scaleControl",t)},
/*!componentProp(GoogleMap)!1*/
scale_control_options:{name:"scale_control_options",description:"The display options for the scale control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.ScaleControlOptions instance",pyVal:!0,mapProp:!0,set:i.mapSetter("scaleControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
scroll_wheel:{name:"scroll_wheel",description:"If false, disables scrollwheel zooming on the map.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("scaleControl",t)},
/*!componentProp(GoogleMap)!1*/
street_view_control:{name:"street_view_control",description:"The enabled/disabled state of the street view control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("streetViewControl",t)},
/*!componentProp(GoogleMap)!1*/
street_view_control_options:{name:"street_view_control_options",description:"The display options for the street view control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.StreetViewControlOptions instance",pyVal:!0,mapProp:!0,set:i.mapSetter("streetViewControlOptions",x)},
/*!componentProp(GoogleMap)!1*/
zoom:{name:"zoom",description:"The map zoom level.",type:"number",defaultValue:new Sk.builtin.int_(2),pyVal:!0,mapProp:!0,set:i.mapSetter("zoom",(e=>t(e)?x(e):2)),get:(e,t)=>i.mapGetter("getZoom",E)(e,t)},
/*!componentProp(GoogleMap)!1*/
zoom_control:{name:"zoom_control",description:"The enabled/disabled state of the zoom control.",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,mapProp:!0,set:i.mapSetter("zoomControl",t)},
/*!componentProp(GoogleMap)!1*/
zoom_control_options:{name:"zoom_control_options",description:"The display options for the zoom control.",hideFromDesigner:!0,type:"object",pyType:"anvil.GoogleMap.ZoomControlOptions instance",pyVal:!0,mapProp:!0,set:i.mapSetter("zoomControlOptions",x)}}),events:i.assembleGroupEvents(
/*!componentEvents()!2*/
"GoogleMap",["universal"],{
/*!componentEvent(GoogleMap)!1*/
bounds_changed:{name:"bounds_changed",description:"when the viewport bounds have changed.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
center_changed:{name:"center_changed",description:"when the map center property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
click:{name:"click",description:"when the user clicks on the map.",parameters:[{name:"lat_lng",description:"The position that was clicked.",important:!0,pyVal:!0},{name:"pixel",description:"The position that was clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
dbl_click:{name:"dbl_click",description:"when the user double-clicks on the map.",parameters:[{name:"lat_lng",description:"The position that was double-clicked.",important:!0,pyVal:!0},{name:"pixel",description:"The position that was double-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
drag:{name:"drag",description:"This event is repeatedly fired while the user drags the map.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
dragend:{name:"dragend",description:"when the user stops dragging the map.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
dragstart:{name:"dragstart",description:"when the user starts dragging the map.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
heading_changed:{name:"heading_changed",description:"when the map heading property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
idle:{name:"idle",description:"when the map becomes idle after panning or zooming.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
maptypeid_changed:{name:"maptypeid_changed",description:"when the mapTypeId property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
mousemove:{name:"mousemove",description:"whenever the user's mouse moves over the map container.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0},{name:"pixel",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
mouseout:{name:"mouseout",description:"when the user's mouse exits the map container.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0},{name:"pixel",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
mouseover:{name:"mouseover",description:"when the user's mouse enters the map container.",parameters:[{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0},{name:"pixel",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
projection_changed:{name:"projection_changed",description:"when the projection has changed.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
rightclick:{name:"rightclick",description:"when the user right-clicks on the map container.",parameters:[{name:"lat_lng",description:"The position that was right-clicked.",important:!0,pyVal:!0},{name:"pixel",description:"The position that was right-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
tilesloaded:{name:"tilesloaded",description:"when the visible tiles have finished loading.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
tilt_changed:{name:"tilt_changed",description:"when the map tilt property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
zoom_changed:{name:"zoom_changed",description:"when the map zoom property changes.",parameters:[],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_addfeature:{name:"data_addfeature",description:"when the viewport bounds have changed.",parameters:[{name:"feature",description:"The feature that was added.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_click:{name:"data_click",description:"for a click on the geometry.",parameters:[{name:"feature",description:"The feature that was clicked.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position that was clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_dbl_click:{name:"data_dbl_click",description:"for a double click on the geometry.",parameters:[{name:"feature",description:"The feature that was double-clicked.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position that was double-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_mousedown:{name:"data_mousedown",description:"for a mousedown on the geometry.",parameters:[{name:"feature",description:"The feature the mouse is over.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_mouseout:{name:"data_mouseout",description:"when the mouse leaves the area of the geometry.",parameters:[{name:"feature",description:"The feature the mouse left.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_mouseover:{name:"data_mouseover",description:"when the mouse enters the area of the geometry.",parameters:[{name:"feature",description:"The feature the mouse is over.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_mouseup:{name:"data_mouseup",description:"for a mouseup on the geometry.",parameters:[{name:"feature",description:"The feature the mouse is over.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position of the cursor.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_removefeature:{name:"data_removefeature",description:"when a feature is removed from the collection.",parameters:[{name:"feature",description:"The feature that was removed.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_removeproperty:{name:"data_removeproperty",description:"when a feature's property is removed.",parameters:[{name:"feature",description:"The feature whose property was removed.",important:!0,pyVal:!0},{name:"name",description:"The name of the property that was removed.",important:!0,pyVal:!0},{name:"old_value",description:"The old value of the property that was removed.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_rightclick:{name:"data_rightclick",description:"for a right-click on the geometry.",parameters:[{name:"feature",description:"The feature that was right-clicked.",important:!0,pyVal:!0},{name:"lat_lng",description:"The position that was right-clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_setgeometry:{name:"data_setgeometry",description:"when a feature's geometry is set.",parameters:[{name:"feature",description:"The feature that was removed.",important:!0,pyVal:!0},{name:"new_geometry",description:"The geometry that was set.",important:!0,pyVal:!0},{name:"old_geometry",description:"The geometry that was replaced.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},
/*!componentEvent(GoogleMap)!1*/
data_setproperty:{name:"data_setproperty",description:"when a feature's property is set.",parameters:[{name:"feature",description:"The feature whose property was set.",important:!0,pyVal:!0},{name:"name",description:"The name of the property that was set.",important:!0,pyVal:!0},{name:"new_value",description:"The new value of the property that was set.",important:!0,pyVal:!0},{name:"old_value",description:"The old value of the property that was set.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0}})});var I=e.GoogleMap.tp$getattr;e.GoogleMap.tp$getattr=function(t,n){return n?C((()=>(delete e.GoogleMap.tp$getattr,this.tp$getattr(t,n)))):I.call(this,t,n)},
/*!defClass(anvil,GoogleMap,Container)!*/
O((()=>google.maps.Map),e.GoogleMap)}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)}))}}n(0),n(10),n(51),n(3),n(2);var a=n(1),{PostponedResizeObserver:l}=n(25),{pyLazyMod:s,datetimeMod:c}=n(8),{appendSvgSpinner:p,SpinnerLoader:u}=n(163);e.exports=e=>{var t,n=s("plotly.graph_objs"),o=s("anvil.util"),d=c.date,f=c.datetime,v=e=>null==e?null:a.remapToJs(e,(e=>{if(e instanceof d||e instanceof f)return e.toString()})),m={none:{},default:"none"};function h(){return(h=i((function*(e){var t=yield fetch("".concat(window.anvilAppOrigin,"/_/static/runtime/js/lib/templates/").concat(e,".json"));return yield t.json()}))).apply(this,arguments)}function g(e){Object.defineProperty(m,e,{get(){var t=this;return delete this[e],this[e]=new Promise(function(){var n=i((function*(n){try{n(t[e]=yield function(e){return h.apply(this,arguments)}(e))}catch(r){console.error(r),n(t[e]={})}}));return function(e){return n.apply(this,arguments)}}())},enumerable:!0,configurable:!0})}function _(e){var n,r=window.anvilAppOrigin+"/_/static/runtime/js/lib/plotly-latest.min.js?buildTime=1709725707921";null!==(n=t)&&void 0!==n||(t=a.loadScript(r));var o=e._anvil.spinnerLoader;return a.withDelayPrint(o.withIndicator(t))}["plotly","plotly_white","plotly_dark","presentation","ggplot2","seaborn","simple_white","gridon","xgridoff","ygridoff"].forEach(g),["rally","material_light","material_dark"].forEach(g),e.Plot=a.mkComponentCls(e,"Plot",{properties:a.assembleGroupProperties(
/*!componentProps(Plot)!2*/
["layout","height","visibility","tooltip","user data"],{height:{defaultValue:new Sk.builtin.int_(450)},data:
/*!componentProp(Plot)!1*/
{name:"data",pyVal:!0,type:"object",description:"Plot traces",hideFromDesigner:!0,suggested:!0,initialize:!0,set:(e,t,n)=>(n instanceof Sk.builtin.dict?e._anvil.props.data=a.pyCall(o.WrappedList,[new Sk.builtin.list([n])]):n instanceof o.WrappedList?e._anvil.props.data=n:e._anvil.props.data=a.pyCall(o.WrappedList,[n]),P(e)),get:(e,t)=>(e._anvil.props.data=e._anvil.props.data||a.pyCall(o.WrappedList),e._anvil.props.data)},layout:
/*!componentProp(Plot)!1*/
{name:"layout",pyVal:!0,type:"object",pyType:"plotly.graph_objs.Layout instance",description:"Plot layout",hideFromDesigner:!0,initialize:!0,set:(e,t,n)=>(n instanceof o.WrappedObject?e._anvil.props.layout=n:e._anvil.props.layout=a.pyCall(o.WrappedObject,[n]),P(e)),get:(e,t)=>(e._anvil.props.layout=e._anvil.props.layout||a.pyCall(o.WrappedObject,[Sk.ffi.remapToPy({template:{}})]),e._anvil.props.layout)},config:
/*!componentProp(Plot)!1*/
{name:"config",pyVal:!0,type:"dict",description:"Plot config",hideFromDesigner:!0,initialize:!0,set:(e,t,n)=>(e._anvil.props.config=n,P(e)),get:(e,t)=>(e._anvil.props.config=e._anvil.props.config||Sk.ffi.remapToPy({}),e._anvil.props.config)},figure:
/*!componentProp(Plot)!1*/
{name:"figure",pyVal:!0,type:"dict",description:"The Plotly figure to display. Specifies layout and data.",hideFromDesigner:!0,initialize:!0,set:(e,t,n)=>(n instanceof o.WrappedObject||(n=a.pyCall(o.WrappedObject,[n])),e._anvil.props.layout=a.pyCall(o.WrappedObject,[n.tp$getattr(new Sk.builtin.str("layout"))]),e._anvil.setProp("data",n.tp$getattr(new Sk.builtin.str("data")))),get:(e,t)=>a.pyCall(n.Figure,[Sk.ffi.remapToPy({layout:e._anvil.getProp("layout"),data:e._anvil.getProp("data")})])},interactive:
/*!componentProp(Plot)!1*/
{name:"interactive",type:"boolean",description:"Whether this plot should be interactive",defaultValue:Sk.builtin.bool.true$,pyVal:!0,set:(e,t,n)=>P(e)}}),events:a.assembleGroupEvents("Plot",
/*!componentEvents(Plot)!1*/
["universal"],{click:
/*!componentEvent(Plot)!1*/
{name:"click",description:"when a data point is clicked.",parameters:[{name:"points",description:"A list of the data points that were clicked.",important:!0,pyVal:!0}],important:!0,defaultEvent:!0},double_click:
/*!componentEvent(Plot)!1*/
{name:"double_click",description:"when the plot is double-clicked.",parameters:[],important:!0,defaultEvent:!1},afterplot:
/*!componentEvent(Plot)!1*/
{name:"afterplot",description:"after then plot is redrawn.",parameters:[],important:!0,defaultEvent:!1},select:
/*!componentEvent(Plot)!1*/
{name:"select",description:"when a data point is selected.",parameters:[{name:"points",description:"A list of the data points that were selected.",important:!0,pyVal:!0}],important:!0,defaultEvent:!1},hover:
/*!componentEvent(Plot)!1*/
{name:"hover",description:"when a data point is hovered.",parameters:[{name:"points",description:"A list of the data points that were hovered.",important:!0,pyVal:!0}],important:!0,defaultEvent:!1},unhover:
/*!componentEvent(Plot)!1*/
{name:"unhover",description:"when a data point is unhovered.",parameters:[{name:"points",description:"A list of the data points that were unhovered.",important:!0,pyVal:!0}],important:!0,defaultEvent:!1}}),element:e=>a.h(a.OuterElement,r({className:"anvil-plot"},e),a.h("div",{refName:"spinner",className:"plotly-loading-spinner anvil-spinner",style:"opacity:0"})),locals(t){t.__new__=a.mkNew(e.ClassicComponent,(e=>{e._anvil.plotlyUpdated=!1,e._anvil.initialized=!1,p(e._anvil.elements.spinner),e._anvil.spinnerLoader=u.getOrCreate(e._anvil.elements.spinner);var t=new l((()=>{e._anvil.onPage&&function(e){if("undefined"==typeof Plotly||!e._anvil.plotlyUpdated)return;var t=e._anvil.element.width(),n=e._anvil.element.height();try{Plotly.relayout(e._anvil.domNode,{width:t,height:n})}catch(e){console.warn(e)}}(e)}));e._anvil.pageEvents={add:()=>(e._anvil.initialized=!0,t.observe(e._anvil.domNode),P(e)),remove(){t.disconnect()}}})),t.templates=Sk.ffi.proxy(new Proxy(m,{get(e,t){var n=e[t];return n instanceof Promise?Sk.misceval.promiseToSuspension(n):n},set:(e,t,n)=>(e[t]=n,!0)})),t.redraw=new Sk.builtin.func((function(e){return P(e)})),t.extend_traces=new Sk.builtin.func((function(e,t,n){return _(e).then((()=>Plotly.extendTraces(e._anvil.domNode,v(t),v(n)))),Sk.builtin.none.none$})),t.prepend_traces=new Sk.builtin.func((function(e,t,n){return _(e).then((()=>Plotly.prependTraces(e._anvil.domNode,v(t),v(n)))),Sk.builtin.none.none$})),t.restyle=new Sk.builtin.func((function(e,t,n){return _(e).then((()=>Plotly.restyle(e._anvil.domNode,v(t),n?v(n):void 0))),Sk.builtin.none.none$})),t.relayout=new Sk.builtin.func((function(e,t){return _(e).then((()=>Plotly.relayout(e._anvil.domNode,v(t)))),Sk.builtin.none.none$})),t.to_image=new Sk.builtin.func((function(t,n){return a.suspensionFromPromise(_(t).then((()=>Plotly.toImage(t._anvil.domNode,n?v(n):{format:"png"}))).then((t=>a.pyCall(e.URLMedia,[Sk.ffi.remapToPy(t)]))))}))}});var y=(e,t)=>{var n={};for(var r of t||[])if("string"==typeof r)r in e&&(n[r]=e[r]);else for(var o in r){o in e&&(n[r[o]]=e[o]);break}return n},b=(e,t)=>(a.raiseEventAsync({points:Sk.ffi.remapToPy(t.points.map((e=>y(e,[{curveNumber:"curve_number"},{pointNumber:"point_number"},{pointNumbers:"point_numbers"},"x","y","z","lat","lon"]))))},e,"click"),!1),k=e=>(a.raiseEventAsync({},e,"double_click"),!1),S=(e,t)=>(a.raiseEventAsync({points:Sk.ffi.remapToPy(t?t.points.map((e=>y(e,[{curveNumber:"curve_number"},{pointNumber:"point_number"},{pointNumbers:"point_numbers"},"x","y","z","lat","lon"]))):[])},e,"select"),!1),w=(e,t)=>(a.raiseEventAsync({points:Sk.ffi.remapToPy(t.points.map((e=>y(e,[{curveNumber:"curve_number"},{pointNumber:"point_number"},{pointNumbers:"point_numbers"},"x","y","z","lat","lon"]))))},e,"hover"),!1),C=(e,t)=>(a.raiseEventAsync({points:t&&Sk.ffi.remapToPy(t.points.map((e=>y(e,[{curveNumber:"curve_number"},{pointNumber:"point_number"},{pointNumbers:"point_numbers"},"x","y","z","lat","lon"]))))},e,"unhover"),!1),O=e=>(a.raiseEventAsync({},e,"afterplot"),!1);function P(e){if(!function(e){return!e._anvil.initialized||!e._anvil.props.layout&&!e._anvil.props.data}(e)){var t=function(e){var t=v(e._anvil.props.layout)||{};return t.height=e._anvil.element.height(),t.width=e._anvil.element.width(),t}(e),n=v(e._anvil.props.data)||[],r=v(e._anvil.props.config)||{displayLogo:!1,displaylogo:!1,staticPlot:!e._anvil.getPropJS("interactive")};return a.withDelayPrint(_(e).then((function(){return o.apply(this,arguments)})).finally((()=>{var o=e._anvil.domNode;Plotly.react(o,n,t,r),e._anvil.plotlyUpdated||(o.on("plotly_click",b.bind(null,e)),o.on("plotly_doubleclick",k.bind(null,e)),o.on("plotly_selected",S.bind(null,e)),o.on("plotly_hover",w.bind(null,e)),o.on("plotly_unhover",C.bind(null,e)),o.on("plotly_afterplot",O.bind(null,e))),e._anvil.plotlyUpdated=!0}))),Sk.builtin.none.none$}function o(){return(o=i((function*(){var e=t.template&&Object.keys(t.template).length>0?t.template:m.default;"string"==typeof e&&(e=Sk.ffi.toJs(yield m[e]),t.template=e)}))).apply(this,arguments)}}}},function(e,t,n){"use strict";n(0),n(19),n(2);var r=n(30),o=n(9),i=n(52);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l=n(1);e.exports=e=>{e.LinearPanel=l.mkComponentCls(e,"LinearPanel",{base:e.ClassicContainer,properties:l.assembleGroupProperties(
/*!componentProps(LinearPanel)!1*/
["layout","containers","appearance","tooltip","user data"]),events:l.assembleGroupEvents("linear panel",
/*!componentEvents(LinearPanel)!1*/
["universal"]),element:e=>l.h(l.OuterElement,a({className:"anvil-container"},e),l.h("ul",{refName:"lpul",className:"".concat((0,o.getCssPrefix)(),"linear-panel")})),locals(t){var n=()=>l.h("li",null);
/*!defMethod(_,component,[index=None])!2*/t.add_component=l.funcWithKwargs((function(t,o,a){var s;(0,r.validateChild)(a);var c=t.index;return Sk.misceval.chain(a.anvil$hooks.setupDom(),(r=>{if((0,i.isInvisibleComponent)(a))return e.ClassicContainer._doAddComponent(o,a);[s]=l.h(n,null),s.appendChild(r);var p=o._anvil.elements.lpul,u=p.children;return"number"==typeof c&&c<u.length?p.insertBefore(s,p.children[c]):p.appendChild(s),e.ClassicContainer._doAddComponent(o,a,t,{detachDom(){$(r).detach(),s.remove()}})}))}))}})}},function(e,t,n){"use strict";n(0),n(16),n(19),n(3),n(34),n(32),n(2);var r=n(9),o=n(6),i=n(129),a=n(28),l=n(8);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var c=n(1),{pyCall:p}=n(1);e.exports=(e,t)=>{var{checkNone:n,checkString:p}=Sk.builtin,{isTrue:u}=Sk.misceval;e.RepeatingPanel=c.mkComponentCls(e,"RepeatingPanel",{properties:c.assembleGroupProperties(
/*!componentProps(RepeatingPanel)!2*/
["appearance","layout","tooltip","user data"],{item_template:
/*!componentProp(RepeatingPanel)!1*/
{name:"item_template",type:"form",defaultValue:Sk.builtin.none.none$,exampleValue:"Form1",description:"The name of the form to repeat for every item",pyVal:!0,set:(e,t,n)=>h(e,(()=>2===window.anvilRuntimeVersion?g(e,t,n):_(e,n))),important:!0},items:
/*!componentProp(RepeatingPanel)!1*/
{name:"items",type:"object",pyVal:!0,defaultValue:Sk.builtin.none.none$,dataBindingProp:!0,suggested:!0,description:"A list of items for which the 'item_template' will be instantiated.",set:(e,t,n)=>h(e,(()=>y(e,t,n)))}}),events:c.assembleGroupEvents("RepeatingPanel",
/*!componentEvents(RepeatingPanel)!1*/
["universal"]),element:e=>{var t=(0,r.getCssPrefix)();return c.h(c.OuterElement,s({className:"anvil-designer-component-namespace ".concat(t,"repeating-panel")},e),c.h("div",{refName:"items",className:"".concat(t,"hide-while-paginating")}))},locals(n){n.__new__=c.mkNew(e.ClassicComponent,(n=>{n._anvil.itemsElement=$(n._anvil.elements.items),n._anvil.pyHiddenContainer=c.pyCall(e.ClassicContainer),n._anvil.pyHiddenContainer._anvil.overrideParentObj=n,n._anvil.itemCache=[],n._anvil.componentCache=[];var r,o,i=t.newPythonComponent.dependencyTrace;(null==i?void 0:i.depId)&&(n._anvil.defaultAppPackage=null===(r=window.anvilAppDependencies)||void 0===r||null===(o=r[i.depId])||void 0===o?void 0:o.package_name);return n._anvil.pagination={startAfter:null,rowQuota:1/0},n._anvil.itemsCounter=0,n._anvil.lastPagination=[],n._anvil.paginate=v.bind(n,n),Sk.misceval.chain(n._anvil.setProp("items",n._anvil.props.items),(()=>n._anvil.setProp("item_template",n._anvil.props.item_template)))})),n.get_components=new Sk.builtin.func((function(e){return c.pyCall(e._anvil.pyHiddenContainer.tp$getattr(new Sk.builtin.str("get_components")))})),n.raise_event_on_children=c.funcFastCall((function(e,t){var[n,r]=e;return c.pyCallOrSuspend(n._anvil.pyHiddenContainer.tp$getattr(new Sk.builtin.str("raise_event_on_children")),[r],t)})),n.__serialize__=c.mkSerializePreservingIdentity((e=>{var t,n=[];return Object.entries(e._anvil.props).forEach((e=>{var[t,r]=e;n.push(new Sk.builtin.str(t),r)})),n.push(new Sk.builtin.str("_default_app_package"),Sk.ffi.toPy(null!==(t=e._anvil.defaultAppPackage)&&void 0!==t?t:null)),new Sk.builtin.dict(n)})),n.__new_deserialized__=c.mkNewDeserializedPreservingIdentity(((e,t)=>{var n=t.tp$getattr(new Sk.builtin.str("pop"));e._anvil.defaultAppPackage=c.pyCall(n,[new Sk.builtin.str("_default_app_package"),Sk.builtin.none.none$]).valueOf(),c.setAttrsFromDict(e,t)}))}});var d=(e,t)=>{var n,r;if(e._anvil.pyIterator)return null!==(r=(n=e._anvil).itemCache)&&void 0!==r||(n.itemCache=[]),t<e._anvil.itemCache.length?e._anvil.itemCache[t]:Sk.misceval.chain(Sk.misceval.iterFor(e._anvil.pyIterator,((n,r)=>(e._anvil.itemCache.push(n),r>=t?new Sk.misceval.Break:r+1)),e._anvil.itemCache.length),(()=>e._anvil.itemCache[t]))},f=(e,t)=>{if(!n(t)){var r=!1;return Sk.misceval.iterArray(e._anvil.lastPagination,(e=>{var[,,,n]=e;if(r||n===t)return r=!0,c.pyCallOrSuspend(n.tp$getattr(new Sk.builtin.str("remove_from_parent")))}))}},v=function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var l=(0,r.getCssPrefix)();if(null==i||null===(n=i._anvil)||void 0===n?void 0:n.pagination){var s=t._anvil.lastPagination.findIndex((e=>{var[,,,t]=e;return t==i}));t._anvil.lastPagination[s][1]=i._anvil.pagination.rowsDisplayed,t._anvil.pagination.startAfter&&t._anvil.pagination.startAfter[0]===s&&(t._anvil.pagination.startAfter[2]=i._anvil.pagination.startAfter)}t._anvil.pagination.rowsDisplayed=0,t._anvil.pagination.stoppedAt=null,t._anvil.pagination.done=!0;var[p,u,v,m]=t._anvil.pagination.startAfter||[0,t._anvil.itemsCounter,null,!1],h=p+(!0===m?1:0),g=0,_=e.ClassicContainer._doAddComponent,y=e=>(t._anvil.elements.items.appendChild(e._anvil.domNode),t._anvil.dataGrid&&e._anvil&&(e._anvil.dataGrid=t._anvil.dataGrid),_(t._anvil.pyHiddenContainer,e,{},{isMounted:!1}));if(!t._anvil.constructItemTemplate){if(c.pyCall(t._anvil.pyHiddenContainer.tp$getattr(new Sk.builtin.str("clear"))),t._anvil.templateFormName){var b="";t._anvil.missingDependency&&(b="Dependency missing: "),b+="No such form '"+t._anvil.templateFormName+"'";var k=c.pyCall(e.InvalidComponent,[],["text",new Sk.builtin.str(b)]);return Sk.misceval.chain(y(k),(()=>[0,null,!0]))}return[0,null,!0]}if(t._anvil.itemsCounter!==u)return t._anvil.pagination.rowsDisplayed=0,t._anvil.pagination.stoppedAt=null,t._anvil.pagination.done="INVALID",[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done];var S=[];return S.pyIterator=t._anvil.pyIterator,S.constructItemTemplate=t._anvil.constructItemTemplate,t._anvil.element.addClass(l+"paginating"),Sk.misceval.chain(void 0,(()=>c.whileOrSuspend((()=>!0),(()=>{var e=t._anvil.lastPagination[0];if(!e)return new Sk.misceval.Break;var[n,r,o,i]=e,a=t._anvil.lastPagination;return a.pyIterator===t._anvil.pyIterator&&a.constructItemTemplate===t._anvil.constructItemTemplate&&n===h?new Sk.misceval.Break:(t._anvil.lastPagination.shift(),c.pyCallOrSuspend(i.tp$getattr(new Sk.builtin.str("remove_from_parent"))))}))),(()=>c.whileOrSuspend((()=>!0),(()=>Sk.misceval.chain(d(t,h),(e=>{var n=p===h;if(void 0===e)return h++,g++,new Sk.misceval.Break;if(t._anvil.pagination.rowsDisplayed>=t._anvil.pagination.rowQuota)return t._anvil.pagination.done=!1,h++,g++,new Sk.misceval.Break;var r,[o,i,a,l]=t._anvil.lastPagination[g]||[-1,0,null,Sk.builtin.none.none$],s=[];o===h?(null===(r=l._anvil)||void 0===r?void 0:r.pagination)?i<=t._anvil.pagination.rowQuota-t._anvil.pagination.rowsDisplayed&&!0===l._anvil.pagination.done&&a===l._anvil.pagination.startAfter&&(!n||v===l._anvil.pagination.startAfter)?(l._anvil.pagination.rowQuota=t._anvil.pagination.rowQuota-t._anvil.pagination.rowsDisplayed,t._anvil.pagination.rowsDisplayed+=i,t._anvil.pagination.stoppedAt=[h,t._anvil.itemsCounter,l._anvil.pagination.stoppedAt,l._anvil.pagination.done],"INVALID"===l._anvil.pagination.done?t._anvil.pagination.done="INVALID":t._anvil.pagination.done=!0===t._anvil.pagination.done&&l._anvil.pagination.done,S.push([h,i,a,l])):(l._anvil.pagination.rowQuota=t._anvil.pagination.rowQuota-t._anvil.pagination.rowsDisplayed,n&&(l._anvil.pagination.startAfter=v),s.push((()=>l._anvil.paginate())),s.push((e=>{var[n,r,o]=e;t._anvil.pagination.rowsDisplayed+=n,t._anvil.pagination.stoppedAt=[h,t._anvil.itemsCounter,r,o],t._anvil.pagination.done="INVALID"===o?"INVALID":!0===t._anvil.pagination.done&&o,S.push([h,n,v,l])}))):S.push([o,i,a,l]):(s.push((()=>f(t,l))),s.push((()=>{t._anvil.componentCache||(t._anvil.componentCache=[]);var n=t._anvil.componentCache.slice(0);return h<n.length?n[h]:Sk.misceval.chain(t._anvil.constructItemTemplate(e),(e=>(t._anvil.componentCache.push(e),e)))}),(e=>Sk.misceval.chain(y(e),(()=>{var r;if(null===(r=e._anvil)||void 0===r?void 0:r.paginate)return e._anvil.pagination={startAfter:n?v:null,rowQuota:t._anvil.pagination.rowQuota-t._anvil.pagination.rowsDisplayed},Sk.misceval.chain(e._anvil.paginate(),(r=>{var[o,i,a]=r;t._anvil.pagination.rowsDisplayed+=o,t._anvil.pagination.stoppedAt=[h,t._anvil.itemsCounter,i,a],t._anvil.pagination.done="INVALID"===a?"INVALID":!0===t._anvil.pagination.done&&a,S.push([h,o,n?v:null,e])}));S.push([h,0,null,e])})))));return s.push((()=>{h++,g++})),Sk.misceval.chain(void 0,...s)}))))),(()=>{if(t._anvil.lastPagination.length>=g)return f(t,t._anvil.lastPagination[g-1][3])}),(()=>{t._anvil.lastPagination=S,c.logPagination&&console.log("RepeatingPanel displayed",t._anvil.pagination.rowsDisplayed,"rows.",t._anvil.pagination.done?"Done":"Interrupted","at",t._anvil.pagination.stoppedAt),c.logPagination&&console.groupEnd()}),(()=>{var e,n,r,o=null===(e=t._anvil.parent)||void 0===e?void 0:e.pyObj;return(null==i||null===(n=i._anvil)||void 0===n?void 0:n.pagination)&&(null==o||null===(r=o._anvil)||void 0===r?void 0:r.paginate)?Sk.misceval.chain(o._anvil.paginate(t),(()=>[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done])):[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done]}),(e=>(t._anvil.element.removeClass(l+"paginating"),Sk.misceval.chain(null,(()=>{var e=t._anvil.pyHiddenContainer._anvil.components.map((e=>{var{component:t}=e;return()=>(0,a.notifyComponentMounted)(t)}));return(0,o.chainOrSuspend)(o.pyNone,...e)}),(()=>e)))))},m=e=>{var t,n,r=null===(t=e._anvil.parent)||void 0===t?void 0:t.pyObj;return(null==r||null===(n=r._anvil)||void 0===n?void 0:n.paginate)?Sk.misceval.chain(e._anvil.paginate(),(t=>{var[n,o,i]=t;return r._anvil.paginate(e)})):v(e)},h=(e,t)=>{var n,r;return e._anvil.componentCache=[],null!==(r=(n=e._anvil).mutex)&&void 0!==r||(n.mutex=new l.Mutex),e._anvil.mutex.runWithLock(t)},g=(e,t,n)=>{if(u(n)){if(p(n)){var r;n=n.toString(),e._anvil.templateFormName=n,e._anvil.constructItemTemplate=void 0,e._anvil.missingDependency=!1;var[,o,i]=n.match(/^(?:([^:]*):)?([^:]*)$/)||[],a=o?window.anvilAppDependencyIds[o]:null,l=a?null===(r=window.anvilAppDependencies[a])||void 0===r?void 0:r.package_name:e._anvil.defaultAppPackage||window.anvilAppMainPackage;if(o&&(!a||!l))return console.error("Dependency not found when setting RepeatingPanel template: ",o,"->",a,"->",l),void(e._anvil.missingDependency=!0);var s="".concat(l,".").concat(i);return Sk.misceval.chain(Sk.misceval.tryCatch((()=>Sk.misceval.chain(Sk.importModule(s,void 0,!0),(()=>{var t=s.split(".").slice(1),n=t[t.length-1],r=Sk.sysmodules.mp$subscript(new Sk.builtin.str(s)),o=r&&r.tp$getattr(new Sk.builtin.str(n));e._anvil.constructItemTemplate=e=>Sk.misceval.callsimOrSuspendArray(o,[],["item",e])}))),(function(e){console.error(e),window.onerror&&window.onerror(void 0,void 0,void 0,void 0,e)})),(()=>m(e)))}return e._anvil.templateFormName="",e._anvil.constructItemTemplate=e=>Sk.misceval.callsimOrSuspendArray(n,[],["item",e]),m(e)}return e._anvil.templateFormName="",e._anvil.constructItemTemplate=void 0,m(e)},_=(e,t)=>(e._anvil.templateFormName=Sk.builtin.checkString(t)?t.toString():"",e._anvil.constructItemTemplate=void 0,Sk.misceval.chain(Sk.misceval.tryCatch((()=>Sk.misceval.chain((0,i.getFormInstantiator)({requestingComponent:e},t),(t=>{console.log("Got instantiator:",t),e._anvil.constructItemTemplate=e=>t(["item",e])}))),(e=>{console.error(e),window.onerror&&window.onerror(void 0,void 0,void 0,void 0,e)})),(()=>m(e)))),y=(e,t,r)=>(e._anvil.itemsCounter++,e._anvil.itemCache=[],n(r)?e._anvil.pyIterator=Sk.abstr.iter(new Sk.builtin.list([])):e._anvil.pyIterator=Sk.abstr.iter(r),m(e))}},function(e,t,n){"use strict";n(0),n(16),n(62),n(2);var{getCssPrefix:r}=n(9),o=n(1);e.exports=e=>{e.Paginator=o.mkComponentCls(e,"Paginator",{base:e.ClassicContainer,locals(t){var n=e=>{var t=e._anvil&&e._anvil.getPropJS&&e._anvil.getPropJS("rows_per_page");return t&&t>0?t:1/0},i=(e,t,n)=>{var o=r();if(e._anvil.repaginating=t,n)e._anvil.ignoreHeight=!0;else{if(void 0===n&&e._anvil.ignoreHeight)return;e._anvil.ignoreHeight=!1}t?(e._anvil.elements.childPanel.style.minHeight=e._anvil.elements.childPanel.clientHeight+"px",e._anvil.domNode.classList.add(o+"paginating")):(e._anvil.domNode.classList.remove(o+"paginating"),e._anvil.elements.childPanel.style.minHeight="0px")};t.__new__=o.mkNew(e.ClassicContainer,(e=>{e._anvil.pagination={startAfter:null,rowQuota:n(e)},e._anvil.updatePaginationControls=()=>{var t=r(),n=!e._anvil.paginatorPages||e._anvil.paginatorPages.length<2;e._anvil.elements.firstPage.classList.toggle(t+"disabled",n),e._anvil.elements.prevPage.classList.toggle(t+"disabled",n);var o=!0===e._anvil.pagination.done;e._anvil.elements.nextPage.classList.toggle(t+"disabled",o),e._anvil.elements.lastPage.classList.toggle(t+"disabled",o)}})),t.jump_to_first_page=new Sk.builtin.func((e=>e._anvil.repaginating?Sk.builtin.none.none$:(e._anvil.ignoreHeight=!0,i(e,!0),e._anvil.pagination={startAfter:null,rowQuota:n(e)},delete e._anvil.lastChildPagination,Sk.misceval.chain(e._anvil.paginate(),(t=>{var[n,r,o]=t;return e._anvil.paginatorPages=[{startedAfter:null,stoppedAt:r,done:o,rowsDisplayed:n,currentPage:0,currentIndex:0}],e._anvil.updatePaginationControls(),i(e,!1,!1),Sk.builtin.none.none$}))))),t.jump_to_last_page=new Sk.builtin.func((e=>e._anvil.repaginating?Sk.builtin.none.none$:(i(e,!0,!0),Sk.misceval.chain(o.whileOrSuspend((()=>!(e._anvil.paginatorPages&&e._anvil.paginatorPages.length>0&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1].done)),(()=>Sk.misceval.chain(void 0,(()=>{i(e,!1)}),(()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("next_page")))),(()=>{i(e,!0)})))),(()=>(i(e,!1,!1),Sk.builtin.none.none$)))))),t.next_page=new Sk.builtin.func((e=>{if(e._anvil.repaginating)return Sk.builtin.none.none$;var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1];if(t&&!t.done){i(e,!0),e._anvil.pagination={startAfter:t.stoppedAt,rowQuota:n(e)};var r={};return e._anvil.paginatorPages.push(r),Sk.misceval.chain(e._anvil.paginate(),(n=>{var[o,a,l]=n;return r.startedAfter=t.stoppedAt,r.rowsDisplayed=o,r.stoppedAt=a,r.done=l,r.currentPage=t.currentPage+1,r.currentIndex=t.currentIndex+o,i(e,!1),e._anvil.updatePaginationControls(),Sk.builtin.none.none$}))}})),t.previous_page=new Sk.builtin.func((e=>{if(e._anvil.repaginating)return Sk.builtin.none.none$;var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-2];return t&&!t.done?(i(e,!0),e._anvil.pagination={startAfter:t.startedAfter,rowQuota:n(e)},e._anvil.paginatorPages.pop(),Sk.misceval.chain(e._anvil.paginate(),(t=>{var[n,r,o]=t;return i(e,!1),e._anvil.updatePaginationControls(),Sk.builtin.none.none$}))):void 0})),t.get_page=new Sk.builtin.func((e=>{var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1];return t?Sk.ffi.remapToPy(t.currentPage):Sk.builtin.none.none$})),t.get_first_index_on_page=new Sk.builtin.func((e=>{var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1];return t?Sk.ffi.remapToPy(t.currentIndex):Sk.builtin.none.none$})),t.set_page=new Sk.builtin.func(((e,t)=>{if((t=Sk.misceval.asIndexOrThrow(t))<0)throw new Sk.builtin.IndexError("Cannot use a negative index to set the page");var r=e._anvil.paginatorPages&&e._anvil.paginatorPages[Math.min(t,e._anvil.paginatorPages.length-1)],o=[],i=0;null!=r&&(i=r.currentPage,e._anvil.paginatorPages=e._anvil.paginatorPages.slice(0,i+1),o.push((()=>(e._anvil.pagination={startAfter:r.startedAfter,rowQuota:n(e)},e._anvil.paginate()))));for(var a=e.tp$getattr(new Sk.builtin.str("next_page")),l=i;l<t;l++)o.push((()=>Sk.misceval.callsimOrSuspend(a)));return Sk.misceval.chain(null,...o,(()=>Sk.builtin.none.none$))})),t.repaginate=new Sk.builtin.func((e=>{if(!(e._anvil.paginatorPages&&e._anvil.paginatorPages.length>1))return Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("jump_to_first_page")));if(e._anvil.repaginating)return Sk.builtin.none.none$;var t=e._anvil.paginatorPages&&e._anvil.paginatorPages[e._anvil.paginatorPages.length-1];return t?(i(e,!0),e._anvil.pagination={startAfter:t.startedAfter,rowQuota:n(e)},e._anvil.lastChildPagination=void 0,Sk.misceval.chain(e._anvil.paginate(),(n=>{var[r,o,a]=n;return e._anvil.paginatorPages.splice(e._anvil.paginatorPages.length-1,1,{startedAfter:t.startedAfter,rowsDisplayed:r,stoppedAt:o,done:a,currentPage:t.currentPage,currentIndex:t.currentIndex}),i(e,!1),e._anvil.updatePaginationControls(),Sk.builtin.none.none$}))):void 0}))}})}},function(e,t,n){"use strict";n(13),n(0),n(16),n(3),n(2);var r=n(30),o=n(9),i=n(52);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=n(1);e.exports=function(e){var{isTrue:t}=Sk.misceval,n=0;e.DataGrid=s.mkComponentCls(e,"DataGrid",{base:e.Paginator,properties:s.assembleGroupProperties(
/*!componentProps(DataGrid)!1*/
["layout","containers","appearance","user data","tooltip"],{columns:
/*!componentProp(DataGrid)!1*/
{name:"columns",type:"dataGridColumns",pyVal:!0,hidden:!0,defaultValue:Sk.builtin.none.none$,description:"A list of columns to display in this Data Grid.",set(e,t,n){e._anvil.jsCols=Sk.ffi.toJs(n),p(e,t)},getJS:(e,t)=>e._anvil.jsCols},auto_header:
/*!componentProp(DataGrid)!1*/
{name:"auto_header",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!0,description:"Whether to display an automatic header at the top of this Data Grid.",set(e,t,n){var r,o;p(e,t),null===(r=(o=e._anvil).onUpdateAutoHeader)||void 0===r||r.call(o)}},show_page_controls:
/*!componentProp(DataGrid)!1*/
{name:"show_page_controls",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!0,description:"Whether to display the next/previous page buttons.",set:(e,n,r)=>e._anvil.elements.paginationButtons.style.display=t(r)?"block":"none"},rows_per_page:
/*!componentProp(DataGrid)!1*/
{name:"rows_per_page",type:"number",defaultValue:new Sk.builtin.int_(20),pyVal:!0,exampleValue:20,description:"The maximum number of rows to display at one time.",set:(e,t,n)=>s.pyCallOrSuspend(e.tp$getattr(new Sk.builtin.str("jump_to_first_page")))},wrap_on:
/*!componentProp(DataGrid)!1*/
{name:"wrap_on",type:"enum",options:["never","mobile","tablet"],description:"The largest display on which to wrap columns in this DataGrid",defaultValue:new Sk.builtin.str("never"),pyVal:!0,important:!0,set(e,t,n){n=n.toString();var r=(0,o.getCssPrefix)(),i=e._anvil.domNode;i.classList.remove(r+"wrap-never",r+"wrap-tablet",r+"wrap-mobile"),i.classList.add(r+"wrap-"+n)}}}),events:s.assembleGroupEvents("data grid",
/*!componentEvents(DataGrid)!1*/
["universal"]),layouts:[{name:"pinned",type:"boolean",description:"Whether this component should show on every page of the grid",defaultValue:!1,important:!0,priority:0}],element:e=>{var{show_page_controls:n,wrap_on:r}=e,i=l(e,["show_page_controls","wrap_on"]),c=(0,o.getCssPrefix)();return s.h(s.OuterElement,a({className:"anvil-container anvil-data-grid anvil-paginator ".concat(c,"wrap-").concat(r)},i),s.h("div",{refName:"childPanel",className:"".concat(c,"data-grid-child-panel")}),s.h("div",{refName:"footerPanel",className:"".concat(c,"data-grid-footer-panel")},s.h("div",{refName:"footerSlot",className:"".concat(c,"footer-slot")}),s.h("div",{refName:"paginationButtons",className:"".concat(c,"pagination-buttons"),style:"display:"+(t(n)?"block":"none")+";"},s.h("a",{refName:"firstPage",href:"javascript:void(0)",className:"".concat(c,"first-page ").concat(c,"disabled")},s.h("i",{refName:"iconFirst",className:"fa fa-angle-double-left"})),s.h("a",{refName:"prevPage",href:"javascript:void(0)",className:"".concat(c,"previous-page ").concat(c,"disabled")},s.h("i",{refName:"iconPrev",className:"fa fa-angle-left"})),s.h("a",{refName:"nextPage",href:"javascript:void(0)",className:"".concat(c,"next-page ").concat(c,"disabled")},s.h("i",{refName:"iconNext",className:"fa fa-angle-right"})),s.h("a",{refName:"lastPage",href:"javascript:void(0)",className:"".concat(c,"last-page ").concat(c,"disabled")},s.h("i",{refName:"iconLast",className:"fa fa-angle-double-right"})))))},locals(t){t.__new__=s.mkNew(e.Paginator,(e=>{e._anvil.element.data("anvil-py-component",e),e._anvil.childPanel=$(e._anvil.elements.childPanel),e._anvil.footerSlot=$(e._anvil.elements.footerSlot),e._anvil.dataGridId=n++,e._anvil.dataGrid=e;var t=$("style[anvil-data-grid-id=".concat(e._anvil.dataGridId,"]"));return 0===t.length&&(t=$("<style />").attr("anvil-data-grid-id",e._anvil.dataGridId).appendTo($("head"))),e._anvil.styleSheet=t[0].sheet,e._anvil.updateColStyles=c.bind(e,e),e._anvil.paginate=u.bind(e,e),$(e._anvil.elements.firstPage).on("click",(()=>s.asyncToPromise((()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("jump_to_first_page"))))))),$(e._anvil.elements.prevPage).on("click",(()=>s.asyncToPromise((()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("previous_page"))))))),$(e._anvil.elements.nextPage).on("click",(()=>s.asyncToPromise((()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("next_page"))))))),$(e._anvil.elements.lastPage).on("click",(()=>s.asyncToPromise((()=>Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("jump_to_last_page"))))))),e._anvil.setProp("columns",e._anvil.props.columns)})),t.add_component=s.funcWithKwargs((function(t,n,o){(0,r.validateChild)(o);var{index:a,pinned:l,slot:c}=t;return Sk.misceval.chain(o.anvil$hooks.setupDom(),(r=>{if((0,i.isInvisibleComponent)(o))return e.ClassicContainer._doAddComponent(n,o);var l=n._anvil.elements.childPanel;o._anvil&&(o._anvil.dataGrid=n);var p=n._anvil.elements.childPanel.children;return"footer"===c?n._anvil.elements.footerSlot.appendChild(r):"number"==typeof a&&a<p.length?l.insertBefore(r,p[a]):l.appendChild(r),e.ClassicContainer._doAddComponent(n,o,t,{afterRemoval:()=>(o._anvil&&delete o._anvil.dataGrid,s.pyCallOrSuspend(n.tp$getattr(new Sk.builtin.str("repaginate"))))})}),(()=>s.pyCallOrSuspend(n.tp$getattr(new Sk.builtin.str("jump_to_first_page")))))})),t.__serialize__=s.mkSerializePreservingIdentity((function(e){var t=[];for(var n in e._anvil.props)t.push(new Sk.builtin.str(n),e._anvil.props[n]);var r=new Sk.builtin.dict(t),o=e._anvil.components;return e._anvil.getPropJS("auto_header")&&(o=o.slice(1)),o=o.map((e=>new Sk.builtin.tuple([e.component,Sk.ffi.remapToPy(e.layoutProperties)]))),r.mp$ass_subscript(new Sk.builtin.str("$_components"),new Sk.builtin.list(o)),r}))}});var c=(e,t)=>{for(var n=(0,o.getCssPrefix)(),r=e._anvil.styleSheet;r.cssRules.length>0;)r.deleteRule(0);for(var i of t||[]){var a=".".concat(n,'data-row-col[data-grid-id="').concat(e._anvil.dataGridId,'"][data-grid-col-id="').concat(i.id,'"] {');i.width&&(a+="width: ".concat(i.width,"px; flex-grow: 0;")),!0===i.expand?a+="flex-grow: 1;":i.expand&&(a+="flex-grow: ".concat(i.expand,";")),r.insertRule(a+"}",0)}},p=(n,r)=>{var i,a,l=n._anvil.getPropJS("columns"),c=(0,o.getCssPrefix)();n._anvil.updateColStyles(l),r.find(".anvil-data-row-panel:not(".concat(c,"auto-grid-header)")).map(((e,t)=>$(t).data("anvilPyComponent"))).each(((e,t)=>t._anvil.updateColumns(!0)));var p=r.find(".".concat(c,"auto-grid-header")).map(((e,t)=>$(t).data("anvilPyComponent")));if(t(n._anvil.getProp("auto_header"))){var u={};for(var d of l||[])u[d.id]=d.title;0===p.length?((p=s.pyCall(e.DataRowPanel,[],["bold",Sk.builtin.bool.true$]))._anvil.autoGridHeader=!0,p._anvil.domNode.classList.add("anvil-designer-no-hit","".concat(c,"auto-grid-header")),s.pyCall(n.tp$getattr(new Sk.builtin.str("add_component")),[p],["index",new Sk.builtin.int_(0)])):p=p[0],p.tp$setattr(new Sk.builtin.str("item"),Sk.ffi.remapToPy(u))}else p.length>0&&Sk.misceval.callsim(p[0].tp$getattr(new Sk.builtin.str("remove_from_parent")));null===(i=(a=n._anvil).afterUpdateColumns)||void 0===i||i.call(a)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e._anvil.pagination){var n=-1,r=e._anvil.pagination.rowQuota;if(t&&t._anvil.pagination){n=e._anvil.components.findIndex((e=>e.component===t)),r=e._anvil.lastChildPagination.reduce(((e,t,r)=>t&&r<n?e-t[0]:e),e._anvil.pagination.rowQuota),r-=t._anvil.pagination.rowsDisplayed;e._anvil.lastChildPagination[n]&&e._anvil.lastChildPagination[n][0];e._anvil.lastChildPagination[n]=[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done],e._anvil.pagination.startAfter&&e._anvil.pagination.startAfter[0]==n&&(e._anvil.pagination.startAfter[1]=t._anvil.pagination.startAfter)}return Sk.misceval.chain(s.repaginateChildren(e,n+1,e._anvil.pagination.startAfter,r),(t=>{var[n,r,o]=t;return s.logPagination&&(console.log("DataGrid displayed",n,"rows.",o?"Done":"Interrupted","at",r,"Pagination results:",e._anvil.lastChildPagination),console.groupEnd()),e._anvil.pagination.rowsDisplayed=n,e._anvil.pagination.stoppedAt=r,e._anvil.pagination.done=o,Sk.misceval.chain(void 0,(()=>{if(e._anvil.paginatorPages){if("INVALID"===o)return e._anvil.repaginating=!1,Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("previous_page")));e._anvil.paginatorPages[e._anvil.paginatorPages.length-1].rowsDisplayed=n,e._anvil.paginatorPages[e._anvil.paginatorPages.length-1].stoppedAt=r,e._anvil.paginatorPages[e._anvil.paginatorPages.length-1].done=o}}),e._anvil.updatePaginationControls,(()=>[n,r,o]))}))}}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}n(0),n(19),n(3),n(2);var a=n(1),{pyNone:l,pyStr:s,pyBool:c,pyCall:p}=n(6),{validateChild:u}=n(30),{getCssPrefix:d}=n(9),{notifyVisibilityChange:f}=n(28);e.exports=function(e){var{isTrue:t}=Sk.misceval,n=new Sk.builtin.str("add_component"),s=new Sk.builtin.str("remove_from_parent");e.DataRowPanel=a.mkComponentCls(e,"DataRowPanel",{base:e.ClassicContainer,properties:a.assembleGroupProperties(
/*!componentProps(DataRowPanel)!2*/
["text","layout","containers","appearance","tooltip","user data"],{visible:{set:(e,t,n)=>c(e)},bold:{important:!0,priority:10},spacing_above:{defaultValue:new Sk.builtin.str("none")},spacing_below:{defaultValue:new Sk.builtin.str("none")},text:{omit:!0},item:
/*!componentProp(DataRowPanel)!1*/
{name:"item",type:"object",defaultValue:Sk.builtin.none.none$,pyVal:!0,exampleValue:"",description:"The data to display in this row by default.",set:(e,t,n)=>e._anvil.updateColumns(!0)},auto_display_data:
/*!componentProp(DataRowPanel)!1*/
{name:"auto_display_data",type:"boolean",defaultValue:Sk.builtin.bool.true$,pyVal:!0,exampleValue:!0,description:"Whether to automatically display data in this row.",set:(e,t,n)=>e._anvil.updateColumns(!0)}}),events:a.assembleGroupEvents("data row panel",
/*!componentEvents(DataRowPanel)!1*/
["universal"]),layouts:[{name:"column",type:"string",description:"The id of the column where this component will be placed",defaultValue:"",important:!0,priority:0}],element:e=>a.h(a.OuterElement,i({className:"anvil-container anvil-data-row-panel"},e)),locals(t){t.__new__=a.mkNew(e.ClassicContainer,(e=>(e._anvil.pageEvents={add(){if(!0===e._anvil.updateDataGridId)return e._anvil.updateDataGridId=!1,e._anvil.updateColumns(!0)},remove(){e._anvil.parent||(e._anvil.dataGrid=void 0,e._anvil.updateDataGridId=!0)},show(){}},e._anvil.updateColData=p.bind(e,e),e._anvil.updateColumns=_.bind(e,e),e._anvil.getColumn=g.bind(e,e),e._anvil.dataGrid=void 0,e._anvil.updateDataGridId=!0,e._anvil.cols={},e._anvil.paginate=y.bind(e,e),e._anvil.hideOnThisPage=!1,e._anvil.cachedPagination={},e._anvil.onRefreshDataBindings=()=>e._anvil.updateColumns(!0),e._anvil.updateColumns()))),t.add_component=new a.funcWithKwargs((function(t,n,r){u(r);var o=t.column;return Sk.misceval.chain(r.anvil$hooks.setupDom(),(i=>{var{colEl:l,autoRow:c}=n._anvil.getColumn(o);return null!==c&&c!==r&&a.pyCall(c.tp$getattr(s)),l.appendChild(i),void 0!==n._anvil.dataGrid&&(r._anvil.dataGrid=n._anvil.dataGrid),e.ClassicContainer._doAddComponent(n,r,t,{detachDom:()=>{var e,t,o;null===(e=i.parentElement)||void 0===e||null===(t=e.removeChild)||void 0===t||t.call(e,i),(null===(o=r._anvil)||void 0===o?void 0:o.isAutoRow)||n._anvil.updateColumns()}})}),(()=>{var e;return(null===(e=r._anvil)||void 0===e?void 0:e.paginate)&&(Object.defineProperty(n._anvil,"cachedPagination",{get:()=>({}),set(){}}),n._anvil.paginate(r)),Sk.builtin.none.none$}))}))}});var c=e=>{var n=e._anvil.domNode,r=t(e._anvil.getProp("visible"))&&!e._anvil.hideOnThisPage,o=d();return n.classList.toggle(o+"visible-false",!r),f(e,r)},p=(r,o,i)=>{var l=i.autoRow;l&&(a.pyCall(l.tp$getattr(s)),i.autoRow=null);var c=r._anvil.getProp("item");if(t(r._anvil.getProp("auto_display_data"))&&c!==Sk.builtin.none.none$&&o&&0===i.colEl.children.length){var p=r._anvil.autoGridHeader?String(o.id):o.data_key||o.id;return Sk.misceval.chain(Sk.misceval.tryCatch((()=>Sk.abstr.objectGetItem(c,Sk.ffi.remapToPy(p),!0)),(()=>{})),(t=>{if(void 0!==t){var l=d(),s=a.pyCall(e.Label,[],["text",t]);s._anvil.domNode.classList.add(l+"auto-row-value"),s._anvil.isAutoRow=!0,i.autoRow=s,a.pyCall(r.tp$getattr(n),[s],["column",Sk.ffi.remapToPy(o.id)])}}))}},v=e=>{var t=m(e);return t&&t._anvil.dataGridId},m=e=>{var t=e._anvil.dataGrid;if(void 0===t){var n,r=e._anvil.parent;(t=r&&(null===(n=r.pyObj._anvil)||void 0===n?void 0:n.dataGrid)||r&&e._anvil.element.closest(".anvil-data-grid").data("anvilPyComponent"))?e._anvil.dataGrid=t:t=void 0}return t},h=e=>{var{dataGridId:t,colId:n}=e;t=void 0===t?"":t;var r=d();return a.h("div",{className:"".concat(r,"data-row-col"),"data-grid-col-id":n,"data-grid-id":t})},g=(e,t)=>{var n;null!==(n=t)&&void 0!==n||(t=null);var r=e._anvil.cols[t];if(void 0===r){var o=v(e),[i]=a.h(h,{colId:t,dataGridId:o});e._anvil.domNode.appendChild(i),void 0===o&&(e._anvil.updateDataGridId=!0),null===t&&i.classList.add(d()+"extra-column"),r={colEl:i,autoRow:null,dataGridId:o},e._anvil.cols[t]=r}else if(void 0===r.dataGridId){var l=v(e);r.dataGridId=l,r.colEl.setAttribute("data-grid-id",l)}return r},_=(e,t)=>{var n=m(e);if(void 0!==n){var i=n._anvil.getPropJS("columns");if(i){t&&(e._anvil.cachedPagination={});var s=[()=>a.raiseEventOrSuspend({data_grid:n||l},e,"x-data-row-panel-update-columns")],c=new Set,p=e._anvil.cols,u=e._anvil.domNode,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p),v=u.children,h=d();return i.forEach(((n,r)=>{var o=n.id;c.add(String(o));var i=v[r],a=e._anvil.getColumn(o),l=a.colEl,p=i!==l;p&&u.insertBefore(l,i),(t||p)&&(a.extraCol&&(a.extraCol=!1,l.classList.remove(h+"extra-column")),s.push((()=>e._anvil.updateColData(n,a))))})),s.push((()=>{var t=[];return Object.keys(f).forEach((n=>{if(!c.has(n)){var r=f[n];"null"!==n&&null!==r.autoRow?(r.colEl.remove(),delete p[n]):(r.extraCol=!0,r.colEl.classList.add(h+"extra-column"),void 0===r.dataGridId&&e._anvil.getColumn("null"),t.push((()=>e._anvil.updateColData(null,r))))}})),Sk.misceval.chain(void 0,...t)})),Sk.misceval.chain(void 0,...s)}}},y=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r="SHOWN_SELF_ONLY";return Sk.misceval.chain(void 0,(()=>{if(!0===t._anvil.updateDataGridId&&void 0!==m(t))return t._anvil.updateDataGridId=!1,t._anvil.updateColumns(!0)}),(()=>{if(t._anvil.autoGridHeader)return[0,r,!0];if(!t._anvil.getPropJS("visible"))return[0,r,!0];if(t._anvil.pagination){var e=[t._anvil.pagination.startAfter,t._anvil.pagination.rowQuota],n=t._anvil.cachedPagination[e.toString()];if(n)return n;t._anvil.cachedPagination={}}}),(o=>{if(void 0!==o)return o;if(t._anvil.pagination){var i;a.logPagination&&console.group("Repaginate DataRowPanel from",t._anvil.pagination.startAfter,", displaying up to",t._anvil.pagination.rowQuota,"rows.",t._anvil.domNode);var l=t._anvil.pagination.rowQuota<=0;l!==t._anvil.hideOnThisPage&&(t._anvil.hideOnThisPage=l,c(t));var s=0;if(t._anvil.getPropJS("auto_display_data"))s=1;else for(var p of t._anvil.components||[])if(!Sk.builtin.isinstance(p.component,e.DataRowPanel).v){s=1;break}var u=-1,d=t._anvil.pagination.rowQuota-s;if(n&&(null===(i=n._anvil)||void 0===i?void 0:i.pagination)){u=t._anvil.components.findIndex((e=>e.component===n)),d=t._anvil.lastChildPagination.reduce(((e,t,n)=>t&&n<u?e-t[0]:e),d),d-=n._anvil.pagination.rowsDisplayed;t._anvil.lastChildPagination[u]&&t._anvil.lastChildPagination[u][0];t._anvil.lastChildPagination[u]=[n._anvil.pagination.rowsDisplayed,n._anvil.pagination.stoppedAt,n._anvil.pagination.done],t._anvil.pagination.startAfter&&t._anvil.pagination.startAfter[0]==u&&(t._anvil.pagination.startAfter[1]=n._anvil.pagination.startAfter)}return Sk.misceval.chain(a.repaginateChildren(t,u+1,t._anvil.pagination.startAfter==r?null:t._anvil.pagination.startAfter,d),(e=>{var o,i,l,[c,p,u]=e;t._anvil.pagination.stoppedAt=p,t._anvil.pagination.done=u,c>0?(a.logPagination&&(console.log("DataRowPanel displayed",c,"rows.",u?"Done":"Interrupted","at",p),console.groupEnd()),t._anvil.pagination.rowsDisplayed=c+s):t._anvil.pagination.rowQuota>0?(a.logPagination&&(console.log("DataRowPanel displayed only itself.",u?"Done.":"Interrupted."),console.groupEnd()),t._anvil.pagination.rowsDisplayed=s,t._anvil.pagination.stoppedAt=r):(a.logPagination&&(console.log("DataRowPanel hidden - no quota available"),console.groupEnd()),t._anvil.pagination.rowsDisplayed=0,t._anvil.pagination.stoppedAt=null,t._anvil.pagination.done=!1);var d=null===(o=t._anvil.parent)||void 0===o?void 0:o.pyObj,f=[t._anvil.pagination.startAfter,t._anvil.pagination.rowQuota];if((null==n||null===(i=n._anvil)||void 0===i?void 0:i.pagination)&&(null==d||null===(l=d._anvil)||void 0===l?void 0:l.paginate))return Sk.misceval.chain(d._anvil.paginate(t),(()=>{var e=[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done];return t._anvil.cachedPagination[f.toString()]=e,e}));var v=[t._anvil.pagination.rowsDisplayed,t._anvil.pagination.stoppedAt,t._anvil.pagination.done];return t._anvil.cachedPagination[f.toString()]=v,v}))}return[0,null,!0]}))}}},function(e,t,n){"use strict";n(13),n(3);var r=n(30),o=n(9),i=n(52);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=n(1);e.exports=e=>{var t=0;e.XYPanel=s.mkComponentCls(e,"XYPanel",{base:e.ClassicContainer,properties:s.assembleGroupProperties(
/*!componentProps(XYPanel)!1*/
["layout","height","appearance","align","tooltip","user data"],{height:{set(e,t,n){e._anvil.elements.holder.style.height=s.cssLength(n.toString())}},align:{set(e,t,n){n=n.toString(),e._anvil.elements.outer.style.textAlign=n,e._anvil.updateHatching()}},width:
/*!componentProp(XYPanel):1*/
{group:null,deprecated:!1,name:"width",type:"number",nullable:!0,description:"Custom column widths in this panel",defaultValue:Sk.builtin.none.none$,pyVal:!0,important:!1,priority:0,set(e,t,n){e._anvil.elements.holder.style.width=Sk.builtin.checkNone(n)?"100%":s.cssLength(n.toString()),e._anvil.updateHatching(n)}}}),events:s.assembleGroupEvents("X-Y panel",
/*!componentEvents(XYPanel)!1*/
["universal","align"]),layouts:[{name:"x",type:"number",description:"The X coordinate, in pixels, where this component will be placed",defaultValue:0,priority:1},{name:"y",type:"number",description:"The Y coordinate, in pixels, where this component will be placed",defaultValue:0,priority:1},{name:"width",type:"number",description:"The width allocated to this component, in pixels",defaultValue:0,priority:0}],element(e){var{width:n,height:r}=e,i=l(e,["width","height"]),c=(0,o.getCssPrefix)();return n=Sk.builtin.checkNone(n)?" width: 100%;":" width: "+s.cssLength(n.toString())+";",r="height: "+s.cssLength(r.toString())+";",s.h(s.OuterElement,a({className:"".concat(c,"xy-panel anvil-container")},i),s.h("div",{refName:"holder",className:"".concat(c,"holder xypanel-").concat(t),style:"display: inline-block; position: relative;"+n+r}))},locals(n){n.__new__=s.mkNew(e.ClassicContainer,(e=>{e._anvil.updateHatching=()=>{},e._anvil.panelId=t++})),n.add_component=s.funcWithKwargs((function(t,n,o){return(0,r.validateChild)(o),Sk.misceval.chain(o.anvil$hooks.setupDom(),(r=>{if((0,i.isInvisibleComponent)(o))return e.ClassicContainer._doAddComponent(n,o);var{x:a,y:l,width:s}=t,c=$(r);return c.css({position:"absolute",left:a||0,top:l||0,width:s||""}),n._anvil.elements.holder.appendChild(c[0]),e.ClassicContainer._doAddComponent(n,o,t)}))})),n.get_width=new Sk.builtin.func((e=>Sk.ffi.remapToPy(e._anvil.element.outerWidth())))}})}},function(e,t,n){"use strict";n(0),n(19),n(2);var r=n(30),o=n(9),i=n(52);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l=n(1);e.exports=e=>{e.GridPanel=l.mkComponentCls(e,"GridPanel",{base:e.ClassicContainer,properties:l.assembleGroupProperties(
/*!componentProps(GridPanel)!2*/
["layout","containers","appearance","user data","tooltip"]),events:l.assembleGroupEvents("grid panel",
/*!componentEvents(GridPanel)!1*/
["universal"]),element:e=>l.h(l.OuterElement,a({className:"".concat((0,o.getCssPrefix)(),"grid-panel anvil-container")},e)),locals(t){t.__new__=l.mkNew(e.ClassicContainer,(e=>{e._anvil.gridComponents=[],e._anvil.rows={}}));var n=e=>{var{classList:t}=e;return l.h("div",{className:t})};
/*!defMethod(_,component,[row=],[col_xs=],[width_xs=])!2*/t.add_component=l.funcWithKwargs((function(t,a,s){(0,r.validateChild)(s);var c,p=t.row;return Sk.misceval.chain(s.anvil$hooks.setupDom(),(r=>{if((0,i.isInvisibleComponent)(s))return e.ClassicContainer._doAddComponent(a,s);var u=a._anvil.rows[p];if(!u){var d=(0,o.getCssPrefix)(),f=$('<div class="'+d+'row">').css("marginBottom",a._anvil.getPropJS("row_spacing")).data("anvil-gridpanel-row",p);u={element:f,lastCol:{}},a._anvil.rows[p]=u,a._anvil.element.append(u.element)}var v=function(e,t){var n=12,r=0,i=[],a=t.layoutProperties,l=(0,o.getCssPrefix)();return["xs","sm","md","lg"].forEach((o=>{var s=a["width_"+o];s&&(n=parseInt(s)),i.push(l+"col-"+o+"-"+n);var c=e.lastCol[o]||0,p=a["col_"+o];p&&parseInt(p)>c&&(r=parseInt(p)-c,i.push(l+"col-"+o+"-offset-"+r)),e.lastCol[o]=t.lastCol[o]=c+n+r})),i}(u,{pyComponent:s,row:p,lastCol:{},layoutProperties:t});return[c]=l.h(n,{classList:v.join(" ")}),c.appendChild(r),u.element.append(c),e.ClassicContainer._doAddComponent(a,s,t,{detachDom(){c.remove(),0===u.element.children().length&&(delete a._anvil.rows[p],u.element.remove())}})}))})),t.clear=new Sk.builtin.func((function(t){var n=l.pyCallOrSuspend(e.ClassicContainer.prototype.clear,[t]);return t._anvil.element.empty(),t._anvil.gridComponents=[],t._anvil.rows={},n}))}})}},function(e,t,n){"use strict";n(13),n(0),n(62),n(3),n(32),n(2);var r=n(6),o=n(25),i=n(52),a=n(30),l=n(9);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=n(1);e.exports=e=>{function t(e,t){var n,r="The col_widths property is created from the design layout and should not be called in code";try{n=JSON.parse(e._anvil.getPropJS("col_widths")||"{}")}catch(e){throw new Sk.builtin.TypeError(r)}"object"!=typeof n&&Sk.builtin.print([r]);var o=t.querySelectorAll(":scope >.anvil-panel-col"),i=o.length,a=Math.floor(60/i),l=0;o.forEach((e=>{l+=n[e.dataset.anvilColId]||a}));var s=0;Math.abs(l-12)<.5?o.forEach((e=>{n[e.dataset.anvilColId]*=5})):l<60&&(s=60-l),o.forEach(((e,t)=>{var r=e.dataset.anvilColId,o=n[r]||a;t<s&&(o+=1),e.style.setProperty("flex-grow",o)}))}e.ColumnPanel=p.mkComponentCls(e,"ColumnPanel",{base:e.ClassicContainer,properties:p.assembleGroupProperties(
/*!componentProps(ColumnPanel)!1*/
["layout","containers","appearance","user data","tooltip"],{col_widths:
/*!componentProp(ColumnPanel)!1*/
{name:"col_widths",type:"string",description:"Custom column widths in this panel",defaultValue:Sk.builtin.str.$empty,pyVal:!0,important:!1,priority:0,hidden:!0,set(e,n,r){Object.values(e._anvil.rows).forEach((n=>{var r=n.el;t(e,r)}))}},wrap_on:
/*!componentProp(ColumnPanel)!1*/
{name:"wrap_on",type:"enum",options:["never","mobile","tablet"],description:"The largest display on which to wrap columns in this panel",defaultValue:new Sk.builtin.str("mobile"),pyVal:!0,important:!0,set(e,t,n){n=n.toString();var r=(0,l.getCssPrefix)();Object.values(e._anvil.rows).forEach((e=>{var t=e.el;t.classList.remove(r+"wrap-never",r+"wrap-tablet",r+"wrap-mobile"),t.classList.add(r+"wrap-"+n)})),Object.values(e._anvil.cols).forEach((e=>{var t=e.el;t.classList.remove(r+"wrap-never",r+"wrap-tablet",r+"wrap-mobile"),t.classList.add(r+"wrap-"+n)}))}},col_spacing:
/*!componentProp(ColumnPanel)!1*/
{name:"col_spacing",description:"Space between columns",type:"enum",options:["none","tiny","small","medium","large","huge"],defaultValue:new Sk.builtin.str("medium"),pyVal:!0,important:!1,priority:0,set(e,t,n){var r=(0,l.getCssPrefix)();for(var o of(n=n.toString(),["none","tiny","small","medium","large","huge"]))e._anvil.domNode.classList.toggle(r+"col-padding-"+o,n===o);e._anvil.components.forEach((t=>{var{component:o}=t,i=o.anvil$hooks.domElement;i.parentElement&&(i.parentElement.className="".concat(r,"col-padding ").concat(r,"col-padding-").concat(n," belongs-to-").concat(e._anvil.panelId))}))}}}),events:p.assembleGroupEvents("column panel",
/*!componentEvents(ColumnPanel)!1*/
["universal"]),element(e){var{col_spacing:t}=e,n=c(e,["col_spacing"]),r=(0,l.getCssPrefix)(),o=" ".concat(r,"col-padding-").concat(t);return p.h(p.OuterElement,s({className:"".concat(r,"column-panel anvil-container ").concat(o)},n))},layouts:[{name:"full_width_row",type:"boolean",description:"True if this grid row should fill the width of the screen.",defaultValue:!1,important:!1,priority:0},{name:"row_background",type:"color",description:"The background colour of this grid row.",defaultValue:"",important:!1,priority:0}],locals(n){n.__new__=p.mkNew(e.ClassicContainer,(e=>{e._anvil.panelId=(0,o.getRandomStr)(6),e._anvil.rows={},e._anvil.cols={},e._anvil.componentColumnContainers=new WeakMap,e._anvil.generateNewLayoutProps=e=>({col_widths:e&&e.col_widths||{},grid_position:(0,o.getRandomStr)(6)+","+(0,o.getRandomStr)(6),full_width_row:e&&e.full_width_row}),e._anvil.setLayoutProperties=function(t,n){var r={},o=t._anvil.componentSpec.name;r[o]=n;var i=e._anvil.childLayoutProps[o].grid_position.split(",")[0];return Object.entries(e._anvil.childLayoutProps).forEach((t=>{var[o,a]=t;a.grid_position||(a=e._anvil.generateNewLayoutProps(a)),0===a.grid_position.indexOf(i)&&("full_width_row"in n&&(r[o]=r[o]||{},r[o].full_width_row=n.full_width_row,a.full_width_row=n.full_width_row),"row_background"in n&&(r[o]=r[o]||{},r[o].row_background=n.row_background,a.row_background=n.row_background))})),function(e){var t=(0,l.getCssPrefix)();e._anvil.element.find(".anvil-component.belongs-to-"+e._anvil.panelId).each((function(e,n){var r=(n=$(n)).data("anvil-py-component")._anvil.layoutProps||{};r.full_width_row?n.parents(".anvil-panel-section-container").first().addClass(t+"full-width-row"):n.parents(".anvil-panel-section-container").first().removeClass(t+"full-width-row");var o="transparent";r.row_background&&(o=p.getColor(r.row_background)),n.parents(".anvil-panel-section").first().css("background",o)}))}(e),r}})),n.clear=new Sk.builtin.func((function(t){var n=e.ClassicContainer.tp$getattr(new r.pyStr("clear"));return(0,r.chainOrSuspend)((0,r.pyCallOrSuspend)(n,[t]),(()=>(t._anvil.element.empty(),t._anvil.rows={},t._anvil.cols={},r.pyNone)))}));var u=e=>{var{panelId:t,full_width_row:n,row_background:r}=e,o=(0,l.getCssPrefix)(),i=n?o+"full-width-row":"",a=r?"background:"+p.getColor(r)+";":"";return p.h("div",{refName:"section",className:"anvil-panel-section belongs-to-".concat(t),style:a},p.h("div",{refName:"sectionContainer",className:"anvil-panel-section-container anvil-container-overflow belongs-to-".concat(t," ").concat(i)},p.h("div",{refName:"sectionGutter",className:"anvil-panel-section-gutter belongs-to-".concat(t)})))},d=e=>{var{rowId:t,panelId:n,wrap_on:r}=e;return r=(0,l.getCssPrefix)()+"wrap-"+r.toString(),p.h("div",{refName:"row","data-anvil-row-id":t,className:"anvil-panel-row anvil-panel-row-".concat(t," belongs-to-").concat(n," ").concat(r)})},f=e=>{var{colId:t,panelId:n,wrap_on:r}=e;return r=(0,l.getCssPrefix)()+"wrap-"+r.toString(),p.h("div",{refName:"col","data-anvil-col-id":t,className:"anvil-panel-col anvil-panel-col-".concat(t," belongs-to-").concat(n," ").concat(r)})};class v{constructor(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.columnPanel=e,this.parent=null,this.children=0,this.el=t,this.slotEl=n||t}appendChildContainer(e){this.children++,this.slotEl.appendChild(e.el),e.parent=this}appendChild(e){this.children++,this.slotEl.appendChild(e)}remove(){var e;(this.children--,0===this.children)&&(this.el.remove(),this.cleanup(),null===(e=this.parent)||void 0===e||e.remove())}cleanup(){}}class m extends v{constructor(e,t,n){var[r]=p.h(f,s({colId:t},n));super(e,r),e._anvil.cols[t]=this,this.colId=t}cleanup(){delete this.columnPanel._anvil.cols[this.colId]}}class h extends v{constructor(e,t,n){var[r]=p.h(d,s({rowId:t},n));super(e,r),e._anvil.rows[t]=this,this.rowId=t}cleanup(){delete this.columnPanel._anvil.rows[this.rowId]}}class g extends v{constructor(e,t){var[n,r]=p.h(u,t);super(e,n,r.sectionGutter)}}
/*!defMethod(_,component,full_width_row=False,**layout_props)!2*/n.add_component=new p.funcWithKwargs((function(n,r,s){return(0,a.validateChild)(s),Sk.misceval.chain(s.anvil$hooks.setupDom(),(a=>{if((0,i.isInvisibleComponent)(s))return e.ClassicContainer._doAddComponent(r,s);var u=(0,l.getCssPrefix)(),d=r._anvil.panelId,f=r._anvil.props.wrap_on,{index:v}=n,_=c(n,["index"]);s._anvil&&(s._anvil.layoutProps=_);var y=(e,n,i)=>{var a=e.anvil$hooks.domElement;a.classList.add("belongs-to-"+d);var{grid_position:l,full_width_row:s,row_background:c}=n,v={panelId:d,wrap_on:f,full_width_row:s,row_background:c},_=(null==l?void 0:l.split(" "))||[(0,o.getRandomStr)(6)+","+(0,o.getRandomStr)(6)],y=void 0;for(var b of _){var[k,S]=b.split(","),w=r._anvil.rows[k];void 0===w&&(w=new h(r,k,v),void 0===y&&(y=new g(r,v),r._anvil.domNode.appendChild(y.el)),y.appendChildContainer(w));var C=r._anvil.cols[S];void 0===C&&(C=new m(r,S,v),w.appendChildContainer(C)),y=C,t(r,w.el)}var O="".concat(u,"col-padding belongs-to-").concat(d," ").concat(u,"col-padding-").concat(r._anvil.getPropJS("col_spacing")),[P]=p.h("div",{refName:"padding",className:O});r._anvil.componentColumnContainers.set(e,y),y.appendChild(P),P.appendChild(a)};if(null==v||v===r._anvil.components.length)y(s,_,r._anvil.components.length);else{r._anvil.element[0].innerHTML="",r._anvil.rows={},r._anvil.cols={};var b=[...r._anvil.components];b.splice(v,0,{component:s,layoutProperties:_}),b.map(((e,t)=>{var{component:n,layoutProperties:r}=e;return y(n,r)}))}return e.ClassicContainer._doAddComponent(r,s,n,{detachDom:()=>{var e,t,n,o=s.anvil$hooks.domElement;null===(e=o.parentElement)||void 0===e||e.remove(),o.classList.remove("belongs-to-"+r._anvil.panelId),null===(t=r._anvil.componentColumnContainers.get(s))||void 0===t||null===(n=t.remove)||void 0===n||n.call(t)}})}))}))}})}},function(e,t,n){"use strict";n(0),n(16),n(62),n(19),n(10),n(3),n(34),n(2);var r=n(6),o=n(8),i=n(219),a=n(52),l=n(30),s=n(9),c=n(130);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}var u=n(1);e.exports=e=>{function t(e,t){for(var r,o,i=null!==(o=(r=e._anvil).childCleanupMap)&&void 0!==o?o:r.childCleanupMap=new Map,a=arguments.length,l=new Array(a>2?a-2:0),s=2;s<a;s++)l[s-2]=arguments[s];var{detachDom:c,setVisibility:p}=n(e,t,...l);return i.set(t,{detachDom:c,setVisibility:p}),{detachDom(){var e;null===(e=i.get(t))||void 0===e||e.detachDom(),i.delete(t)},setVisibility(e){var n,r;return null===(n=i.get(t))||void 0===n||null===(r=n.setVisibility)||void 0===r?void 0:r.call(n,e)}}}function n(e,t,r,o){var i,a=t.anvil$hooks.domElement,l=a.hasAttribute("anvil-dropzone"),s=(e,t)=>{e.show_if_empty.forEach((e=>{e.classList.toggle("anvil-force-hidden",t)})),e.hide_if_empty.forEach((e=>{e.classList.toggle("anvil-force-hidden",!t)}))};if(void 0!==o)for(var c=o;c<e._anvil.components.length;c++){var p,u;if((null!==(p=null===(u=e._anvil.components[c].layoutProperties)||void 0===u?void 0:u.slot)&&void 0!==p?p:"default")===r){i=e._anvil.components[c].component;break}}var d=e._anvil.slots[r];if(d){var f=d.element;d.components.length||l||s(d,!0);var v,m,h=d.components.findIndex((e=>{var{component:t}=e;return t===i})),g=-1!==h&&d.components[h].carrierElement,_={component:t,carrierElement:t.anvil$hooks.domElement};if(-1===h?d.components.push(_):d.components.splice(h,0,_),d.repeat){var y=_.carrierElement=f.cloneNode(!0);y.removeAttribute("anvil-slot-repeat"),y.setAttribute("anvil-slot-repeated",r);var b=y.querySelector("[anvil-slot],[anvil-component-here]");b?b.appendChild(a):y.appendChild(a),(g||f).insertAdjacentElement("beforebegin",y),v=()=>(y.remove(),d.components=d.components.filter((e=>e.component!==t)),d.components.length||s(d,!1),Sk.builtin.none.none$);var k=y.style.display;m=e=>{y.style.display=e?k:"none"}}else g?g.insertAdjacentElement("beforebegin",a):f.appendChild(a),v=()=>(a.remove(),d.components=d.components.filter((e=>e.component!==t)),d.components.length||s(d,!1),Sk.builtin.none.none$);return{detachDom:v,setVisibility:m}}return"default"===r?(i?i.anvil$hooks.domElement.insertAdjacentElement("beforebegin",a):e._anvil.elements.outer.appendChild(a),{detachDom:()=>a.remove()}):n(e,t,"default",o)}e.HtmlPanel=e.HtmlTemplate=u.mkComponentCls(e,"HtmlTemplate",{base:e.ClassicContainer,properties:u.assembleGroupProperties(
/*!componentProps(HtmlTemplate)!1*/
["user data","tooltip","appearance"],{html:
/*!componentProp(HtmlTemplate)!1*/
{name:"html",type:"html",defaultValue:Sk.builtin.str.$empty,exampleValue:"<b>Hello</b>",description:"The HTML from which this panel is defined",pyVal:!0,important:!0,initialize:!0,set(n,a,l){var s,c=n._anvil.components,p=n.anvil$hooks.domElement;c.forEach((e=>{var{component:t}=e;t.anvil$hooks.domElement.remove()}));var m=(l=l.toString()).match(/^@theme:(.*)$/);m&&(l=e.HtmlTemplate.$_anvilThemeAssets[m[1]]||"");try{!function(e,t){var n;e.innerHTML="";var r=null===(n=f.exec(t))||void 0===n?void 0:n[1].toLowerCase();if(!r)return e.innerHTML=t;var o=d[r];if(!o)return e.innerHTML=t;var i=document.createElement("div"),a=o.length;for(;--a>-1;)i=i.appendChild(document.createElement(o[a]));i.innerHTML=t,e.append(...i.childNodes)}(p,l)}catch(e){console.log("Probably irrelevant HTML/Javascript-parsing exception:",e)}for(var h of p.querySelectorAll("link"))h.addEventListener("load",(e=>{var t;null===(t=u.updateHeight)||void 0===t||t.call(u)}));n._anvil.scripts=Array.from(p.querySelectorAll("script")).map((e=>{var t=e.textContent;e.textContent="";var n=e.src;n&&e.removeAttribute("src");var r=null!=e.getAttribute("async");return{script:e,textContent:t,src:n,isAsync:r}})),n._anvil.onPage&&(s=v(n)),n._anvil.pyElements=new r.pyMappingProxy(new r.pyDict([].concat(...Array.from(p.querySelectorAll("[anvil-name]")).map((e=>[new r.pyStr(e.getAttribute("anvil-name")),(0,r.toPy)(e)])))));var g=n._anvil.slots={};p.querySelectorAll("[anvil-slot]").forEach((e=>{e.classList.add("anvil-inline-container");var t=e.getAttribute("anvil-slot");t&&(g[t]=g[t]||{element:e,hide_if_empty:[],show_if_empty:[],components:[]})})),p.querySelectorAll("[anvil-slot-repeat]").forEach((e=>{n._anvil.slots[e.getAttribute("anvil-slot-repeat")]={element:e,hide_if_empty:[],show_if_empty:[],repeat:!0,components:[]}})),p.querySelectorAll("[anvil-hide-if-slot-empty], [anvil-if-slot-empty]").forEach((e=>{var t=g[e.getAttribute("anvil-hide-if-slot-empty")];t&&(t.hide_if_empty.push(e),e.classList.add("anvil-force-hidden")),(t=g[e.getAttribute("anvil-if-slot-empty")])&&t.show_if_empty.push(e)}));var _=new Map;for(var[y,b]of(null===(k=n._anvil.pyLayoutSlots)||void 0===k?void 0:k.$items())||[]){var k,S=[...b._slotState.components],w=b.tp$getattr(o.s_clear);Sk.misceval.callsimArray(w),_.set(y.toString(),{components:S,pySlot:b})}n._anvil.pyLayoutSlots=new Sk.builtin.dict,c.forEach((e=>{var r=e.component;t(n,r,e.layoutProperties.slot)}));var C=[];for(var[O,P]of Object.entries(n._anvil.slots)){var x=_.get(O),T=(null==x?void 0:x.pySlot)||new i.Slot((()=>n),0,{slot:O},!1,void 0);n._anvil.pyLayoutSlots.mp$ass_subscript(new r.pyStr(O),T),T._slotState.earlierSlots=[...C],C.push(T);var E=T.tp$getattr(o.s_add_component);for(var j of(null==x?void 0:x.components)||[])(0,r.pyCall)(E,[j])}return s}}}),events:u.assembleGroupEvents("HTML panel",
/*!componentEvents(HtmlTemplate)!1*/
["universal"]),element:e=>u.h(u.OuterElement,p({className:"".concat((0,s.getCssPrefix)(),"html-templated-panel anvil-container anvil-always-inline-container")},e)),layouts:[{name:"slot",type:"string",description:"The name of the template slot where this component will be placed",defaultValue:"",important:!0,priority:0}],locals(n){n.__new__=u.mkNew(e.ClassicContainer,(e=>{var n,o,i,a;e._anvil.addComponentToDom=t,(n=e._anvil).slots||(n.slots={}),(o=e._anvil).scripts||(o.scripts=[]),(i=e._anvil).pyLayoutSlots||(i.pyLayoutSlots=new Sk.builtin.dict),(a=e._anvil).pyElements||(a.pyElements=new Sk.builtin.dict),e._anvil.pyElementsOverwrite=void 0,e._anvil.element.on("_anvil-call",(function(t,n,o,i){var a=e=>{var t=new Sk.builtin.Exception(e);t.traceback=[{filename:"<template>",lineno:"<unknown>"}],window.onerror(null,null,null,null,t),o(e)};t.stopPropagation();var l=e.tp$getattr(new Sk.builtin.str(i));if(void 0!==l){for(var s=arguments.length,c=new Array(s>4?s-4:0),p=4;p<s;p++)c[p-4]=arguments[p];for(var d=new Array(c.length),f=0;f<c.length;f++)try{d[f]=u.unwrapOrRemapToPy(c[f])}catch(t){return void a("Could not convert argument "+f+" (type '"+typeof c[f]+"') to Python when calling '"+i+"' from JavaScript.")}u.callAsync.apply(null,[l,void 0,void 0,void 0].concat(d)).then((e=>{var t=void 0;try{t=(0,r.remapToJsOrWrap)(e)}catch(e){}void 0!==t?n(t):a("Could not convert return value from function '"+i+"' to JavaScript. Return value was of type '"+e.tp$name+"'")})).catch((e=>{o(e)}))}else a("Attempted to call non-existent method from Javascript: <"+Sk.abstr.typeName(e)+" object> has no attribute '"+i+"'.")})),e._anvil.pageEvents={add:()=>v(e)}})),n.slots=new Sk.builtin.property(new Sk.builtin.func((e=>e._anvil.pyLayoutSlots))),n.dom_nodes=new r.pyProperty(new r.pyFunc((e=>{var t;return null!==(t=e._anvil.pyElementsOverwrite)&&void 0!==t?t:e._anvil.pyElements})),new r.pyFunc(((e,t)=>(e._anvil.pyElementsOverwrite=t,r.pyNone)))),n.add_component=new u.funcWithKwargs((function(n,r,o){return(0,l.validateChild)(o),Sk.misceval.chain(o.anvil$hooks.setupDom(),(()=>{if((0,a.isInvisibleComponent)(o))return e.ClassicContainer._doAddComponent(r,o);var i=t(r,o,n.slot,n.index);return e.ClassicContainer._doAddComponent(r,o,n,i)}))}));var o=new Sk.builtin.str("remove_from_parent");
/*!defMethod(_,[slot="default"])!2*/n.clear=new u.funcWithKwargs((function(e,t){var n=t._anvil.components.slice(0),r=e.slot,i=[];return n.forEach((e=>{r&&e.layoutProperties.slot!==r||i.push((()=>u.pyCallOrSuspend(e.component.tp$getattr(o))))})),i.push((()=>Sk.builtin.none.none$)),Sk.misceval.chain(void 0,...i)})),n.call_js=new Sk.builtin.func(u.callJs)}}),e.HtmlTemplate.$_anvilThemeAssets={};var d={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};d.tbody=d.tfoot=d.colgroup=d.caption=d.thead,d.th=d.td;var f=/<([a-z][^/\0>\x20\t\r\n\f]*)/i;function v(e){var t,n=e._anvil.scripts;return e._anvil.scripts=[],n.forEach((e=>{var{script:n,textContent:r,src:o,isAsync:i}=e;o&&(n.src=o);var a=document.createElement("script");for(var l of(a.async=i,a.textContent=r,n.attributes))a.setAttribute(l.name,l.value);var s=n.isConnected?n.parentNode:null;if(t?t=t.then((()=>null==s?void 0:s.replaceChild(a,n))):null==s||s.replaceChild(a,n),s&&o&&"module"!==(n.type||"").toLowerCase()&&!i){var p=new Promise((e=>{a.onload=e,a.onerror=()=>{(0,c.warn)("Warning: failed to load script with src: ".concat(n.src)),console.error("error loading ".concat(n.src)),e()}}));t=t?t.then((()=>p)):p}})),t&&Sk.misceval.promiseToSuspension(t)}},
/*!defClass(anvil,HtmlTemplate,Container)!*/
"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].filter(Boolean).forEach((function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}))},function(e,t,n){"use strict";n(13),n(0),n(3),n(2);var r=n(30),o=n(9),i=n(52);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=n(1);e.exports=e=>{e.FlowPanel=s.mkComponentCls(e,"FlowPanel",{base:e.ClassicContainer,properties:s.assembleGroupProperties(
/*!componentProps(FlowPanel)!1*/
["appearance","user data","layout","tooltip"],{align:
/*!componentProp(FlowPanel)!1*/
{name:"align",important:!0,type:"enum",options:["left","center","right","justify"],description:"Align this component's content",defaultValue:new Sk.builtin.str("left"),pyVal:!0,designerHint:"align-horizontal",set(e,t,n){n={center:"center",right:"flex-end",justify:"space-between"}[n=n.toString()]||"flex-start",e._anvil.elements.gutter.style.justifyContent=n}},vertical_align:
/*!componentProp(FlowPanel)!1*/
{name:"vertical_align",type:"enum",options:["top","middle","bottom","full"],description:"Align this component's content",defaultValue:new Sk.builtin.str("full"),pyVal:!0,designerHint:"align-vertical",set(e,t,n){var r=(0,o.getCssPrefix)();n=n.toString(),["top","middle","bottom","full"].forEach((t=>{e._anvil.domNode.classList.toggle(r+"vertical-align-"+t,n===t)}))}},spacing:
/*!componentProp(FlowPanel)!1*/
{name:"spacing",description:"Space between components",type:"enum",options:["none","tiny","small","medium","large","huge"],defaultValue:new Sk.builtin.str("medium"),pyVal:!0,important:!1,priority:0,set(e,t,n){var r=(0,o.getCssPrefix)();n=n.toString(),["none","tiny","small","medium","large","huge"].forEach((t=>{e._anvil.domNode.classList.toggle(r+"flow-spacing-"+t,n===t)}))}}}),events:s.assembleGroupEvents("FlowPanel",
/*!componentEvents(FlowPanel)!1*/
["universal"]),layouts:[{name:"width",type:"number",description:"The width for an element that is not horizontally self-sizing",defaultValue:null,priority:0,nullable:!0},{name:"expand",type:"boolean",description:"Expand the component",defaultValue:!1,priority:0}],element(e){var{align:t,spacing:n,vertical_align:r}=e,i=l(e,["align","spacing","vertical_align"]),c=(0,o.getCssPrefix)();return n=c+"flow-spacing-"+n.toString(),t="justify-content: "+({center:"center",right:"flex-end",justify:"space-between"}[t.toString()]||"flex-start")+";",r=c+"vertical-align-"+(r.toString()||"top"),s.h(s.OuterElement,a({className:"".concat(c,"flow-panel anvil-container anvil-container-overflow ").concat(n," ").concat(r)},i),s.h("div",{refName:"gutter",className:"".concat(c,"flow-panel-gutter"),style:t}))},locals(t){var n=e=>{var{visible:t=!0,width:n,expand:r}=e,i=(0,o.getCssPrefix)();t=Sk.misceval.isTrue(t)?"":" ".concat(i,"visible-false");var a="";return n&&(a+="width: "+s.cssLength(n.toString())+";"),r&&(a+="flex: 1;"),s.h("div",{className:"".concat(i,"flow-panel-item anvil-always-inline-container")+t,style:a})};
/*!defMethod(_,component,[index=],[width=],[expand=])!2*/t.add_component=s.funcWithKwargs((function(t,a,l){(0,r.validateChild)(l);var{index:c,expand:p=!1}=t;return Sk.misceval.chain(l.anvil$hooks.setupDom(),(r=>{if((0,i.isInvisibleComponent)(l))return e.ClassicContainer._doAddComponent(a,l);var u=a._anvil.elements.gutter,d=r.classList.contains("anvil-inlinable")?"":t.width||"auto",[f]=s.h(n,{width:d,expand:p});return f.appendChild(r),"number"==typeof c&&c<u.children.length?u.insertBefore(f,u.children[c]):u.appendChild(f),e.ClassicContainer._doAddComponent(a,l,t,{detachDom(){$(r).detach(),f.remove()},setVisibility(e){f.classList.toggle((0,o.getCssPrefix)()+"visible-false",!e)}})}))}))}})}},function(e,t,n){"use strict";n(3);var{getCssPrefix:r}=n(9),o=n(1);e.exports=e=>{e.InvalidComponent=o.mkComponentCls(e,"InvalidComponent",{properties:[{name:"text",pyVal:!0,defaultValue:Sk.builtin.str.$empty,set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString(),e._anvil.elements.err.textContent=n}}],element:e=>{var{text:t}=e;return o.h("div",{refName:"outer",className:"".concat(r(),"invalid-component")},o.h("i",{refName:"icon",className:"glyphicon glyphicon-remove"}),o.h("div",{refName:"err",className:"".concat(r(),"err")},t.toString()))}})}},function(e,t,n){"use strict";n(13),n(3);var r=n(9),o=n(107);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=n(1),{isTrue:s}=Sk.misceval;e.exports=e=>{function t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e._anvil.domNode;t?(r.setAttribute("href",t),r.setAttribute("target","_blank"),n?r.setAttribute("download",n):r.removeAttribute("download")):(r.setAttribute("href","javascript:void(0)"),r.removeAttribute("target"),r.removeAttribute("download"))}e.Link=l.mkComponentCls(e,"Link",{base:e.ColumnPanel,properties:l.assembleGroupProperties(
/*!componentProps(Link)!1*/
["text","icon","tooltip","user data"],{text:{suggested:!0,dataBindingProp:!0,set(e,t,n){n=Sk.builtin.checkNone(n)?"":n.toString();var o=(0,r.getCssPrefix)(),{outer:i,holder:a}=e._anvil.elements;i.classList.toggle(o+"has-text",!!n),a.textContent=n,a.style.display=n?"inline-block":"none"},inlineEditElement:"holder",group:void 0},url:
/*!componentProp(Link)!1*/
{name:"url",type:"string",defaultValue:Sk.builtin.str.$empty,pyVal:!0,exampleValue:"https://google.com",description:"The target URL of the link. Can be set to a URL string or to a Media object.",initialize:!0,set(n,r,o){if(n._anvil.urlHandle&&(n._anvil.urlHandle.release(),n._anvil.urlHandle=null,delete n._anvil.urlHandleName),Sk.builtin.checkNone(o))t(n,"");else if(Sk.builtin.checkString(o))t(n,o.toString());else if(s(Sk.builtin.isinstance(o,e.Media)))return Sk.misceval.chain(l.getUrlForMedia(o),(e=>{n._anvil.urlHandle=e,n._anvil.urlHandleName=o._name,n._anvil.onPage&&n._anvil.pageEvents.add()}))}}}),events:l.assembleGroupEvents(
/*!componentEvents(Link)!1*/
"Link",["universal"],{click:
/*!componentEvent(Link)!1*/
{name:"click",description:"When the link is clicked",parameters:[{name:"keys",description:"A dictionary of keys including 'shift', 'alt', 'ctrl', 'meta'. Each key's value is a boolean indicating if it was pressed during the click event. The meta key on a mac is the Command key",important:!1}],important:!0,defaultEvent:!0}}),element(e){var{col_spacing:t}=e,n=a(e,["col_spacing"]),o=(0,r.getCssPrefix)(),c=l.getOuterClass(n),p=l.getOuterStyle(n),u=l.getOuterAttrs(n),d=n.text=Sk.builtin.checkNone(n.text)?"":n.text.toString(),f=o+"col-padding-"+t.toString(),v="";return s(n.underline)&&(v="text-decoration: underline;"),l.h("a",i({refName:"outer",ontouchstart:"",href:"javascript:void(0)",className:"anvil-inlinable anvil-container ".concat(o,"column-panel ").concat(c," ").concat(f),rel:"noopener noreferrer",style:p},u),l.h(l.IconComponent,i({side:"left"},n)),l.h("div",{refName:"holder",className:"".concat(o,"link-text"),style:"display: ".concat(d?"inline-block":"none","; ").concat(v)},Sk.builtin.checkNone(n.text)?"":n.text.toString()),l.h(l.IconComponent,i({side:"right"},n)))},locals(n){n.__new__=l.mkNew(e.ColumnPanel,(e=>{e._anvil.element.on("click",(t=>{(0,o.isHandled)(t)||((0,o.setHandled)(t),l.raiseEventAsync({keys:{meta:t.metaKey,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey}},e,"click"))})),e._anvil.pageEvents={remove(){e._anvil.urlHandle&&e._anvil.urlHandle.release()},add(){if(e._anvil.urlHandle)return t(e,e._anvil.urlHandle.getUrl(),e._anvil.urlHandleName)}}}))}})}},function(e,t,n){"use strict";n(57),n(13),n(0),n(16),n(46),n(10),n(3),n(20),n(32),n(60),n(61),n(2);var r=n(30),o=n(74),i=n(9),a=n(130),l=n(6),s=n(28),c=n(8),p=n(25),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(206));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}e.exports=function(e,t){var d,f,v=n(1),m={__name__:new Sk.builtin.str("anvil"),__path__:new Sk.builtin.tuple([new Sk.builtin.str("anvil-services/anvil"),new Sk.builtin.str("src/lib/anvil")]),app_path:Sk.ffi.remapToPy(e),_now:new Sk.builtin.func((function(){return Sk.ffi.remapToPy(Date.now())}))};Sk.__future__.python3?(d=Sk.builtin.bytes,f=e=>new Uint8Array(e)):(d=Sk.builtin.str,f=e=>{for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t});var h={};
/*!defFunction(anvil,!)!2*/m.get_url_hash=new Sk.builtin.func((function(){var e=document.location.hash;if("?"==e[1]||"!"==e[1]&&"?"==e[2]){var t={};return $.each(e.substring("?"==e[1]?2:3).split("&"),(function(e,n){var r=n.split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])})),Sk.ffi.remapToPy(t)}return Sk.ffi.remapToPy(decodeURIComponent(e.substring(1)))})),m.set_url_hash=new Sk.builtin.func((function(e){var t=Sk.ffi.remapToJs(e);document.location.hash="object"==typeof t?"?"+$.param(t):t})),m.set_default_error_handling=new Sk.builtin.func((function(e){return t.pyHandler=e||Sk.builtin.none.none$,Sk.builtin.none.none$})),m._generate_internal_error=new Sk.builtin.func((function(e){throw{internal:"error"}}));var g,_=Sk.abstr.buildNativeClass("anvil.AppInfo.Environment",{constructor:function(e){this.data=window.anvilAppInfo.environment},slots:{$r(){var{description:e,tags:t}=this.data;return e=Sk.ffi.toPy(e),t=Sk.ffi.toPy(t||[]),new Sk.builtin.str("Environment(name=".concat(Sk.misceval.objectRepr(e),", tags=").concat(Sk.misceval.objectRepr(t),")"))}},getsets:{name_$rw$:{$get(){return Sk.ffi.toPy(this.data.description)}},tags:{$get(){return Sk.ffi.toPy(this.data.tags||[])}}}}),y=document.documentElement,b=Sk.abstr.buildNativeClass("anvil.ThemeColors",{base:Sk.builtin.mappingproxy,constructor:function(){this.mapping=Sk.ffi.toPy(window.anvilThemeColors)},slots:{$r(){return new Sk.builtin.str("ThemeColors(".concat(Sk.misceval.objectRepr(this.mapping),")"))},tp$as_sequence_or_mapping:!0,mp$ass_subscript(e,t){if(void 0===t)throw new Sk.builtin.TypeError("cannot delete a theme color");if(!Sk.builtin.checkString(e))throw new Sk.builtin.TypeError("theme color names must be strings");if(!Sk.builtin.checkString(t))throw new Sk.builtin.TypeError("a theme color must be set to a string");var n=e.toString();if(!(n in window.anvilThemeColors))throw new Sk.builtin.KeyError(e);this.mapping.mp$ass_subscript(e,t),t=t.toString();var r=this.$getVar(n);y.style.setProperty(r,t),window.anvilThemeColors[e]=t}},methods:{update:{$meth(e,t){var n=v.pyCall(Sk.builtin.dict,e,t);for(var[r,o]of n.$items())this.mp$ass_subscript(r,o);return Sk.builtin.none.none$},$flags:{FastCall:!0}}},proto:{$getVar(e){var t;return null!==(t=window.anvilThemeVars[e])&&void 0!==t?t:window.anvilThemeVars[e]="--anvil-color-".concat(e.replace("-"),"-").concat((0,p.getRandomStr)(4))}}}),k=Sk.misceval.buildClass(m,(function(e,t){t.__getattr__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.remapToJs(t);if(Object.prototype.hasOwnProperty.call(window.anvilAppInfo,n))return new Sk.ffi.remapToPy(window.anvilAppInfo[n]);throw new Sk.builtin.AttributeError(t)})),t.__setattr__=new Sk.builtin.func((function(){throw new Sk.builtin.AttributeError("This object is read-only")})),t.theme_colors=new Sk.builtin.property(new Sk.builtin.func((function(e){var t;return null!==(t=g)&&void 0!==t?t:g=new b}))),t.environment=new Sk.builtin.property(new Sk.builtin.func((function(e){return e._environment||(e._environment=new _)})))}),"AnvilAppInfo",[]);m.app=v.pyCall(k);var S=document.getElementById("appGoesHere");var w=(e,t)=>{var n=e._withLayout._withLayoutSubclass.layout,r=t._withLayout._withLayoutSubclass.layout;return console.log("Checking layout compatibility between",n,"and",r),n.type===r.type&&("form"===n.type?r.formSpec.qualifiedClassName===n.formSpec.qualifiedClassName:"builtin"===n.type?r.name===n.name:r.constructor===n.constructor)};function C(e){if(!e.anvil$hooks)throw new Sk.builtin.TypeError("Attempting to open a form which is not an anvil component, (got type ".concat(null==e?void 0:e.tp$name,")"));e!==o.topLevelForms.openForm&&(0,r.validateChild)(e,"open_form"),function(){for(;S.firstChild;)S.removeChild(S.lastChild)}();var t=[],n=o.topLevelForms.openForm;return n&&(t.push((()=>(0,s.notifyComponentUnmounted)(n,!0))),o.topLevelForms.openForm=null,t.push((()=>{if(null!==o.topLevelForms.openForm&&(0,a.warn)("Warning: You are likely calling 'open_form()' from inside the hide event of the outgoing form (or from one of its components). This may not be what you want."),e._withLayout&&!e._withLayout.pyLayout&&(null==n?void 0:n._withLayout)&&w(e,n)){var t=n._withLayout.pyLayout;return n._withLayout.pyLayout=void 0,(0,l.chainOrSuspend)(null,...t.tp$getattr(c.s_slots).$items().map((e=>{var[t,n]=e;return()=>(0,l.pyCallOrSuspend)(n.tp$getattr(c.s_clear),[])})),...function*(){for(var{kwargs:r}=e._withLayout,o=(0,c.kwToObj)(n._withLayout.kwargs),i=function*(e){var n=r[e],i=r[e+1];yield()=>Sk.abstr.sattr(t,new l.pyStr(n),i,!0),delete o[n]},a=0;a<r.length;a+=2)yield*i(a);var s=function*(e){yield()=>Sk.abstr.sattr(t,new l.pyStr(e),t.anvil$customPropsDefaults[e],!0)};for(var p of Object.keys(o))yield*s(p)}(),(()=>{var e,r;return null===(e=(r=n._withLayout).onDissociate)||void 0===e?void 0:e.call(r,t,n)}),(()=>{var n,r;return e._withLayout.pyLayout=t,null===(n=(r=e._withLayout).onAssociate)||void 0===n?void 0:n.call(r,t,e)}))}}))),t.push((()=>e.anvil$hooks.setupDom())),t.push((()=>(S.appendChild(e.anvil$hooks.domElement),o.topLevelForms.openForm=e,(0,s.notifyComponentMounted)(e,!0)))),Sk.misceval.chain(null,...t)}
/*!defFunction(anvil,!,form,*args,**kwargs)!2*/m.open_form=new Sk.builtin.func(v.withRawKwargs((function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(void 0===t)throw new Sk.builtin.TypeError("anvil.open_form() requires an argument");if(!(t instanceof Sk.builtin.str))return C(t);var i=t.toString();return Sk.misceval.chain(null,(()=>{var e={__package__:new Sk.builtin.str(window.anvilAppMainPackage)};return Sk.builtin.__import__(i,e,{},[],-1)}),(()=>{var n,o=i.split(".").pop(),a=new Sk.builtin.str(window.anvilAppMainPackage+"."+i);try{n=Sk.sysmodules.mp$subscript(a)}catch(e){n=Sk.sysmodules.mp$subscript(t)}var l=n.$d[o];if(!l)throw new Sk.builtin.AttributeError('"'+i+'" module does not contain a class called "'+o+'"');if(e)for(var s=0;s<e.length;s+=2)e[s]=e[s].toString();return v.pyCallOrSuspend(l,r,e)}),(e=>C(e)))}))),m.get_open_form=new Sk.builtin.func((function(){return o.topLevelForms.openForm||Sk.builtin.none.none$})),m.is_server_side=new Sk.builtin.func((function(){return Sk.builtin.bool.false$})),m.Media=Sk.misceval.buildClass(m,(function(e,t){var n=function(e){var n=new Sk.builtin.str("get_"+e),r=new Sk.builtin.func((e=>v.pyCallOrSuspend(e.tp$getattr(n)))),o=new Sk.builtin.func((()=>{throw new Sk.builtin.AttributeError("Cannot change the ".concat(e," of a Media object; create a new Media object instead"))}));t[e]=new Sk.builtin.property(r,o)};for(var r of["url","content_type","length","name"])n(r);t.get_content_type=new Sk.builtin.func((e=>Sk.builtin.none.none$)),t.get_name=new Sk.builtin.func((e=>Sk.builtin.none.none$)),t.get_bytes=new Sk.builtin.func((e=>Sk.builtin.none.none$)),t.get_url=new Sk.builtin.func((e=>Sk.builtin.none.none$));var o=new Sk.builtin.str("get_bytes");t.get_length=new Sk.builtin.func((e=>Sk.misceval.chain(v.pyCallOrSuspend(e.tp$getattr(o)),Sk.builtin.len)))}),"Media",[]),m.URLMedia=Sk.misceval.buildClass(m,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){e._url=Sk.ffi.remapToJs(t)})),t.get_url=new Sk.builtin.func((function(e){return new Sk.builtin.str(e._url)}));var n=function(e){return e._fetch||(e._fetch=new Promise((function(t,n){if("data:"==e._url.substring(0,5)){var r=e._url.split(";base64,"),o=r[1],i=atob(o);t({data:i,contentType:r[0].substring(5)})}else window.setLoading(!0),$.ajax({url:e._url,type:"GET",dataType:"binary",processData:!1}).then((function(e,n,r){window.setLoading(!1),t({data:e.arrayBuffer(),contentType:r.getResponseHeader("content-type")})}),(function(t,r,o){window.setLoading(!1);var i="(HTTP "+t.status+")";0===t.status&&(i="(probably due to a cross-origin URL)"),n(new Sk.builtin.RuntimeError("Failed to load media "+i+": "+e._url))}))}))),e._fetch};t.get_content_type=new Sk.builtin.func((function(e){return new v.suspensionPromise((function(t,r){n(e).then((function(e){t(new Sk.builtin.str(e.contentType))}),r)}))})),t.get_bytes=new Sk.builtin.func((function(e){return new v.suspensionPromise((function(t,r){n(e).then((function(e){return e.data}),r).then((function(e){t(new d("string"==typeof e?e:f(e)))})).catch((e=>{console.error(e),r(e)}))}))})),t.get_name=new Sk.builtin.func((function(e){var t=(""+e._url).replace(/\/+$/,"").split("/");return t&&t.length>0?new Sk.builtin.str(t[t.length-1]):Sk.builtin.none.none$}))}),"URLMedia",[m.Media]),m.DataMedia=m.BlobMedia=Sk.misceval.buildClass(m,(function(e,t){t.__init__=v.funcWithRawKwargsDict((function(e,t,n,r,o){if(n=n||e.content_type||e.contentType,r=r||e.content,n instanceof Blob)t._data=n,t._contentType=t._data.type,t._name=r;else{if(void 0===r)throw new Sk.builtin.TypeError("BlobMedia() takes two arguments (content_type and content)");if(!Sk.builtin.checkString(n))throw new Sk.builtin.TypeError("content_type must be a string, not "+Sk.abstr.typeName(n));if(Sk.__future__.python3&&!Sk.builtin.checkBytes(r))throw new Sk.builtin.TypeError("content must be a byte-string, not "+Sk.abstr.typeName(r));if(!Sk.__future__.python3&&!Sk.builtin.checkString(r))throw new Sk.builtin.TypeError("content must be a string or byte-string, not "+Sk.abstr.typeName(r));t._contentType=Sk.ffi.remapToJs(n),t._data=Sk.ffi.remapToJs(r)}"name"in e?t._name=e.name:null!=o&&(t._name=o)})),t.get_url=new Sk.builtin.func((function(e,t){if(!Sk.misceval.isTrue(t||!1))return Sk.builtin.none.none$;var r;if(e._data instanceof Blob)return new v.suspensionPromise((function(t,n){var r=new FileReader;r.onloadend=function(){t(new Sk.builtin.str(r.result))},r.readAsDataURL(e._data)}));if(e._data instanceof Uint8Array){r="";for(var o=e._data,i=0;i<o.length;i++)r+=String.fromCharCode(o[i])}else r=e._data;var a=n(220);return new Sk.builtin.str("data:"+e._contentType.replace(/;/g,"")+";base64,"+a.base64EncStr(r))})),t.get_content_type=new Sk.builtin.func((function(e){return new Sk.builtin.str(e._contentType)})),t.get_bytes=v.funcWithKwargs((function(e,t){return t._data instanceof Blob?new v.suspensionPromise((function(e,n){var r=new FileReader;r.onerror=()=>n(r.error),r.readAsArrayBuffer?(r.onload=()=>e(new d(f(r.result))),r.readAsArrayBuffer(t._data)):(r.onload=()=>e(new d(r.result)),r.readAsBinaryString(t._data))})):new d(t._data)})),t.get_name=new Sk.builtin.func((function(e){return void 0!==e._name?new Sk.builtin.str(e._name):Sk.builtin.none.none$}))}),"BlobMedia",[m.Media]),m.FileMedia=Sk.misceval.buildClass(m,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){if(!(t instanceof File))throw new Sk.builtin.TypeError("You cannot construct a anvil.FileMedia yourself; it can only come from a File component");e._data=t,e._contentType=t.type,e._name=t.name}))}),"FileMedia",[m.BlobMedia]),m.LazyMedia=Sk.misceval.buildClass(m,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){if(e.$anvil_isLazyMedia=!0,t&&t.$anvil_isLazyMedia)e._spec=t._spec;else{if(!(t&&t.id&&t.key&&t.manager))throw new Sk.builtin.TypeError("You cannot construct a anvil.LazyMedia from Python. Use anvil.BlobMedia instead.");e._spec=t}}));var n=function(e){if(e._fetched)return e._fetched;var t=new Sk.builtin.list([Sk.ffi.remapToPy(e._spec)]);return Sk.misceval.chain(c.anvilServerMod.__anvil$doRpcCall([],t,"anvil.private.fetch_lazy_media"),(function(t){return e._fetched=t,t}))};t.get_bytes=new Sk.builtin.func((function(e){return Sk.misceval.chain(n(e),(function(e){return Sk.misceval.callsimOrSuspend(Sk.abstr.gattr(e,new Sk.builtin.str("get_bytes")))}))})),t.get_content_type=new Sk.builtin.func((function(e){return e._spec["mime-type"]?Sk.ffi.remapToPy(e._spec["mime-type"]):Sk.misceval.chain(n(e),(function(e){return Sk.misceval.callsimOrSuspend(Sk.abstr.gattr(e,new Sk.builtin.str("get_content_type")))}))})),t.get_url=v.funcFastCall((function(e,t){var[n,r]=Sk.abstr.copyKeywordsToNamedArgs("get_url",["self","download"],e,t,[Sk.builtin.bool.true$]),o=Sk.ffi.toJs(c.anvilServerMod.app_origin),i=Sk.misceval.isTrue(r);return new Sk.builtin.str(o+"/_/lm/"+encodeURIComponent(n._spec.manager)+"/"+encodeURIComponent(n._spec.key)+"/"+encodeURIComponent(n._spec.id)+"/"+encodeURIComponent(n._spec.name||"")+"?s="+window.anvilSessionToken+(i?"":"&nodl=1"))})),t.get_name=new Sk.builtin.func((function(e){return void 0!==e._spec.name?new Sk.builtin.str(e._spec.name):Sk.builtin.none.none$}))}),"LazyMedia",[m.Media]),m.create_lazy_media=new Sk.builtin.func(v.withRawKwargs((function(e){return Sk.misceval.applyOrSuspend(c.anvilServerMod.call,void 0,void 0,e,[new Sk.builtin.str("anvil.private.mk_LazyMedia")].concat(Array.prototype.slice.call(arguments,1)))}))),m.LiveObjectProxy=Sk.misceval.buildClass(m,(function(e,t){var n=function(e,t,n,r){return c.anvilServerMod.__anvil$doRpcCall(n,r,t,e._spec)};function r(e,r){t[e]=new Sk.builtin.func((function(t){return-1!=t._spec.methods.indexOf(e)?n(t,e,[],[]):r(t)}))}function o(e,t){return t&&t._anvil_is_LiveObjectProxy&&t._spec.id==e._spec.id&&t._spec.backend==e._spec.backend}t.__init__=new Sk.builtin.func((function(e,t){e._spec=t,e._anvil={},e._anvil_is_LiveObjectProxy=!0})),t.__getattr__=new Sk.builtin.func((function(e,t){var r=t.toString();if(e._spec.methods.indexOf(r)>-1)return new Sk.builtin.func(v.withRawKwargs((function(t){var o=Array.prototype.slice.call(arguments,1);return n(e,r,t,o)})));throw new Sk.builtin.AttributeError("'"+e.tp$name+"' object has no attribute '"+r+"'")})),t.__getitem__=new Sk.builtin.func((function(e,t){if(e._spec.methods.indexOf("__anvil_iter_page__")>-1){if(t instanceof Sk.builtin.int_){var r=Sk.ffi.remapToJs(t);if(r<0)throw new Sk.builtin.IndexError("list index cannot be negative");var o=Sk.misceval.callsim(i,e,r);return v.suspensionFromPromise(v.callAsyncWithoutDefaultError(o.tp$getattr(new Sk.builtin.str("next"))).catch((function(e){if(e instanceof Sk.builtin.StopIteration)throw new Sk.builtin.IndexError("list index out of range");throw e})))}if(t instanceof Sk.builtin.slice){var a=Sk.ffi.remapToJs(t.start),l=Sk.ffi.remapToJs(t.stop),s=Sk.ffi.remapToJs(t.step);if(a<0||l<0||s<0)throw new Sk.builtin.ValueError("list slice indices and step cannot be negative");return Sk.misceval.callsim(i,e,a,l,s)}}if(e._spec.itemCache){var c=Sk.ffi.remapToJs(t);if(c in e._spec.itemCache)return e._spec.itemCache[c]}if(-1!=e._spec.methods.indexOf("__getitem__"))return n(e,"__getitem__",[],[t]);throw new Sk.builtin.TypeError("Indexing with [] is not supported on this "+e._spec.backend)})),t.__setitem__=new Sk.builtin.func((function(e,t,r){if(-1!=e._spec.methods.indexOf("__setitem__")){var o=Sk.ffi.remapToJs(t);return e._spec.itemCache&&delete e._spec.itemCache[o],Sk.misceval.chain(n(e,"__setitem__",[],[t,r]),(function(t){return e._spec.itemCache&&(e._spec.itemCache[o]=r),t}))}throw new Sk.builtin.TypeError("Indexing with [] is not supported on this "+e._spec.backend)})),r("__len__",(e=>{throw new Sk.builtin.TypeError("Cannot call len() on this "+e._spec.backend)})),r("__nonzero__",(()=>Sk.builtin.bool.true$)),r("__bool__",(()=>Sk.builtin.bool.true$)),t.__eq__=new Sk.builtin.func((function(e,t){return o(e,t)?Sk.builtin.bool.true$:Sk.builtin.bool.false$})),t.__ne__=new Sk.builtin.func((function(e,t){return o(e,t)?Sk.builtin.bool.false$:Sk.builtin.bool.true$})),t.__hash__=new Sk.builtin.func((function(e){return Sk.builtin.hash(new Sk.builtin.tuple([e._spec.id,e._spec.backend].map((e=>Sk.ffi.remapToPy(e)))))}));var i=Sk.misceval.buildClass(m,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t,n,r,o){e._spec=t._spec;var i=e._spec.iterItems||{};e._items=i.items,e._pyNextPage=i.nextPage&&Sk.ffi.remapToPy(i.nextPage),e._idx=n||0,e._limit=r,e._step=o})),t.__iter__=new Sk.builtin.func((function(e){return e})),t.next=t.__next__=new Sk.builtin.func((function e(t){if(t._items&&t._idx<t._items.length&&(null==t._limit||t._idx<t._limit)){var r=t._items[t._idx];return t._idx+=null!=t._step?t._step:1,r}if(!t._items||t._pyNextPage&&Sk.misceval.isTrue(t._pyNextPage)){if(null!=t._limit&&t._idx>=t._limit)throw new Sk.builtin.StopIteration;return Sk.misceval.chain(n(t,"__anvil_iter_page__",[],[t._pyNextPage||Sk.builtin.none.none$]),(function(n){return null!=t._limit&&(t._limit-=t._items?t._items.length:0),t._idx-=t._items?t._items.length:t._idx,t._pyNextPage=Sk.misceval.isTrue(n.sq$contains(new Sk.builtin.str("nextPage")))&&n.mp$subscript(new Sk.builtin.str("nextPage")),t._items=n.mp$subscript(new Sk.builtin.str("items")).v,e(t)}))}throw new Sk.builtin.StopIteration}))}),"LiveObjectIterator",[]);t.__iter__=new Sk.builtin.func((function(e){if(e._spec.methods.indexOf("__anvil_iter_page__")<0)throw new Sk.builtin.TypeError("This "+e._spec.backend+" object is not iterable");return Sk.misceval.callsim(i,e)})),t.__repr__=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy("<LiveObject: "+e._spec.backend+">")}))}),"LiveObjectProxy",[]),m._get_live_object_id=new Sk.builtin.func((function(e){if(e&&e._anvil_is_LiveObjectProxy)return new Sk.builtin.str(e._spec.id);var t=e.tp$getattr(new Sk.builtin.str("get_id"));if(void 0===t)throw new Sk.builtin.TypeError("Argument is not a LiveObject");return void 0===h._get_live_object_id&&(h._get_live_object_id=!0,Sk.builtin.print(["Deprecated: _get_live_object_id is no longer required - call row.get_id() instead."])),v.pyCallOrSuspend(t)})),m._clear_live_object_caches=new Sk.builtin.func((function(e){if(e&&e._anvil_is_LiveObjectProxy)return e._spec.itemCache={},void(e._spec.iterItems={});var t=e.tp$getattr(new Sk.builtin.str("_clear_cache"));if(void 0===t)throw new Sk.builtin.TypeError("Argument is not a LiveObject");return v.pyCallOrSuspend(t)})),m._get_service_client_config=new Sk.builtin.func((function(e){var t=Sk.ffi.remapToJs(e);return Sk.ffi.remapToPy(window.anvilServiceClientConfig[t]||null)})),m._get_anvil_cdn_origin=new Sk.builtin.func((()=>Sk.ffi.remapToPy(window.anvilCDNOrigin))),m.get_focused_component=new Sk.builtin.func((function(){var e=document.activeElement,t=$(e).closest(".anvil-component");return t.length>0?t.data("anvil-py-component"):Sk.builtin.none.none$}));var O=0;function P(e){var t,n,a=Sk.builtin.none.none$,{large:l,title:c,content:d,buttons:f,dismissible:h,role:g}=e,_=null;l=Sk.misceval.isTrue(l),h=Sk.misceval.isTrue(h),c=null==Sk.ffi.toJs(e.title)?null:String(c),f=null===(t=f)||void 0===t?void 0:t.valueOf(),Array.isArray(f)||(f=[]),d instanceof m.Component?(n=d,_=!0,(0,r.validateChild)(d,"alert")):d&&(_=d.toString()),f=f.map((e=>{var t=null==e?void 0:e.valueOf(),n="",r=Sk.builtin.none.none$,o="";"string"==typeof t?(n=t,r=e):Array.isArray(t)&&([n="",r=Sk.builtin.none.none$,o=""]=t,n=String(n),o=String(o));return{text:n,style:o,onClick:()=>{a=r,y.hide()}}}));var y=new u.default({id:O++,large:l,title:c,dismissible:h,body:_,buttons:f,backdrop:h||"static",keyboard:h});g&&v.applyRole(g,y.elements.modalDialog);var{promise:b,resolve:k}=(0,p.defer)(),S=!1;y.once("hide",(()=>{S=!0,setTimeout((()=>{n?($(n.anvil$hooks.domElement).detach(),o.topLevelForms.alertForms.delete(n),v.asyncToPromise((()=>(0,s.notifyComponentUnmounted)(n,!0))).then((()=>k(a)))):k(a)}))})),y.once("hidden",(()=>{--O&&document.body.classList.add((0,i.getCssPrefix)()+"modal-open")}));var{promise:w,resolve:C}=(0,p.defer)();return Sk.misceval.chain(n&&n.anvil$hooks.setupDom(),(e=>(n?(y.elements.modalBody.append(e),v.pyCall(n.tp$getattr(new Sk.builtin.str("set_event_handler")),[new Sk.builtin.str("x-close-alert"),v.funcWithRawKwargsDict((e=>{var t;a=null!==(t=e.value)&&void 0!==t?t:Sk.builtin.none.none$,y.hide()}))]),y.once("show",(()=>{o.topLevelForms.alertForms.add(n)})),y.once("shown",(()=>{S?C():C(v.asyncToPromise((()=>(0,s.notifyComponentMounted)(n,!0))))}))):y.once("shown",(()=>{C()})),y.show(),document.activeElement&&document.activeElement.blur(),$(y).trigger("focus"),v.suspensionFromPromise(w.then((()=>b))))))}
/*!defFunction(anvil,_,content,[title=""],[buttons=],[large=False],[dismissible=True],[role=])!2*/return m.alert=new Sk.builtin.func(v.withRawKwargs((function(e,t){var n,r,o=v.keywordArrayToHashMap(e);return null!==(n=o.content)&&void 0!==n||(o.content=t),null!==(r=o.dismissible)&&void 0!==r||(o.dismissible=!0),o.buttons=o.buttons||Sk.ffi.toPy([["OK",!0,"success"]]),P(o)}))),m.confirm=new Sk.builtin.func(v.withRawKwargs((function(e,t){var n,r,o,i=v.keywordArrayToHashMap(e);return null!==(n=i.content)&&void 0!==n||(i.content=t),null!==(r=i.buttons)&&void 0!==r||(i.buttons=Sk.ffi.toPy([["No",!1,"danger"],["Yes",!0,"success"]])),null!==(o=i.dismissible)&&void 0!==o||(i.dismissible=!1),P(i)}))),m.Notification=Sk.misceval.buildClass(m,(function(e,t){var n,r=()=>{var e;if(!n||window.anvilParams.runtimeVersion>=3){var t=(0,i.getCssPrefix)(),r='<div data-notify="container" class="'.concat(t,"col-xs-11 ").concat(t,"col-sm-4 ").concat(t,"alert ").concat(t,'alert-{0}" role="alert">\n                <button type="button" aria-hidden="true" class="').concat(t,'close" data-notify="dismiss">&times;</button>\n                <span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span>\n                '),o={enter:"".concat(t,"animated ").concat(t,"fadeInDown"),exit:"".concat(t,"animated ").concat(t,"fadeOutUp")};n={template:r,animate:o}}return null!==(e=n)&&void 0!==e?e:n={}};function o(e){if(e._anvil.notification)throw new Sk.builtin.RuntimeError("Notification already visible");var{message:t,title:n,style:o,timeout:i}=e._anvil,{template:a,animate:s}=r();return e._anvil.notification=$.notify({message:t,title:n},{type:o,delay:i||2e3,timer:0===i?0:10,placement:{from:"top",align:"center"},mouse_over:"pause",template:a,z_index:u.BOOTSTRAP_MODAL_BG,animate:s,onClosed(){e._anvil.notification=null}}),(0,l.chainOrSuspend)((0,l.promiseToSuspension)(new Promise((e=>setTimeout(e)))),(()=>e))}
/*!defMethod(,message,[title=""],[style="info"], [timeout=2])!2*/t.__init__=v.funcFastCall((function(e,t){var[n,r,o,i,a]=Sk.abstr.copyKeywordsToNamedArgs("Notification",["self","message","title","style","timeout"],e,t,[l.pyStr.$empty,new l.pyStr("info"),new l.pyInt(2)]);return n._anvil={message:(0,l.toJs)(r),title:(0,l.toJs)(o),style:(0,l.toJs)(i),timeout:1e3*(0,l.toJs)(a)},l.pyNone})),t.show=new l.pyFunc((e=>o(e))),t.__enter__=new l.pyFunc((function(e){return e._anvil.timeout=0,o(e)})),t.hide=new l.pyFunc((function(e){var t,n;return null===(t=e._anvil.notification)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),l.pyNone})),t.__exit__=t.hide}),"Notification",[]),m}},function(e,t,n){"use strict";e.exports=function(){var e,t,r=n(220),o=(n(1),{__name__:new Sk.builtin.str("base64")}),i=new Sk.builtin.func((function(){throw new Sk.builtin.NotImplementedError("The 'base64' module in Anvil forms is limited to simple use of b64encode() and b64decode(). For full functionality, use a server module.")}));return o.b32encode=i,o.b32decode=i,o.b16encode=i,o.b16decode=i,o.encode=i,o.decode=i,Sk.__future__.python3?(e=Sk.builtin.bytes,t=Sk.builtin.checkBytes):(e=Sk.builtin.str,t=Sk.builtin.checkString),o.b64encode=o.encodebytes=o.encodestring=new Sk.builtin.func((function(n){return Sk.builtin.pyCheckArgs("b64encode",arguments,1,1),Sk.builtin.pyCheckType("argument","bytes-like object",t(n)),new e(r.base64EncStr(n.$jsstr()))})),o.b64decode=new Sk.builtin.func((function(t){return Sk.builtin.pyCheckArgs("b64decode",arguments,1,1),Sk.builtin.pyCheckType("argument","bytes-like object or ASCII string",Sk.builtin.checkBytes(t)||Sk.builtin.checkString(t)),new e(r.base64DecToStr(t.$jsstr()))})),o.decodestring=o.decodebytes=new Sk.builtin.func((function(n){return Sk.builtin.pyCheckArgs("b64decode",arguments,1,1),Sk.builtin.pyCheckType("argument","bytes-like object",t(n)),new e(r.base64DecToStr(n.$jsstr()))})),o}},function(e,t,n){"use strict";n(32),e.exports=function(){var e={__name__:new Sk.builtin.str("anvil.xml")};return e.XMLDocument=Sk.misceval.buildClass(e,(function(t,n){n.__init__=new Sk.builtin.func((function(e,t){e._anvil={jqDoc:$(t)}})),n.find=new Sk.builtin.func((function(t,n){return Sk.misceval.call(e.XMLDocument,void 0,void 0,void 0,t._anvil.jqDoc.find(Sk.ffi.remapToJs(n)))})),n.attr=new Sk.builtin.func((function(e,t,n){return n?(e._anvil.jqDoc.attr(Sk.ffi.remapToJs(t),Sk.ffi.remapToJs(n)),e):Sk.ffi.remapToPy(e._anvil.jqDoc.attr(Sk.ffi.remapToJs(t)))})),n.text=new Sk.builtin.func((function(e,t){return t?(e._anvil.jqDoc.text(Sk.ffi.remapToJs(t)),e):Sk.ffi.remapToPy(e._anvil.jqDoc.text())})),n.tag_name=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy(e._anvil.jqDoc[0].tagName.split(":")[1]||e._anvil.jqDoc[0].tagName)})),n.find_in_ns=new Sk.builtin.func((function(t,n,r){var o=t._anvil.jqDoc[0].getElementsByTagNameNS(Sk.ffi.remapToJs(n),Sk.ffi.remapToJs(r)),i=[];return $(o).each((function(t,n){var r=Sk.misceval.call(e.XMLDocument,void 0,void 0,void 0,n);i.push(r)})),new Sk.builtin.list(i)})),n.serialize=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy((new XMLSerializer).serializeToString(e._anvil.jqDoc[0]))})),n.__str__=n.__repr__=new Sk.builtin.func((function(e){return Sk.ffi.remapToPy(e._anvil.jqDoc.text())}))}),"XMLDocument",[]),e}},function(e,t,n){"use strict";n(161),n(3),n(20),e.exports=function(){var e={__name__:new Sk.builtin.str("re")};return e.replace=new Sk.builtin.func((function(e,t,n){var r=Sk.ffi.remapToJs(e),o=Sk.ffi.remapToJs(t),i=Sk.ffi.remapToJs(n),a=r.replace(new RegExp(o,"g"),i);return Sk.ffi.remapToPy(a)})),e}},function(e,t,n){"use strict";var{pyCall:r,pyTypeError:o,pyFunc:i,toPy:a,toJs:l,pyStr:s,pyNone:c,lookupSpecial:p,checkOneArg:u,buildPyClass:d}=n(6),{datetimeMod:f,kwToObj:v}=n(8);e.exports=function(){var e={__name__:new s("anvil.tz")},t=n(1),m=f.timedelta,h=f.tzinfo,g=new s("_offset"),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];u("tzoffset",e);var n=e[0],i=v(t),a=t.length/2;if(a>1||!(0===a||"hours"in i||"minutes"in i||"seconds"in i))throw new o("tzoffset must be initialised with precisely one of 'seconds', 'minutes' or 'hours' keyword arguments");var l=r(m,[],t);return n.tp$setattr(g,l),c};return e.tzoffset=d(e,((e,n)=>{n.__init__=t.funcFastCall(_),n.utcoffset=new i((e=>e.tp$getattr(g))),n.dst=new i((e=>r(m))),n.tzname=new i((e=>c)),n.__repr__=new i((e=>{var t=e.tp$getattr(g).tp$getattr(a("total_seconds")),n=p(e,s.$module),o=e.tp$name;return a("<".concat(n,".").concat(o," (").concat(l(r(t))/3600," hour offset)>"))}))}),"tzoffset",[h]),e.tzlocal=d(e,((e,t)=>{t.__init__=new i((e=>_([e],["minutes",a(-(new Date).getTimezoneOffset())]))),t.tzname=new i((e=>a("Browser Local")))}),"tzlocal",[e.tzoffset]),e.tzutc=d(e,((e,t)=>{t.__init__=new i((e=>_([e],["minutes",a(0)]))),t.tzname=new i((e=>a("UTC"))),t.__repr__=new i((e=>a("<anvil.tz.tzutc>")))}),"tzlocal",[e.tzoffset]),e.UTC=r(e.tzutc),e}},function(e,t,n){"use strict";e.exports=function(){var e={__name__:new Sk.builtin.str("shapes")};n(1);return e.Shape=Sk.misceval.buildClass(e,(function(e,t){var n=function(e,t){t.fillStyle=Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("fill"))),t.strokeStyle=Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("stroke")))};t.__init__=new Sk.builtin.func((function(e,t,r){e.tp$setattr(new Sk.builtin.str("fill"),r),e.tp$setattr(new Sk.builtin.str("stroke"),t),e.tp$setattr(new Sk.builtin.str("draggable"),Sk.ffi.remapToPy(!0)),e._anvil={},e._anvil.draw=n.bind(null,e)}))}),"Shape",[]),e.Rectangle=Sk.misceval.buildClass(e,(function(t,n){var r=function(e,t,n){t(n),e.tp$getattr(new Sk.builtin.str("fill"))!=Sk.builtin.none.none$&&n.fillRect(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("width"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("height")))),e.tp$getattr(new Sk.builtin.str("stroke"))!=Sk.builtin.none.none$&&n.strokeRect(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("width"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("height"))))},o=function(e,t,n){var r=t=>e.tp$getattr(new Sk.builtin.str(t));return t>Sk.ffi.remapToJs(r("x"))&&n>Sk.ffi.remapToJs(r("y"))&&t<Sk.ffi.remapToJs(r("x"))+Sk.ffi.remapToJs(r("width"))&&n<Sk.ffi.remapToJs(r("y"))+Sk.ffi.remapToJs(r("height"))},i=function(e,t,n){e.tp$setattr(new Sk.builtin.str("x"),Sk.ffi.remapToPy(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x")))+t)),e.tp$setattr(new Sk.builtin.str("y"),Sk.ffi.remapToPy(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y")))+n))};n.__init__=new Sk.builtin.func((function(t,n,a,l,s,c,p){Sk.misceval.call(e.Shape.prototype.__init__,void 0,void 0,void 0,t,c,p),t.tp$setattr(new Sk.builtin.str("x"),n),t.tp$setattr(new Sk.builtin.str("y"),a),t.tp$setattr(new Sk.builtin.str("width"),l),t.tp$setattr(new Sk.builtin.str("height"),s),t._anvil.draw=r.bind(null,t,t._anvil.draw),t._anvil.hitTest=o.bind(null,t),t._anvil.moveBy=i.bind(null,t)}))}),"Rectangle",[e.Shape]),e.Circle=Sk.misceval.buildClass(e,(function(t,n){var r=function(e,t,n){t(n),n.beginPath(),n.arc(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y"))),Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("radius"))),0,2*Math.PI),e.tp$getattr(new Sk.builtin.str("fill"))!=Sk.builtin.none.none$&&n.fill(),e.tp$getattr(new Sk.builtin.str("stroke"))!=Sk.builtin.none.none$&&n.stroke()},o=function(e,t,n){var r=t-Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x"))),o=n-Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y")));return Math.sqrt(r*r+o*o)<Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("radius")))},i=function(e,t,n){e.tp$setattr(new Sk.builtin.str("x"),Sk.ffi.remapToPy(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("x")))+t)),e.tp$setattr(new Sk.builtin.str("y"),Sk.ffi.remapToPy(Sk.ffi.remapToJs(e.tp$getattr(new Sk.builtin.str("y")))+n))};n.__init__=new Sk.builtin.func((function(t,n,a,l,s,c){Sk.misceval.call(e.Shape.prototype.__init__,void 0,void 0,void 0,t,s,c),t.tp$setattr(new Sk.builtin.str("x"),n),t.tp$setattr(new Sk.builtin.str("y"),a),t.tp$setattr(new Sk.builtin.str("radius"),l),t._anvil.draw=r.bind(null,t,t._anvil.draw),t._anvil.hitTest=o.bind(null,t),t._anvil.moveBy=i.bind(null,t)}))}),"Circle",[e.Shape]),e}},function(e,t,n){"use strict";n(0),n(16),n(3),n(2);var r,o=n(6),i=(r=n(1))&&r.__esModule?r:{default:r},a=n(221),l=n(25),s=n(8),c=n(228),p=n(327);e.exports=function(e,t){var n={__name__:new o.pyStr("anvil.server"),app_origin:(0,o.toPy)(t),loading_indicator:p.loading_indicator},r=e=>{if(!(e instanceof o.pyStr)){var t="first argument to anvil.server.call() must be as str, got '".concat((0,o.typeName)(e),"'");throw new o.pyTypeError(t)}return!0};n._call_http=new o.pyFunc(i.default.withRawKwargs((function(e,t){r(t);for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return(0,c.doHttpCall)(e,o,t.toString())})));var u=window.anvilParams.isCrawler?c.doHttpCall:c.doRpcCall;n.call_$rw$=new o.pyFunc(i.default.withRawKwargs((function(e,t){r(t);for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return u(e,o,t.toString())}))),n.call_s=new o.pyFunc(i.default.withRawKwargs((function(e,t){r(t);for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return u(e,o,t.toString(),void 0,!0)}))),n.launch_background_task=new o.pyFunc(i.default.withRawKwargs((function(e,t){throw new o.pyRuntimeError("Cannot launch Background Tasks from client code.")}))),n.__anvil$doRpcCall=u,n.LazyMedia=s.anvilMod.LazyMedia,n.Serializable=(0,o.buildPyClass)(n,(()=>{}),"Serializable",[o.pyObject]);var d=(0,o.buildNativeClass)("_CapAny",{constructor:function(){},slots:{$r:()=>new o.pyStr("ANY")}}),f=Object.create(d.prototype),v=n.Capability=(0,o.buildNativeClass)("anvil.server.Capability",{constructor:function(e,t,n){this._scope=e,this._mac=t,this._narrow=n||(n=[]),this._localTag=null,this._hash=null;var r,a=e.concat(n);this._fullScope=a,this._JSONScope=JSON.stringify(a),this._doApplyUpdate=null,this._applyUpdate=e=>this._doApplyUpdate?i.default.pyCallOrSuspend(this._doApplyUpdate,[e]):o.pyNone,Object.defineProperties(this,{_pyFullScope:{get(){var e;return null!==(e=r)&&void 0!==e||(r=(0,o.toPy)(a).valueOf()),new o.pyList([...r])}}})},slots:{tp$new(e,t){throw new o.pyRuntimeError("Cannot create new Capability objects in Form code.")},$r(){var e=(0,o.objectRepr)(this._pyFullScope);return new o.pyStr("<anvil.server.Capability:".concat(e,">"))},tp$hash(){var e;return null!==(e=this._hash)&&void 0!==e?e:this._hash=(0,o.pyObjectHash)(new o.pyStr(this._JSONScope))},tp$richcompare(e,t){if("Eq"!==t&&"NotEq"!==t||e.ob$type!==v)return o.pyNotImplemented;var n=(0,o.richCompareBool)(this._pyFullScope,e._pyFullScope,"Eq");return"Eq"===t?n:!n}},methods:{
/*!defBuiltinMethod(anvil.server.Capability instance,additional_scope)!1*/
narrow:{$name:"narrow",$meth(e){if(!(e instanceof o.pyList))throw new o.pyTypeError("The narrow argument of a Capability should be a list");var t;try{var n=()=>{throw Error("bad pyobject")};t=(0,o.toJs)(e,{setHook:n,unhandledHook:n})}catch(e){throw new o.pyTypeError("The narrow argument provided is not valid JSON data.")}var r=this._narrow.concat(t);return new v(this._scope,this._mac,r)},$flags:{OneArg:!0},$doc:"Return a new capability that is narrower than this one, by appending additional scope element(s) to it."},
/*!defBuiltinMethod(_,apply_update:callable,[get_update:callable])!1*/
set_update_handler:{$name:"set_update_handler",$meth(e,t){return this._doApplyUpdate=e,o.pyNone},$flags:{MinArgs:1,MaxArgs:2},$doc:"Set a handler for what happens when an update is sent to this capability.\n\nOptionally provide a function for aggregating updates (default behaviour is to merge them, if they are all dictionaries, or to return only the most recent update otherwise.)"},
/*!defBuiltinMethod(_,update)!1*/
send_update:{$name:"send_update",$meth(e){return this._applyUpdate(e)},$flags:{OneArg:!0},$doc:"Send an update to the update handler for this capability, in this interpreter and also in any calling environment (eg browser code) that passed this capability into the current server function."}},getsets:{scope:{$get(){return this._pyFullScope}}},proto:{ANY:f},flags:{sk$unacceptableBase:!0}});
/*!defClass(anvil.server, Capability)!*/
n.unwrap_capability=new o.pyFunc(((e,t)=>{if((0,o.pyType)(e)!==v)throw new o.pyTypeError("The first argument must be a Capability");if(!(t instanceof o.pyList))throw new o.pyTypeError("scope_pattern should be a list, not ".concat((0,o.typeName)(t)));var n=t.valueOf(),r=e._pyFullScope,i=r.valueOf();if(i.length>n.length)throw new o.pyValueError("Capability is too narrow: required ".concat((0,o.objectRepr)(t),"; got ").concat((0,o.objectRepr)(r)));for(var a=new Array(n.length).fill(o.pyNone),l=0;l<i.length;l++){var s=n[l],c=i[l];if(s!==f&&c!==s&&!(0,o.richCompareBool)(c,s,"Eq"))throw new o.pyValueError("Incorrect Capability: required ".concat((0,o.objectRepr)(t),"; got ").concat((0,o.objectRepr)(r)));a[l]=c}return new o.pyList(a)})),n.SerializationInfo=c.SerializationInfo,n._register_exception_type=new o.pyFunc((function(e,t){if(!(e&&e instanceof o.pyStr&&t))throw new o.pyTypeError("Invalid call to _register_exception_type");return c.pyNamedExceptions[e.v]=t,o.pyNone}));var m=new o.pyStr("message");n.AnvilWrappedError=(0,o.buildPyClass)(n,(function(e,t){t.__init__=new o.pyFunc(((e,t)=>(t||(t=o.pyStr.$empty),e.tp$setattr(m,t),o.pyNone))),t.__repr__=new o.pyFunc((e=>{var t,r,i=o.pyException.prototype.$r.call(e);if(e.ob$type!==n.AnvilWrappedError)return i;var a=null===(t=e._anvil)||void 0===t||null===(r=t.errorObj)||void 0===r?void 0:r.type;return void 0===a?i:new o.pyStr("AnvilWrappedError(".concat(a+i.toString().slice("AnvilWrappedError".length),")"))}))}),"AnvilWrappedError",[o.pyException]),
/*!defClass(anvil.server,%SessionExpiredError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.SessionExpiredError"]=n.SessionExpiredError=(0,o.buildPyClass)(n,((e,t)=>{t.__init__=new o.pyFunc((function(e){return e.traceback=[],e.args=new o.pyList([(0,o.toPy)("Session expired")]),o.pyNone}))}),"SessionExpiredError",[o.pyException]),n.AnvilSessionExpiredException=n.SessionExpiredError,
/*!defClass(anvil.server,!AppOfflineError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.AppOfflineError"]=n.AppOfflineError=(0,o.buildPyClass)(n,(()=>{}),"AppOfflineError",[o.pyException]),
/*!defClass(anvil.server,%UplinkDisconnectedError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.UplinkDisconnectedError"]=n.UplinkDisconnectedError=(0,o.buildPyClass)(n,(()=>{}),"UplinkDisconnectedError",[o.pyException]),
/*!defClass(anvil.server,%ExecutionTerminatedError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.ExecutionTerminatedError"]=n.ExecutionTerminatedError=(0,o.buildPyClass)(n,(()=>{}),"ExecutionTerminatedError",[o.pyException]),
/*!defClass(anvil.server,%TimeoutError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.TimeoutError"]=n.TimeoutError=(0,o.buildPyClass)(n,(()=>{}),"TimeoutError",[o.pyException]),
/*!defClass(anvil.server,SerializationError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.SerializationError"]=n.SerializationError=(0,o.buildPyClass)(n,(()=>{}),"SerializationError",[o.pyException]),
/*!defClass(anvil.server,%InternalError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.InternalError"]=n.InternalError=(0,o.buildPyClass)(n,(()=>{}),"InternalError",[o.pyException]),
/*!defClass(anvil.server,%RuntimeUnavailableError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.RuntimeUnavailableError"]=n.RuntimeUnavailableError=(0,o.buildPyClass)(n,(()=>{}),"RuntimeUnavailableError",[o.pyException]),
/*!defClass(anvil.server,%QuotaExceededError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.QuotaExceededError"]=n.QuotaExceededError=(0,o.buildPyClass)(n,(()=>{}),"QuotaExceededError",[o.pyException]),
/*!defClass(anvil.server,%NoServerFunctionError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.NoServerFunctionError"]=n.NoServerFunctionError=(0,o.buildPyClass)(n,(()=>{}),"NoServerFunctionError",[o.pyException]),
/*!defClass(anvil.server,PermissionDenied, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.PermissionDenied"]=n.PermissionDenied=(0,o.buildPyClass)(n,(()=>{}),"PermissionDenied",[o.pyException]),
/*!defClass(anvil.server,%InvalidResponseError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.InvalidResponseError"]=n.InvalidResponseError=(0,o.buildPyClass)(n,(()=>{}),"InvalidResponseError",[o.pyException]),c.pyNamedExceptions["anvil.server._FailError"]=n._FailError=(0,o.buildPyClass)(n,(()=>{}),"_FailError",[o.pyException]),
/*!defClass(anvil.server,%BackgroundTaskError, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.BackgroundTaskError"]=n.BackgroundTaskError=(0,o.buildPyClass)(n,(()=>{}),"BackgroundTaskError",[o.pyException]),
/*!defClass(anvil.server,%BackgroundTaskNotFound, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.BackgroundTaskNotFound"]=n.BackgroundTaskNotFound=(0,o.buildPyClass)(n,(()=>{}),"BackgroundTaskNotFound",[o.pyException]),
/*!defClass(anvil.server,%BackgroundTaskKilled, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.BackgroundTaskKilled"]=n.BackgroundTaskKilled=(0,o.buildPyClass)(n,(()=>{}),"BackgroundTaskKilled",[o.pyException]),
/*!defClass(anvil.server,ServiceNotAdded, __builtins__..Exception)!*/
c.pyNamedExceptions["anvil.server.ServiceNotAdded"]=n.ServiceNotAdded=(0,o.buildPyClass)(n,(()=>{}),"ServiceNotAdded",[o.pyException]);var h=(0,o.buildPyClass)(n,(function(e,t){t.__enter__=new o.pyFunc((function(e){return l.globalSuppressLoading.inc(),e})),t.__exit__=new o.pyFunc((function(e){return l.globalSuppressLoading.dec(),o.pyNone}))}),"no_loading_indicator",[]);
/*!defModuleAttr(anvil.server)!1*/function g(e,t){(0,o.pyCheckType)("event_name","str",(0,o.checkString)(e)),(0,o.pyCheckType)("event_handler","callable function",(0,o.checkCallable)(t));var n=e.toString();return(c.pyServerEventHandlers[n]||(c.pyServerEventHandlers[n]=[])).push(t),c.websocket||(0,c.connect)(),o.pyNone}n.no_loading_indicator=(0,o.pyCall)(h),n.reset_session=new o.pyFunc((function(){return i.default.suspensionFromPromise(i.default.callAsync(n.call_s,void 0,void 0,void 0,(0,o.toPy)("anvil.private.reset_session")).then((e=>(window.anvilSessionToken=(0,o.toJs)(e),o.pyNone))))})),(0,o.setUpModuleMethods)("anvil.server",n,{portable_class:{$meth(e,t){var n=(e,t)=>{var n=t?t.valueOf():null;if(null==n){var r=Sk.abstr.gattr(e,o.pyStr.$module).toString(),i=Sk.abstr.gattr(e,o.pyStr.$name).toString();"__main__"===r&&window.anvilAppMainModule&&(r=window.anvilAppMainPackage+"."+window.anvilAppMainModule),n="".concat(r,".").concat(i)}else if("string"!=typeof n)throw new o.pyTypeError("The second argument to portable_class must be a string, got "+(0,o.typeName)(t));return e.anvil$serializableName=n,c.pyValueTypes[n]=e,e};if(t===o.pyNone&&e instanceof o.pyStr){var r=e;return new o.pyFunc((e=>n(e,r)))}return n(e,t)},$flags:{NamedArgs:["cls","name"],Defaults:[o.pyNone]}},add_event_handler:{$name:"add_event_handler",$meth:g,$doc:"add an event handler for a server event",$flags:{MinArgs:2,MaxArgs:2}},remove_event_handler:{$name:"remove_event_handler",$meth:function(e,t){(0,o.pyCheckType)("event_name","str",(0,o.checkString)(e)),(0,o.pyCheckType)("event_handler","callable function",(0,o.checkCallable)(t));var n=e.toString(),r=c.pyServerEventHandlers[n];if(void 0===r)throw new o.pyLookupError("'".concat(t,"' was not found in '").concat(n,"' event handlers for server events"));var i=r.filter((e=>e!==t&&(0,o.richCompareBool)(e,t,"NotEq")));if(r.length===i.length)throw new o.pyLookupError("'".concat(t,"' was not found in '").concat(n,"' event handlers for server events"));return c.pyServerEventHandlers[n]=i,o.pyNone},$doc:"remove an event handler for a server event",$flags:{MinArgs:2,MaxArgs:2}},event_handler:{$name:"event_handler",$meth:function(e){if(!(0,o.checkString)(e))throw new o.pyTypeError("event_handler decorator requires an event_name as the first argument");return new o.pyFunc((function(t){return g(e,t),t}))},$doc:"decorator for marking a function as an event handler.",$flags:{OneArg:!0}}}),n.serializable_type=n.portable_class;var _=(e,t)=>e===o.pyNone?(0,o.toPy)((0,o.isTrue)(t)?window.anvilAppOrigin:window.anvilEnvironmentOrigin||window.anvilAppOrigin):(0,o.pyCallOrSuspend)(n.call_s,[(0,o.toPy)("anvil.private.get_app_origin"),e],["prefer_ephemeral_debug",t]);n.get_app_origin=new o.pyFunc((function(e,t){return _(e,t)})),n.get_app_origin.func_code.co_varnames=["branch","prefer_ephemeral_debug"],n.get_app_origin.func_code.$defaults=[o.pyNone,o.pyNone],n.get_api_origin=new o.pyFunc((function(e,t){return(0,o.chainOrSuspend)(_(e,t),(e=>new o.pyStr(e.toString()+"/_/api")))})),n.get_api_origin.func_code.co_varnames=["branch","prefer_ephemeral_debug"],n.get_api_origin.func_code.$defaults=[o.pyNone,o.pyNone],n.is_app_online=new o.pyFunc((function(){var e=a.anvilAppOnline.checkStatus();return(0,o.chainOrSuspend)((0,o.promiseToSuspension)(e),o.toPy)}));var y=(e,t)=>{var r=(0,o.buildPyClass)(n,((e,t)=>{t.__repr__=new o.pyFunc((function(e){return new o.pyStr(e.$d)}))}),e,[]),i=(0,o.pyCall)(r);for(var a in t)i.tp$setattr(new o.pyStr(a),(0,o.toPy)(t[a]));return i};n.context=y("CallContext",{remote_caller:null,type:"browser",client:y("Client",{type:"browser",location:null,ip:null})});var b=["Button","Canvas","CheckBox","ColumnPanel","DataGrid","DataRowPanel","DatePicker","DropDown","FileLoader","FlowPanel","GridPanel","HtmlPanel","Image","Label","LinearPanel","Link","Plot","RadioButton","RepeatingPanel","RichText","SimpleCanvas","Spacer","TextArea","TextBox","Timer","XYPanel","YouTubeVideo","ComponentTag"];for(var k of(window.anvilParams.runtimeVersion<=2&&b.push("Component"),b)){var S=s.anvilMod[k];S.anvil$serializableName="anvil."+k,c.pyValueTypes["anvil."+k]=S}return{pyMod:n,log:c.sendLog}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(57),n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.profileStart=function(e,t){return new i(e,t)},t.Profile=void 0;var o="transparent";class i{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r(this,"description",void 0),r(this,"startTime",void 0),r(this,"children",[]),r(this,"endTime",void 0),r(this,"duration",void 0),r(this,"origin",void 0),r(this,"response",void 0),this.description=e,this.startTime=t}append(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments.length>2?arguments[2]:void 0,r=new i(e,Math.round(t));return n&&(r.endTime=Math.round(n),r.duration=r.endTime-r.startTime),this.children.push(r),r}end(){if(!this.endTime){for(var e of this.children)e.end();var t=this.endTime=Date.now();this.duration=t-this.startTime}}print(){this.end();var e=o;"Server (Native)"===this.origin?o="#cfc":"Server (Python)"==this.origin&&(o="#ffb");var t=0;for(var n of this.children){var r;t+=null!==(r=n.duration)&&void 0!==r?r:0}var i="".concat(this.description," (").concat(this.duration," ms");if(this.children.length>0){for(var a of(i+=", ".concat(this.duration-t," ms lost)"),console.groupCollapsed("%c"+i,"background:"+o),this.children))a.print();this.response&&console.log("%cResponse:","background:#ddd;",this.response),console.groupEnd()}else i+=")",console.log("%c"+i,"background:"+o);o=e}mergeServerProfile(e){var{description:t,"start-time":n,"end-time":r}=e;for(var o of(this.append(t,n,r),null!==(i=e.children)&&void 0!==i?i:[])){var i;this.mergeServerProfile(o)}}}t.Profile=i},function(e,t,n){"use strict";n(10),Object.defineProperty(t,"__esModule",{value:!0}),t.sendLog=function(e){return p.apply(this,arguments)};var r=n(110),o=n(158);function i(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}function l(e){return s.apply(this,arguments)}function s(){return(s=a((function*(e){var t=new FormData;t.append("json-data",JSON.stringify(e));try{yield fetch("".concat(window.anvilAppOrigin,"/_/server-call-http"),{method:"POST",body:t})}catch(t){console.log("SendLog http failed;",e)}}))).apply(this,arguments)}var c=function(){var e=a((function*(e){try{(yield(0,o.connect)()).send(JSON.stringify(e))}catch(t){t instanceof o.WebsocketFallback?(console.log("SendLog failed; Falling back to HTTP;",e),c=l,l(e)):console.log("SendLog failed;",e)}}));return function(t){return e.apply(this,arguments)}}();function p(){return(p=a((function*(e){e.type="LOG",e.error&&(e.error.wsdata=r.diagnosticData),c(e)}))).apply(this,arguments)}},function(e,t,n){"use strict";n(0),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.loading_indicator=t.LoadingIndicator=void 0;var r=n(6),o=n(163),i=n(8),a=n(25),l=n(1),s=document.createElement("div");s.style.cssText="position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden;";var c=new WeakMap;var p={FastCall:!0},u=(0,r.buildNativeClass)("anvil.loading_indicator",{constructor:function(){},slots:{tp$init(e,t){(0,r.checkArgsLen)("loading_indicator",e,0,1),this._opts=(0,i.kwargsToJsObject)(t),void 0===this._opts.min_height&&(this._opts.min_height=220);var[n]=e;this._dom=n?(0,r.toJs)((0,r.pyCall)(i.anvilJsMod.get_dom_node,[n])):document.body},tp$call(e,t){return(0,r.pyCallOrSuspend)(this.ob$type,e,t)}},methods:{__enter__:{$meth(){var e;this._dom===document.body?this._loader=null!==(e=(0,o.getBodySpinner)())&&void 0!==e?e:this.$getLoadingSpinner():this._loader=this.$getLoadingSpinner();return this._loader.setLoading(!0),a.globalSuppressLoading.inc(),this},$flags:p},__exit__:{$meth(){return this._loader.setLoading(!1),a.globalSuppressLoading.dec(),r.pyNone},$flags:p}},proto:{$getLoadingSpinner(){var e=function(e,t){var n=c.get(e);if(n)return n;var r=s.cloneNode();c.set(e,r);var i=document.createElement("div");r.appendChild(i),i.className="anvil-loading-spinner anvil-spinner",i.style.opacity="0";var a=e.style.minHeight;t.min_height&&(e.style.minHeight=(0,l.cssLength)(t.min_height));var p=e.clientHeight,u=Math.max(50,Math.min(p,e.clientWidth));e.style.minHeight=a;var d=70,f=100;return u<400&&(f=(u-10)/4,d=Math.min(Math.max(24,f),70)),i.style.setProperty("--anvil-spinner-size",d+"px"),i.style.setProperty("--anvil-spinner-shadow",f+"px"),p<500&&i.style.setProperty("top","calc(50% - calc(var(--anvil-spinner-size) / 2))"),(0,o.appendSvgSpinner)(i),r}(this._dom,this._opts),t=getComputedStyle(this._dom).position,n=this._dom.style.minHeight,r=this._dom.style.position;return o.SpinnerLoader.getOrCreate(e.firstElementChild,{onStart:()=>{["static","relative"].includes(t)&&(this._dom.style.position="relative"),this._opts.min_height&&(this._dom.style.minHeight=(0,l.cssLength)(this._opts.min_height)),this._dom.appendChild(e)},onFinish:()=>{e.remove(),this._dom.style.position=r,this._dom.style.minHeight=n,c.delete(this._dom)}})}}});t.LoadingIndicator=u;var d=(0,r.pyCall)(u);t.loading_indicator=d},function(e,t,n){"use strict";n(0),n(70),n(46),n(3),n(329),n(60),n(61),n(2),n(106);var r=n(25),o=n(8);e.exports=function(){var{builtin:{str:e,Exception:t,ValueError:i,TypeError:a,func:l,checkString:s,pyCheckArgs:c,pyCheckType:p,bytes:u,none:{none$:d}},abstr:{sattr:f},ffi:{toPy:v,toJs:m},misceval:{buildClass:h,promiseToSuspension:g,callsimArray:_}}=Sk,y={__name__:new e("http")},b=n(1);y.url_encode=y.encode_uri_component=new l((function(e){return c("url_encode",arguments,1,1),p("url_encode","string_to_encode",s(e)),v(encodeURIComponent(m(e)))})),y.UrlEncodingError=h(y,((e,t)=>{}),"UrlEncodingError",[t]),_(o.anvilServerMod._register_exception_type,[new e("anvil.http.UrlEncodingError"),y.UrlEncodingError]),y.url_decode=new l((function(e){c("url_decode",arguments,1,1),p("url_decode","string_to_decode",s(e));try{return v(decodeURIComponent(m(e)))}catch(e){throw _(y.UrlEncodingError)}})),y.json_stringify=new l((e=>v(JSON.stringify(m(e))))),y.b64_encode=new l((e=>v(btoa(m(e))))),y.b64_decode=new l((e=>v(atob(m(e)))));var k=t.tp$getattr(e.$init);function S(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=t.response;if(!(a instanceof ArrayBuffer))return d;var l=new u(new Uint8Array(a));if(n){var s=l.tp$getattr(new e("decode")),c=_(s).toString(),p=c;try{p=JSON.parse(c)}catch(e){if(r)throw new i("Returned data is not valid JSON")}return v(p)}var f=t.getResponseHeader("content-type")||"";return Sk.__future__.python3||(l=new e(l.$jsstr())),_(o.anvilMod.BlobMedia,[new e(f),l])}return y.HttpError=h(y,((t,n)=>{n.__init__=new l((function(t,n,r,o){var i,a,l;return null!==(i=n)&&void 0!==i||(n=d),null!==(a=r)&&void 0!==a||(r=d),null!==(l=o)&&void 0!==l||(o=d),f(t,new e("status"),n),f(t,new e("content"),r),o!==d&&o!==e.$empty||n===d||(o=v("HTTP error "+n.toString())),_(k,[t,o])}))}),"HttpError",[t]),y.request=b.funcWithKwargs((function(t,n){n&&(t.url=m(new e(n)));var{url:o,method:i="GET",username:l,password:s,headers:c={},json:p,data:u,timeout:d}=t;i=String(i).toUpperCase();var f=new XMLHttpRequest,h=r.globalSuppressLoading.value>0;l&&s&&(c.Authorization="Basic "+btoa(l+":"+s));var k=function(e){for(var t in e)if("content-type"===t.toLowerCase())return e[t]}(c),w="GET"!==i&&"HEAD"!==i;if(w&&u){var C="application/x-www-form-urlencoded; charset=UTF-8";p&&(u=JSON.stringify(u),C="application/json"),k||(c["Content-Type"]=C)}if(!u||"string"==typeof u||u instanceof Uint8Array||(u=new URLSearchParams(u).toString()),!w){try{var O=new URL(o);O.search=O.search||u,o=O.toString()}catch(e){console.error(e)}u=void 0}for(var P in f.open(i,o,!0),c)f.setRequestHeader(P,c[P]);if(d){if("number"!=typeof d)throw new a("timeout must be set to a number");f.timeout=1e3*d}f.responseType="arraybuffer",f.overrideMimeType("application/x-octet-stream");var{promise:x,resolve:T,reject:E}=b.defer(),j=e=>{h||window.setLoading(!1);var t=f.status,n=S(f,p,!1),r=e||f.statusText;r&&"error"!==r||(r=null),E(_(y.HttpError,[v(t),n,v(r)]))};return f.onload=()=>{var e=f.status;e>=200&&e<300||304===e?(h||window.setLoading(!1),T(S(f,p))):j()},f.onerror=()=>j(),f.ontimeout=()=>j("timeout"),h||window.setLoading(!0),f.send(u),g(x)})),y}},function(e,t,n){"use strict";var r=n(89),o=n(11),i=n(27),a=n(330),l=n(91);r("search",1,(function(e,t,n){return[function(t){var n=i(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=o(e),s=String(this),c=i.lastIndex;a(c,0)||(i.lastIndex=0);var p=l(i,s);return a(i.lastIndex,c)||(i.lastIndex=c),null===p?-1:p.index}]}))},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}n(0),n(16),n(70),n(46),n(10),n(3),n(73),n(39),n(60),n(61),n(2);var{anvilServerMod:o,anvilMod:i}=n(8),{builtin:{dict:a,str:l,func:s,property:c,none:{none$:p},method_descriptor:u,TypeError:d,ExternalError:f},ffi:{proxy:v,toPy:m,toJs:h},abstr:{lookupSpecial:g,setUpModuleMethods:_,typeName:y,objectSetItem:b},misceval:{objectRepr:k,isTrue:S,promiseToSuspension:w,chain:C,tryCatch:O,callsimOrSuspendArray:P}}=Sk;e.exports=function(){var e={__name__:new l("js")},t=n(1),p=t.callJs.bind(null,null),x=v({}),T=g(x,l.$new),E=x.constructor;function j(){var e;return e=function*(e){(e=e.toString()).startsWith("./_/theme/")&&(e=e.slice(1)),e.startsWith("/_/theme/")&&(e=window.anvilAppOrigin+e);var t=yield new Function("return import("+JSON.stringify(e)+")").call();return v(t)},j=function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function l(e){r(a,o,i,l,s,"next",e)}function s(e){r(a,o,i,l,s,"throw",e)}l(void 0)}))},j.apply(this,arguments)}var $=["__module__","__name__","__qualname__","__doc__","__annotations__"].map((e=>new l(e))),A=[new l("__dict__")],M=new l("update"),N=new l("__wrapped__");function L(e){window.onerror(null,null,null,null,e)}function I(e){throw L(e),e}
/*!defClass(anvil.js,!ExternalError, __builtins__..Exception)!*/
return E.prototype.__serialize__=new u(E,{$name:"__serialize__",$meth(e){var t=this.valueOf();if(t.constructor===Object){var n=new a([]);for(var r in this.js$wrapped)n.mp$ass_subscript(new l(r),m(t[r]));return n}throw new d("cannot serialize "+k(this))},$flags:{OneArg:!0}}),
/*!defClass(anvil.js,ProxyType)!*/
e.ProxyType=E,t.pyCall(o.portable_class,[E,new l("anvil.js.ProxyType")]),_("js",e,{
/*!defBuiltinFunction(anvil.js,!_,js_promise)!1*/
await_promise:{$name:"await_promise",$meth(e){var t=e.valueOf();return t instanceof Promise||t&&t.then&&"function"==typeof t.then?C(w(t),(e=>m(e,{dictHook:e=>v(e)}))):e},$flags:{OneArg:!0},$doc:"Await the result of a Javascript Promise in Python. This function will block until the promise resolves or rejects. If the promise resolves, it will return the resolved value. If the promise rejects, it will raise the rejected value as an exception"},
/*!defBuiltinFunction(anvil.js,!_,js_function_or_name,*args)!1*/
call_$rw$:{$name:"call",$meth(e){var t=e[0];return t&&t.constructor===x.constructor?P(t.tp$getattr(l.$call),e.slice(1)):p(...e)},$flags:{FastCall:!0,NoKwargs:!0},$doc:"Call a global Javascript function by name, translating arguments and return values from Python to Javascript."},
/*!defBuiltinFunction(anvil.js,!DOM node,component)!1*/
get_dom_node:{$name:"get_dom_node",$meth(e){if(e.anvil$hooks)return Sk.misceval.chain(e.anvil$hooks.setupDom(),v);if(e.valueOf()instanceof Element)return e;throw new d("get_dom_node expected an anvil Component or DOM node, (got ".concat(y(e),")"))},$flags:{OneArg:!0},$doc:"Returns the Javascript DOM node for an Anvil component. If a DOM node is passed to the function it will be returned. Anything else throws a TypeError"},
/*!defBuiltinFunction(anvil.js,!_,js_class,*args)!1*/
new_$rw$:{$name:"new",$meth(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P(T,t)},$flags:{MinArgs:1},$doc:"Given a Javascript class (aka function object) that's been passed into Python, construct a new instance of it."},
/*!defBuiltinFunction(anvil.js,!anvil.BlobMedia instance,blob,[content_type=""],[name=None])!1*/
to_media:{$name:"to_media",$meth(e,n,r){if(e=h(e),n=h(n),r=h(r),e instanceof Blob){if(e instanceof File)return t.pyCallOrSuspend(i.FileMedia,[e])}else if(Array.isArray(e)){var o;n||(n=null===(o=e[0])||void 0===o?void 0:o.type),e=new Blob(e,{type:n})}else{if(![ArrayBuffer,Uint8Array].includes(e.constructor))throw new d("got an unexpected type, anvil.js.to_media() expects a Blob, ArrayBuffer, Uint8Array or an Array of those types");e=new Blob([e],{type:n})}var a=r?[e,r]:[e];return t.pyCallOrSuspend(i.BlobMedia,a)},$doc:"Convert a javascript Blob, ArrayBuffer, Uint8Array or an Array of these types to an anvil BlobMedia object. If a Blob, or Array of Blobs, is passed the content_type will be inferred.",$flags:{NamedArgs:[null,"content_type","name"],Defaults:[Sk.builtin.str.$empty,Sk.builtin.none.none$]}},
/*!defBuiltinFunction(anvil.js,!function,wrapped_function)!1*/
report_exceptions:{$name:"report_exceptions",$meth(e){function n(n,r){return O((()=>t.pyCallOrSuspend(e,n,r)),L)}n.co_fastcall=!0;var r=new s(n);return $.forEach((t=>{var n=e.tp$getattr(t);void 0!==n&&r.tp$setattr(t,n)})),A.forEach((n=>{var o=e.tp$getattr(n)||new a([]),i=r.tp$getattr(n).tp$getattr(M);t.pyCall(i,[o])})),r.tp$setattr(N,e),r},$doc:"Use @anvil.js.report_exceptions as a decorator for any function used as a javascript callback. Error handling may be suppressed by an external javascript libary. This decorator makes sure that errors in your python code are reported.",$flags:{OneArg:!0}},
/*!defBuiltinFunction(anvil.js,!_,bool,[reraise=True])!1*/
report_all_exceptions:{$name:"report_all_exceptions",$meth(e,t){S(e)?S(t)?Sk.uncaughtException=I:Sk.uncaughtException=L:Sk.uncaughtException=void 0},$doc:"Set the default exception reporting behaviour for Python callbacks in Javascript.When set to True all exception will be reported by anvil and then re-raised within Javascript.\nThis may mean some exceptions are reported twice, but it ensures Exceptions in your Python code are reported correctly.\nIf reraise is to False, Exceptions raised in python code will be reported by Anvil, but not re-raised in Javascript. Instead the Python callback will return undefined to Javascript.",$flags:{NamedArgs:[null,"reraise"],Defaults:[!0]}},
/*!defBuiltinFunction(anvil.js,!Javascript Module,url)!1*/
import_from:{$name:"import_from",$meth:e=>w(function(e){return j.apply(this,arguments)}(e)),$doc:"use anvil.js.import_from(url) to dynamically import a Javascript Module. Accessing the attributes of a Javascript Module vary depending on the Module. See the documentation for examples",$flags:{OneArg:!0}}}),e.call_js=e.call_$rw$,e.window=v(window),b(Sk.sysmodules,new l("anvil.js.window"),e.window),e.ExternalError=f,e.ExternalError.prototype.original_error=new c(new s((e=>m(e.nativeError,{dictHook:e=>v(e)})))),e}},function(e,t,n){"use strict";n(0),n(70),n(46),n(10),n(51),n(32),n(60),n(61),n(2),n(106);var{anvilMod:r}=n(8);e.exports=function(){var e={__name__:new Sk.builtin.str("image")},t=n(1);function o(e){for(var t=atob(e.split(",")[1]),n=(e.split(",")[0].split(":")[1].split(";")[0],new ArrayBuffer(t.length)),r=new Uint8Array(n),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([n],{type:"image/jpeg"})}
/*!defClass(anvil.image,ImageException)!*/return e.ImageException=Sk.misceval.buildClass(e,(function(e,t){t.__init__=new Sk.builtin.func((function(e,t){return e.traceback=[],e.args=new Sk.builtin.list([t||Sk.ffi.remapToPy("Error loading image")]),Sk.builtin.none.none$}))}),"ImageException",[Sk.builtin.Exception]),e.get_dimensions=new Sk.builtin.func((function(n){var r=null,o=function(){r&&window.URL.revokeObjectURL(r),r=null};return Sk.misceval.chain(Sk.misceval.callsimOrSuspend(n.tp$getattr(new Sk.builtin.str("get_url"))),(function(e){if(e instanceof Sk.builtin.str)return e.v;var o,i=n._data instanceof Blob?n._data:Sk.misceval.chain(Sk.abstr.gattr(n,new Sk.builtin.str("content_type"),!0),(function(e){return o=e,Sk.misceval.callsimOrSuspend(Sk.abstr.gattr(n,new Sk.builtin.str("get_bytes")))}),(function(e){var n=t.getUint8ArrayFromPyBytes(e);return new Blob([n],{type:o.v})}));return Sk.misceval.chain(i,(function(e){return r=window.URL.createObjectURL(e)}))}),(function(n){return t.suspensionPromise((function(t,r){var i=new Image;i.onerror=function(){o(),r(Sk.misceval.callsim(e.ImageException,Sk.builtin.str("Failed to load URL")))},i.onload=function(){var e=new Sk.builtin.tuple([Sk.ffi.remapToPy(i.width),Sk.ffi.remapToPy(i.height)]);o(),t(e)},i.src=n}))}))})),e.generate_thumbnail=new Sk.builtin.func((function(e,n){return t.suspensionPromise((function(i,a){var l;t.asyncToPromise((function(){return t.getUrlForMedia(e)})).then((function(s){var c=(l=s).getUrl(),p=Sk.ffi.remapToJs(n),u=$("<img>"),d=u[0];d.onload=function(){var n,l=d.naturalWidth,s=d.naturalHeight;if((n=l>=s?p/l:p/s)>=1)i(e);else{var c=(n=Math.min(n,1))*l,u=n*s,f=$("<canvas>").attr("width",c).attr("height",u)[0];f.getContext("2d").drawImage(d,0,0,c,u);try{var v=f.toDataURL("image/jpeg",.8)}catch(e){if("SecurityError"==e.name)return void a(new Sk.builtin.RuntimeError("Cannot rotate image from untrusted cross-origin source."));throw e}var m=o(v),h=r.BlobMedia;i(t.callAsync(h,void 0,void 0,void 0,m))}},u.attr("src",c)})).catch(a).finally((function(){l&&l.release()}))}))})),e.rotate=new Sk.builtin.func((function(e,n){return Sk.misceval.chain(Sk.misceval.callsimOrSuspend(e.tp$getattr(new Sk.builtin.str("get_content_type"))),(i=>t.suspensionPromise((function(a,l){var s;t.asyncToPromise((function(){return t.getUrlForMedia(e)})).then((function(e){var c=(s=e).getUrl(),p=Sk.ffi.remapToJs(n)/180*Math.PI,u=$("<img>"),d=u[0];d.onload=function(){var e=d.naturalWidth,n=d.naturalHeight,s=Math.abs(n*Math.sin(p))+Math.abs(e*Math.cos(p)),c=Math.abs(e*Math.sin(p))+Math.abs(n*Math.cos(p)),u=$("<canvas>").attr("width",s).attr("height",c)[0],f=u.getContext("2d");f.translate(s/2,c/2),f.rotate(p),f.translate(-e/2,-n/2),f.drawImage(d,0,0,e,n);try{var v=u.toDataURL(Sk.ffi.remapToJs(i))}catch(e){if("SecurityError"==e.name)return void l(new Sk.builtin.RuntimeError("Cannot rotate image from untrusted cross-origin source."));throw e}var m=o(v),h=r.BlobMedia;a(t.callAsync(h,void 0,void 0,void 0,m))},u.attr("src",c)})).catch(l).finally((function(){s&&s.release()}))}))))})),e}},function(e,t,n){"use strict";n(0),n(3),n(2);var{anvilMod:r}=n(8);e.exports=function(){var e=n(1),{builtin:{bool:t,none:{none$:o},str:i,TypeError:a,checkNone:l,isinstance:s},abstr:{typeName:c},ffi:{toPy:p},misceval:{isTrue:u,chain:d}}=Sk,f={__name__:new i("media"),TempFile:new Sk.builtin.func((()=>{throw new Sk.builtin.RuntimeError("Cannot create files from Media objects on the client.")})),from_file:new Sk.builtin.func((()=>{throw new Sk.builtin.RuntimeError("Cannot create Media objects from files on the client.")}))};Sk.abstr.setUpModuleMethods("media",f,{
/*!defBuiltinFunction(anvil.media,!,media)!1*/
print_media:{$name:"print_media",$meth:t=>d(e.getUrlForMedia(t),(e=>{if(!t.tp$getattr(new i("name"))||!e.getUrl())throw new a("Argument to anvil.media.print() must be a Media object");var n=document.createElement("a");return document.body.appendChild(n),n.href="javascript:void(0)",n.onclick=()=>{var t=window.open(e.getUrl());t.onload=()=>{t.print(),setTimeout((()=>{e.release(),document.body.removeChild(n)}),0)}},n.click(),o})),$flags:{OneArg:!0},$doc:"Print the given Media Object immediately in the user's browser.",$textsig:"($module, /, media_object)"},
/*!defBuiltinFunction(anvil.media,!,media)!1*/
download:{$name:"download",$meth:t=>d(e.getUrlForMedia(t),(e=>{var n=t.tp$getattr(new i("name"));if(!n||!e.getUrl())throw new a("Argument to anvil.download() must be a Media object, not "+c(t));var r=(null==n?void 0:n.toString())||"untitled";if(window.navigator.msSaveOrOpenBlob&&e.blob)window.navigator.msSaveOrOpenBlob(e.blob,r),e.release();else{var o=document.createElement("a");document.body.appendChild(o),o.href=e.getUrl(),o.download=r,o.click(),setTimeout((()=>{e.release(),document.body.removeChild(o)}),0)}return Sk.builtin.none.none$})),$flags:{OneArg:!0},$doc:"Download the given Media Object immediately in the user's browser.",$textsig:"($module, /, media_object)"}}),f.TempUrl=Sk.abstr.buildNativeClass("anvil.media.TempUrl",{constructor:function(){},slots:{tp$init(t,n){Sk.abstr.checkOneArg("TempUrl",t);var[r]=t;if(!u(s(r,v)))throw new a("expected a Media object, got ".concat(c(r)));this.handle=e.getUrlForMedia(r,n)}},methods:{
/*!defBuiltinMethod(url)!1*/
__enter__:{$name:"__enter__",$meth(){return p(this.handle.getUrl())},$flags:{NoArgs:!0},$doc:"get the url using a 'with' block."},
/*!defBuiltinMethod(_)!1*/
__exit__:{$name:"__exit__",$meth(e,n,r){return this.handle.release(),new t(l(e))},$flags:{MinArgs:3,MaxArgs:3},$doc:"Revoke a url when exiting a 'with' block"},
/*!defBuiltinMethod(_)!1*/
revoke:{$name:"revoke",$meth(){return p(this.handle.release())},$flags:{NoArgs:!0},$doc:"revoke a url from a media object"}},getsets:{url:{$get(){return p(this.handle.getUrl())}}}}),r.download=f.download;var v=r.Media;return f}},function(e,t,n){"use strict";var r=Sk.abstr.buildNativeClass("DummyObject",{constructor:function(){},slots:{tp$getattr(e,t){return this},tp$call(e,t){return e[0]||this}}});e.exports=function(){return{__name__:new Sk.builtin.str("code_completion_hints"),__getattr__:new Sk.builtin.func((()=>new r))}}},function(e,t,n){"use strict";n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.registerModule=function(e,t,n){i((()=>{var o=function(e){var t,n=new r.pyStr(e),o=Sk.sysmodules.quick$lookup(n);if(o)return o;try{t=Sk.importModule(e,!1,!0)}catch(e){(t=new r.pyModule).init$dict(n,r.pyNone)}t instanceof r.Suspension&&(t=(0,r.retryOptionalSuspensionOrThrow)(t));return Sk.sysmodules.mp$ass_subscript(n,t),t}(e);Object.assign(o.$d,t),a[e]={pyMod:o,spec:n}}))},t.customToolboxSections=t.jsCustomComponents=t.addJsModuleHook=t.registerJsPythonModules=void 0;var r=n(6),o=[];t.registerJsPythonModules=()=>{null==o||o.forEach((e=>e()))};var i=e=>o?o.push(e):e();t.addJsModuleHook=i;var a={};t.jsCustomComponents=a;t.customToolboxSections=[]},function(e,t,n){"use strict";n(0),n(19),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getSpacingObject=t.pyPropertyUtilsApi=void 0;var r=n(6),o=n(129),i=n(346);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={__name__:new r.pyStr("property_utils"),anvil_property:i.anvil_property};t.pyPropertyUtilsApi=c;var p=Sk.abstr.buildNativeClass("anvil.InstantiatorFunction",{constructor:function(e){this.anvil$underlyingInstantiator=e},slots:{tp$call(e,t){if(e.length>1||e[0]&&!(0,r.checkString)(e[0])&&!Sk.builtin.checkNumber(e[0]))throw new r.pyValueError("Instantiator functions take one positional argument, which must be a string or number");return this.anvil$underlyingInstantiator(t,e[0]?(0,r.toJs)(e[0]):void 0)},tp$richcompare(e,t){if("Eq"===t){var n=this.anvil$underlyingInstantiator.anvil$instantiatorForForm,o=e instanceof p&&e.anvil$underlyingInstantiator.anvil$instantiatorForForm;return n&&o&&n.depId===o.depId&&n.formName===o.formName}return r.pyNotImplemented}}}),u=e=>"number"==typeof e||"string"==typeof e&&"".concat(parseFloat(e))===e?"".concat(e,"px"):"string"==typeof e?e:"inherit",d=(e,t)=>{var[n,r,o,i]="number"==typeof e||"string"==typeof e?[e,e,e,e]:e?2===e.length?[e[0],e[1],e[0],e[1]]:[e[0],e[1],e[2],e[3]]:[null,null,null,null];return{["".concat(t,"Top")]:u(n),["".concat(t,"Right")]:u(r),["".concat(t,"Bottom")]:u(o),["".concat(t,"Left")]:u(i)}};t.getSpacingObject=d,(0,r.setUpModuleMethods)("property_utils",c,{get_form_constructor:{$meth:(e,t,n)=>(null==t?void 0:t.anvil$underlyingInstantiator)?t:(0,r.chainOrSuspend)((0,o.getFormInstantiator)({requestingComponent:e},t,{preferLiveDesign:(0,r.isTrue)(n)}),(e=>new p(e))),$flags:{NamedArgs:["parent_form","property_value","prefer_live_design"],Defaults:[r.pyTrue]}},get_margin_styles:{$meth:e=>(0,r.toPy)(d((0,r.toJs)(e),"margin")),$flags:{NamedArgs:["margin"]}},get_padding_styles:{$meth:e=>(0,r.toPy)(d((0,r.toJs)(e),"padding")),$flags:{NamedArgs:["padding"]}},get_spacing_styles:{$meth(e){var t=(0,r.toJs)(e);return(0,r.toPy)(l(l({},d(t.margin,"margin")),d(t.padding,"padding")))},$flags:{NamedArgs:["spacing"]}},set_element_margin:{$meth(e,t){var n=(0,r.toJs)(e);return Object.assign(n.style,d((0,r.toJs)(t),"margin")),r.pyNone},$flags:{NamedArgs:["element","margin"]}},set_element_padding:{$meth(e,t){var n=(0,r.toJs)(e);return Object.assign(n.style,d((0,r.toJs)(t),"padding")),r.pyNone},$flags:{NamedArgs:["element","padding"]}},set_element_spacing:{$meth(e,t){var n=(0,r.toJs)(e),o=(0,r.toJs)(t);return Object.assign(n.style,d(null==o?void 0:o.margin,"margin"),d(null==o?void 0:o.padding,"padding")),r.pyNone},$flags:{NamedArgs:["element","spacing"]}}})},function(e,t,n){"use strict";n(57),Object.defineProperty(t,"__esModule",{value:!0}),t.PY_COMPONENT=t.JS_COMPONENT=void 0;var r=Symbol();t.JS_COMPONENT=r;var o=Symbol();t.PY_COMPONENT=o},function(e,t,n){"use strict";n(0),n(10),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.asJsComponent=function(e){if(c(e))return e[o.JS_COMPONENT];var t=l.get(e);void 0===t&&(t=new s(e),l.set(e,t));return t},t.maybeSuspend=t.returnToPy=t.WrappedPyComponent=t.toPyComponent=t.fail=t.assert=void 0;var r=n(6),o=n(337);function i(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var a=(e,t)=>{if(!e)throw new Error(null!=t?t:"fail")};t.assert=a;t.fail=e=>{throw new Error(null!=e?e:"fail")};t.toPyComponent=e=>{var t=e[o.PY_COMPONENT];return a(t,"found a JsComponent without a py component wrapper"),t};var l=new WeakMap;class s{constructor(e){var t,n,r;t=this,n=o.PY_COMPONENT,r=void 0,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this[o.PY_COMPONENT]=e}_anvilSetupDom(){var e,t=this;return(e=function*(){return(0,r.suspensionToPromise)((()=>t[o.PY_COMPONENT].anvil$hooks.setupDom()))},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))})()}get _anvilDomElement(){return this[o.PY_COMPONENT].anvil$hooks.domElement}}t.WrappedPyComponent=s;var c=e=>!!e[o.JS_COMPONENT];t.returnToPy=e=>e instanceof Promise?(0,r.chainOrSuspend)((0,r.promiseToSuspension)(e),r.toPy):(0,r.toPy)(e);t.maybeSuspend=e=>e instanceof Promise?(0,r.promiseToSuspension)(e):e},,,,function(e,t,n){e.exports=n(343)},function(e,t,n){"use strict";n(230),n(177),n(246),n(253),n(255),n(256),n(260),n(264),n(267);var r=n(74),o=s(n(229)),i=s(n(344)),a=s(n(159));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function c(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,{builtin:{func:f,none:{none$:v},str:m,exec:h,print:g,KeyboardInterrupt:_},builtins:y,misceval:{objectRepr:b,asyncToPromise:k},ffi:{toPy:S}}=Sk,w=!1,C=!1,O=Symbol("seen"),P=90;function x(){if(C)throw setTimeout((()=>C=!1),2*P),new _}function T(){return w=!0,v}function E(e,t){var n=setInterval((()=>{C&&(clearInterval(n),clearTimeout(r),e())}),Math.min(t/4,P)),r=setTimeout((()=>{clearInterval(n),e()}),t)}var j=function(){};function A(){if(void 0===d){var e=Sk.sysmodules.quick$lookup(new m("anvil")),t=new f(T);d={__file__:S("<repl>"),__name__:S("repl"),clear:t,__package__:new m(window.anvilAppMainPackage)},e&&Object.assign(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anvil:e},e.$d))}}function M(){var e;return e=function*(e){C=!1;var t=Sk.setTimeout;Sk.lastYield=Sk.execStart=Date.now(),Sk.setTimeout=E;try{return yield e()}catch(e){throw j(),e}finally{Sk.setTimeout=t}},M=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))},M.apply(this,arguments)}var N={"*":()=>x(),"Sk.promise":e=>{x(),e.data[O]||(e.data[O]=!0,e.data.promise.then((e=>(x(),e))))}};window.messages={requestHeight:function(){i.hardResize()},replCommand:function(e){var[t]=e;A();var[n,r]=function(e){var t=e.trimEnd()||"None",n=!1;try{var r=Sk.parse("<repl>",t),o=Sk.astFromParse(r.cst,"?",r.flags),i=o.body[o.body.length-1];if(i instanceof Sk.astnodes.Expr){var a=t.split("\n"),l=a[i.lineno-1],s=i.col_offset;a[i.lineno-1]=l.slice(0,s)+"__last_ret__ = "+l.slice(s),t=a.join("\n"),n=!0}}catch(e){}return[t,n]}(t);return function(e){return M.apply(this,arguments)}((()=>k((()=>h(n,d)),N).then((()=>function(e){if(e&&d.__last_ret__!==v&&void 0!==d.__last_ret__&&(y._=d.__last_ret__,g([b(y._)])),w)return w=!1,{clear:!0}}(r)))))},replInterrupt:function(){C=!0},appChanged:function(){var e=document.createElement("div");e.style.cssText="\nbackground: #ffd;\ncolor: #333;\ntext-align: center;\nborder-bottom: 1px solid rgba(0, 0, 0, 0.2);\nposition: absolute;\nleft: 0;\ntop: 0;\nwidth: 100%;\nz-index: 100;\ndisplay: inline-flex;\njustify-content: center;\n",e.textContent="The app has changed since you ran it. ",document.body.prepend(e);var t=document.createElement("div");t.setAttribute("role","button"),t.style.color="#1BB0EE",t.style.cursor="pointer",t.textContent="Click here to restart",e.appendChild(t),e.appendChild(document.createTextNode(".")),t.onclick=()=>L({fn:"restartApp"});var n=document.createElement("div");n.setAttribute("role","button"),n.style.position="absolute",n.style.right="10px",n.style.fontWeight="bold",n.style.cursor="pointer",n.textContent="✕",n.onclick=()=>e.remove(),e.appendChild(n)},locationReload:function(){window.location.replace(...arguments)}},n(207),o.setHooks({onPythonException:e=>{L(e)},onRuntimeError:(e,t,n,r,o)=>L({error:"Runtime error",fn:"runtimeError",msg:e,url:t,line:n,col:r,stackTrace:o&&o.stack}),onUncaughtRuntimeError:e=>{var t=window.anvilSessionToken;$.post(r.data.appOrigin+"/_/log?s="+t,{eventType:"runtimeError",event:e})}});var L=e=>{var t;if(window.parent!==window?t=window.parent:window.opener&&(t=window.opener),t)try{t.postMessage(e,r.data.serverParams.ideOrigin)}catch(e){}};a.setHooks({onStdout:(e,t)=>{L({fn:"stdout",text:e,fromServer:t})},onUpdateReplState:e=>{L({fn:"replStateUpdate",replStateUpdate:e})}}),i.setHooks({onLoadedApp:()=>{if(r.data.serverParams.inIDE){var e=document.title;document.title="Debug: "+e,window.parent!==window&&$("#error-indicator").remove(),$("#session-expired-modal button.refresh").remove(),L({fn:"newAppSession",sessionToken:window.anvilSessionToken}),function(){var e,t=Sk.output,n=null,r=void 0;j=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;clearTimeout(r),C||null===n||t(n),n=null,e=o},Sk.output=(o,i)=>{var a;if(C)j();else{if(i)return j(),void t(o,i);var l=Date.now();null!==(a=n)&&void 0!==a||(n=""),n+=o,e?l-e>P?j(l):(clearTimeout(r),r=setTimeout(j,P/4)):j(l)}};var o=window.onerror;window.onerror=function(){j(),o(...arguments)}}(),Sk.yieldLimit=500}else $.post(window.anvilAppOrigin+"/_/log?s="+window.anvilSessionToken,{eventType:"runApp",event:{hostname:window.location.hostname}})}})},function(e,t,n){"use strict";n(57),n(13),n(0),n(16),n(10),n(3),n(20),n(32),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setHooks=function(e){k=e},t.hardResize=function(){S=-1,w()};var r=n(74);n(207),n(272);var o=n(229),i=n(159),a=g(n(1)),l=n(345),s=g(n(352)),c=n(356),p=n(6),u=n(8),d=n(9),f=n(130),v=n(163),m=n(228);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}console.log("Loading runner v2"),navigator.userAgent.indexOf("Trident/")>-1&&(window.isIE=!0);var b={};window.memoise=(e,t)=>()=>b[e]||(b[e]=t()),window.PyDefUtils=a,window.anvilCurrentlyConstructingForms=[];var k={};window.setLoading=v.setLoading;var S=-1;function w(){var e=a.calculateHeight();e!=S&&(window.parent.postMessage({fn:"newAppHeight",newHeight:e+50},"*"),S=e)}function C(){var e;return e=function*(e,t){if(!e)throw new p.pyRuntimeError("This app has no startup form or module. To run this app you need to set one.");var n=[],r=[];if(t){var o=null!=t?t:{},{media:i}=o,l=_(o,["media"]),s={};for(var c of null!==(d=l.objects)&&void 0!==d?d:[]){var d,f;if("DataMedia"===(null===(f=c.type)||void 0===f?void 0:f[0])){var{id:v,"mime-type":h,path:g,name:y}=c,b=yield fetch("data:".concat(h,";base64,")+i[v]);s[v]={mime_type:h,path:g,content:[yield b.blob()],name:y}}}var{args:k,kwargs:S}=yield(0,m.reconstructObjects)(l,s);for(var[w,C]of(n=k.map(p.toPy),Object.entries(S)))r.push(w,(0,p.toPy)(C))}return yield a.callAsync(u.anvilMod.open_form,void 0,void 0,r,new Sk.builtin.str(e),...n)},C=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,l,"next",e)}function l(e){y(i,r,o,a,l,"throw",e)}a(void 0)}))},C.apply(this,arguments)}var O=!1;window.loadApp=function(e,t){var n,o;if((0,r.setData)(e),(0,d.setLegacyOptions)(e.app.runtime_options),O)return console.log("Rejected duplicate app load"),{};"serviceWorker"in navigator&&navigator.serviceWorker.register("".concat(r.data.appOrigin,"/_/service-worker").concat(e.inIDE?"?inIDE=1":""),{scope:"".concat(r.data.appOrigin)}).catch((e=>{console.error("Service worker registration failed:",e)}));!function(e){(0,v.setLoading)(!0,{animate:!1}),new MutationObserver(w).observe($("#appGoesHere")[0],{childList:!0,subtree:!0}),$(window).on("resize",w);var t=new MutationObserver(w);$(document).on("shown.bs.modal",".modal",(function(){t.observe(this,{childList:!0,subtree:!0}),w()})).on("hidden.bs.modal",".modal",(()=>{$(".modal:visible").length||t.disconnect(),w()}));var n=r.data.appPackage,o={},a=(e,t,n)=>{if(t)return"app/"+n+"/"+e.replace(/\./g,"/")+"/__init__.py";var r=e.split(".");return"app/"+n+"/"+r.slice(0,-1).map((e=>e+"/")).join("")+r[r.length-1]+".py"},s=(e,t)=>{for(var n of e.forms)o[a(n.class_name,n.is_package,t)]=n.code;for(var r of e.modules)o[a(r.name,r.is_package,t)]=r.code},c=[],p=[];for(var[u,d]of Object.entries(r.data.app.dependency_code))d.package_name&&(-1==p.indexOf(d.package_name)?(s(d,d.package_name),p.push(d.package_name)):c.push("Cannot have two dependencies with the same package name: ".concat(d.package_name)));-1==p.indexOf(n)?s(r.data.app,n):c.push("App cannot have the same package name as one of its dependencies: ".concat(n));var m={};$.migrateWarnings={push:e=>{m[e]||($.migrateMute=!1,e&&e.indexOf("jQuery.isFunction()")>-1?$.migrateMute=!0:(m[e]=!0,(0,f.warn)("WARNING: This application uses deprecated jQuery 2.2 features. Please see the Javascript console for more details. Error: "+e),(0,i.logEvent)({warning:{type:"jquery2-deprecation",msg:e}})))}},(0,l.setupPythonEnvironment)(e),(0,v.setLoading)(!1)}(t);return O=!0,r.data.serverParams.consoleMessage&&console.log(r.data.serverParams.consoleMessage),null===(n=(o=k).onLoadedApp)||void 0===n||n.call(o),{}},window.openForm=function(e,t){return C.apply(this,arguments)},window.openMainModule=function(e){var t=r.data.appPackage+"."+e;return window.anvilAppMainModule=e,Sk.misceval.asyncToPromise((()=>Sk.importModuleInternal_(t,!1,"__main__",void 0,void 0,!1,!0))).catch((e=>window.onerror(void 0,void 0,void 0,void 0,e)))},window.printComponents=function(e,t){var n=window.outstandingPrintDelayPromises={};return a.asyncToPromise((()=>{var r=u.anvilMod.open_form,o=u.anvilServerMod.call;return Sk.misceval.chain((0,p.pyCallOrSuspend)(o,[new p.pyStr("anvil.private.pdf.get_component"),new p.pyStr(e),new p.pyStr(t)]),(e=>Sk.misceval.applyOrSuspend(r,e.v[1],void 0,[],e.v[0].v)),(()=>($("#loadingSpinner").hide(),console.log("Print delay promises: ".concat(JSON.stringify(Object.keys(n)))),Object.values(n).map((e=>e.promise)))))})).then((e=>Promise.all(e))).then((()=>{delete window.outstandingPrintDelayPromises,console.log("READY_TO_PRINT")})).catch((e=>{var t;if(e instanceof Sk.builtin.BaseException){if(t={type:(0,o.isCustomAnvilError)(e)&&e._anvil.errorObj.type||e.tp$name,message:(0,p.toJs)(e.args.v[0]||""),trace:[]},e.traceback)for(var n of e.traceback)t.trace.push([n.filename,n.lineno])}else t={message:e.toString(),trace:[]};console.log("PRINT_ERROR",JSON.stringify(t))})).catch((e=>{console.log("PRINT_ERROR",JSON.stringify({type:"UnexpectedError",message:e.toString()}))}))},$(window).on("_anvil-call",(function(e,t,n){var r,o=" Got "+(null!==(r=this[Symbol.toStringTag])&&void 0!==r?r:this)+" element.";n(new Sk.builtin.RuntimeError("anvil.call() first argument should be a child DOM element of the Form instance you wish to call the function on. The DOM element provided has no parent Form instance."+o))})),window.anvil={call:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0!=$(e).length)return new Promise((function(t,r){$(e).trigger("_anvil-call",[t,r].concat(n))}));console.error("Cannot call anvil function on HTML Panel:",e,"Did you forget to supply 'this' as the first argument to anvil.call?")},registerSolidComponent:c.registerSolidComponent,solidComponents:c.solidComponents,_jsComponentApi:s,_loadAppAfter:[],deferLoad(){var e;return window.anvil._loadAppAfter.push(new Promise(((t,n)=>{e=t}))),e}}},function(e,t,n){"use strict";n(13),n(0),n(19),n(10),n(3),n(20),n(32),n(39),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.setupPythonEnvironment=function(e){var t,i;Sk.configure({output:v.stdout,read:y,syspath:["app","anvil-services"],__future__:"3"==(null===(t=u.data.app.runtime_options)||void 0===t?void 0:t.client_version)?Sk.python3:Sk.python2}),Sk.importSetUpPath();var f=function(){var e=n(318)(u.data.appOrigin,d.uncaughtExceptions);l.defineSystemComponents(e),a.loadModule("anvil",e);var t=n(319)();a.loadModule("base64",t);var r=n(320)();a.loadModule("anvil.xml",r);var i=n(321)();a.loadModule("anvil.regex",i);var s=n(322)();a.loadModule("anvil.tz",s);var p=n(323)();a.loadModule("anvil.shapes",p);var f=n(324)(u.data.appId,u.data.appOrigin);(0,v.provideLoggingImpl)(f.log),a.loadModule("anvil.server",f.pyMod);var m=n(328)();a.loadModule("anvil.http",m);var h=n(331)();a.loadModule("anvil.js",h);var g=n(332)();a.loadModule("anvil.image",g);var _=n(333)();a.loadModule("anvil.media",_),a.loadModule("anvil.code_completion_hints",n(334)()),a.loadModule("anvil.designer",c.pyDesignerApi),a.loadModule("anvil.property_utils",o.pyPropertyUtilsApi);try{Sk.misceval.retryOptionalSuspensionOrThrow(Sk.importModule("anvil.tables",!1,!0))}catch(e){console.log("Failed to preload anvil.tables",e)}return e}();for(var h of(f.Component=s.Component,f.Container=r.Container,f.HtmlTemplate.$_anvilThemeAssets=(null===(i=u.data.app.theme)||void 0===i?void 0:i.html)||{},e||[]))Sk.misceval.retryOptionalSuspensionOrThrow(Sk.importModule(h,!1,!0));for(var[g,k]of(function(){var e=e=>{a.loadModule(e,{__name__:new Sk.builtin.str(e),__path__:new Sk.builtin.tuple([new Sk.builtin.str("app/"+e)]),__package__:new Sk.builtin.str(e)})},t=(e,t,n)=>"app/"+n+"/"+e.replace(/\./g,"/")+(t?"/__init__.py":".py"),n=(e,n)=>{for(var r of e.forms||[])_[t(r.class_name,r.is_package,n)]=r.code;for(var o of e.modules||[])_[t(o.name,o.is_package,n)]=o.code},r=[],o=[];e(u.data.appPackage);var i=function(t,i){if(!i.package_name)return"continue";if(e(i.package_name),-1==o.indexOf(i.package_name))n(i,i.package_name),o.push(i.package_name);else{var a,l,s,c=Object.entries(u.data.app.dependency_code).filter((e=>{var[t,{package_name:n}]=e;return n===i.package_name})).map((e=>{var[t,n]=e;return t})),p="This app has ".concat(c.length,' conflicting dependencies with the package name "').concat(i.package_name,'" (').concat(c.join(", "),").");(null!==(a=null===(l=u.data.app.runtime_options)||void 0===l?void 0:l.version)&&void 0!==a?a:0)<3&&!(null===(s=u.data.app.runtime_options)||void 0===s?void 0:s.preview_v3)?(0,m.warn)("Warning: "+p+"This may cause errors in your app, and will be an error in future.\n"):r.push(p)}};for(var[l,s]of Object.entries(u.data.app.dependency_code))i(0,s);-1==o.indexOf(u.data.appPackage)?n(u.data.app,u.data.appPackage):r.push("App cannot have the same package name as one of its dependencies: ".concat(u.data.appPackage));if(0!==r.length)throw new Sk.builtin.Exception(r.join("\n"))}(),(0,p.registerJsPythonModules)(),Object.entries(u.data.app.dependency_code)))k.package_name&&b(k,g,k.package_name,f);b(u.data.app,null,u.data.appPackage,f)},t.skulptFiles=void 0;var r=n(30),o=n(336),i=n(6),a=g(n(1)),l=g(n(273)),s=n(28),c=n(208),p=n(335),u=n(74),d=n(229),f=n(347),v=n(159),m=n(130);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var _={};function y(e){var t;if(e in _)return _[e];var n=null===(t=Sk.builtinFiles)||void 0===t?void 0:t.files[e];if(void 0===n)throw"File not found: '"+e+"'";return"number"==typeof n?Sk.misceval.promiseToSuspension(new Promise(((t,r)=>{var o=new XMLHttpRequest,i=window.anvilSkulptLib[n];o.open("GET",i,!0),o.onload=function(){var n=JSON.parse(this.responseText);Object.assign(Sk.builtinFiles.files,n),t(n[e])},o.onerror=r,o.send()}))):n}function b(e,t,n,r){var o,l=((null===(o=e.runtime_options)||void 0===o?void 0:o.version)||0)<2&&function(e,t){var n=$.extend({},e);n.__all__=new i.pyList(Object.keys(n).filter((e=>!e.startsWith("_"))).map((e=>new i.pyStr(e)))),a.loadModule(t+".anvil",n);for(var r=(0,i.pyCall)(Sk.sysmodules.tp$getattr(new i.pyStr("copy"))),o=Sk.abstr.iter(r),l=o.tp$iternext();void 0!==l;l=o.tp$iternext())if(l.toString().startsWith("anvil.")){var s=Sk.sysmodules.mp$subscript(l);s.$d?a.loadModule(t+"."+l,s.$d):Sk.abstr.objectSetItem(Sk.sysmodules,new Sk.builtin.str(t+"."+l),s)}return n}(r,n);for(var s of e.forms||[]){var c=s.class_name.split("."),p=c[c.length-1];s.is_package||c.pop();c.join(".");var u=c.join("/")+(c.length?"/":""),d="app/".concat(n,"/").concat(u,"_anvil_designer.js"),v=_[d]||"function $builtinmodule(mod) { /*INSERT*/ return mod; };",m=window.anvilFormTemplates;_[d]=v.replace(/\/\*INSERT\*\//,"/*INSERT*/ mod['".concat(p,"Template'] = window.anvilFormTemplates[").concat(m.length,"];"));var h=(0,f.createFormTemplateClass)(s,t,p,r);m[m.length]=h,l&&(l["".concat(p,"Template")]=h,l.__all__.v.push(new i.pyStr("".concat(p,"Template"))))}}t.skulptFiles=_,window.anvilFormTemplates=[]},function(e,t,n){"use strict";n(13),n(0),n(62),n(3),n(73),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.anvil_property=void 0;var r=n(6),o=n(8),i=new r.pyStr("name"),a=new r.pyStr("fset"),l=new r.pyStr("setter"),s=new r.pyStr("fget"),c=new r.pyStr("update"),p=Object.prototype.hasOwnProperty,u=["string","number","boolean","text[]","enum","form","object","dict","color","icon","themeRole","uri","html","recordType","margin","padding","spacing"],d=r.pyDict.tp$getattr(c),f=function(){for(var e=new r.pyDict,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(var i of n)(0,r.pyCall)(d,[e,i]);return e},v=(0,r.buildNativeClass)("anvil.designer.anvil_property",{constructor:function(e,t){this.descriptors=null!=e?e:new r.pyDict,this.property=null!=t?t:new r.pyProperty},slots:{tp$new:Sk.generic.new,tp$init(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=null==t?void 0:t.includes("type");if(e.length){if(e.length>1)throw new r.pyTypeError("anvil_property takes at most 1 position arg, but ".concat(e.length," were given"));if(n)throw new r.pyTypeError("got multiple arguments for type");t.push("type",e[0])}else if(!n)throw new r.pyTypeError("anvil_property() missing 1 required positional argument: 'type'");var o,i=t[t.indexOf("type")+1];if(!(0,r.checkString)(i))throw new r.pyTypeError("Invalid property type, expected a string, got '".concat((0,r.typeName)(i),"'"));if(o=i.toString(),!u.includes(o))throw new r.pyValueError("Invalid property type, got '".concat(i,"'"));this.descriptors=(0,r.keywordArrayToPyDict)(t)},tp$call(e,t){return this.property=(0,r.pyCall)(r.pyProperty,e,t),this},tp$descr_get(e,t,n){return this.property.tp$descr_get(e,t,!!n)},tp$descr_set(e,t,n){return this.property.tp$descr_set(e,t,!!n)}},methods:{setter:{$meth(e){var t=this.property.tp$getattr(l),n=(0,r.pyCall)(t,[e]);return this.property=n,this},$flags:{OneArg:!0}},__set_name__:{$meth(e,t){var n,a;(this.descriptors.mp$ass_subscript(i,t),p.call(e.prototype,o.s_anvil_properties.toString()))?n=e.tp$getattr(o.s_anvil_properties):(n=(0,r.pyCall)(r.pyList,[null!==(a=e.tp$getattr(o.s_anvil_properties))&&void 0!==a?a:new r.pyList]),e.tp$setattr(o.s_anvil_properties,n));try{((e,t)=>{for(var n=(0,r.toJs)(t.quick$lookup(i)),o=e.valueOf(),a=0;a<o.length;a++){var l=o[a];if((0,r.toJs)(l.quick$lookup(i))===n)return void o.splice(a,1,f(l,t))}o.push(t)})(n,this.descriptors)}catch(e){}return r.pyNone},$flags:{MinArgs:2,MaxArgs:2}}},getsets:{fget:{$get(){return this.property.tp$getattr(s)}},fset:{$get(){return this.property.tp$getattr(a)}}},flags:{sk$acceptable_as_base_class:!1}});t.anvil_property=v},function(module,exports,__webpack_require__){"use strict";__webpack_require__(57),__webpack_require__(348),__webpack_require__(0),__webpack_require__(350),__webpack_require__(19),__webpack_require__(56),__webpack_require__(3),__webpack_require__(73),__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.setupPassiveHooks=setupPassiveHooks,exports.createFormTemplateClass=exports.ITEM_PROPERTY=exports.FORM_EVENT_NAMES=exports.FORM_EVENTS=exports.FORM_REFRESH_DATA_BINDINGS_EVENT=exports.FORM_HIDE_EVENT=exports.FORM_SHOW_EVENT=void 0;var _Sk=__webpack_require__(6),_Component=__webpack_require__(28),PyDefUtils=_interopRequireWildcard(__webpack_require__(1)),_componentCreation=__webpack_require__(351),_errorHandling=__webpack_require__(229),_instantiation=__webpack_require__(129),_pyUtil=__webpack_require__(8),_pythonObjects=__webpack_require__(219);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){asyncGeneratorStep(i,r,o,a,l,"next",e)}function l(e){asyncGeneratorStep(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var walkComponents=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e=>{var n;t(e),null===(n=e.components)||void 0===n||n.forEach(i)};e.container?(null==o||o(e.container),null===(n=e.components)||void 0===n||n.forEach(i)):(null==o||o(e.layout),Object.values(null!==(r=e.components_by_slot)&&void 0!==r?r:[]).flat().forEach(i))};function cleanPropertyDescriptions(e){var t;return null!==(t=null==e?void 0:e.map((e=>{var{name:t,type:n,default_value:r,description:o,important:i,group:a,options:l,accept:s,multiline:c,allow_binding_writeback:p,include_none_option:u,none_option_label:d,priority:f,designer_hint:v,default_binding_prop:m}=e;return{name:t,type:n,defaultValue:r,description:o,important:i,options:l,accept:s,multiline:c,group:a,supportsWriteback:p,includeNoneOption:u,noneOptionLabel:d,priority:null!=f?parseFloat(f):void 0,designerHint:v,defaultBindingProp:m}})))&&void 0!==t?t:[]}function cleanEventDescriptions(e){var t;return null!==(t=null==e?void 0:e.map((e=>{var{name:t,description:n,parameters:r,default_event:o}=e;return{name:t,description:n,parameters:r,defaultEvent:o}})))&&void 0!==t?t:[]}var isComponent=e=>"name"in e,setupDataBindings=yaml=>{var dataBindings={},walk=component=>{var thisComponentBindings=[];for(var binding of component.data_bindings||[])if(binding.code){var readCode="def update_val(self, _anvil_component):\n  _anvil_component."+binding.property+" = "+binding.code+"\ndef clear_val(self, _anvil_component):\n  _anvil_component."+binding.property+" = None\n",writeCode=binding.writeback?"def save_val(self, _anvil_component):\n  "+binding.code+" = _anvil_component."+binding.property+"\n":"",modlocs=void 0,bmod=void 0;try{bmod=Sk.compile(readCode+writeCode,"update_binding.py","exec",!0)}catch(e){var name=isComponent(component)?"self.".concat(component.name):"self";if(binding.writeback){var readCompiledOk=!1;try{Sk.compile(readCode,"update_binding.py","exec",!0),readCompiledOk=!0}catch(e){}if(readCompiledOk)throw new Sk.builtin.SyntaxError("Can't assign to data binding expression for "+name+"."+binding.property+" in "+yaml.class_name+", but writeback is enabled for this data binding.")}throw new Sk.builtin.SyntaxError("Syntax error in data binding for ".concat(name,".").concat(binding.property," in form ").concat(yaml.class_name))}modlocs=eval(bmod.code+"\n"+bmod.funcname+"({__name__: new Sk.builtin.str('update_binding')});\n"),modlocs=Sk.misceval.retryOptionalSuspensionOrThrow(modlocs),thisComponentBindings.push(_objectSpread({pyUpdate:modlocs.update_val,pyClear:modlocs.clear_val,pySave:modlocs.save_val},binding))}dataBindings[isComponent(component)?component.name:""]=thisComponentBindings};return walkComponents(yaml,walk,walk),dataBindings},setupDataBindingWritebackListeners=(e,t,n)=>{var r=function(){var t=_asyncToGenerator((function*(t,n){try{return yield PyDefUtils.callAsyncWithoutDefaultError(t.pySave,void 0,void 0,void 0,e,n)}catch(e){if(e instanceof Sk.builtin.KeyError)return _Sk.pyNone;if(console.error(e),e instanceof Sk.builtin.BaseException&&e.args.v[0]instanceof Sk.builtin.str){var r=t.componentName?"self.".concat(t.componentName):"self";e.args.v[0]=new Sk.builtin.str(e.args.v[0].v+"\n while setting "+t.code+" = "+r+"."+t.property+"\n in a data binding for "+r)}return window.onerror(null,null,null,null,e),_Sk.pyNone}}));return function(e,n){return t.apply(this,arguments)}}(),o=[],i=function(t,i){var a=void 0;if(t)a=e.$d.quick$lookup(new _Sk.pyStr(t));else if(n){if(!e._withLayout.pyLayout)return"continue";a=e._withLayout.pyLayout}else a=e;var l=function(e){if(e.pyComponent=a,e.componentName=t,e.writeback){var n=new _Sk.pyFunc(PyDefUtils.withRawKwargs((()=>(0,_Sk.promiseToSuspension)(r(e,a)))));(0,_Sk.pyCall)(a.tp$getattr(_pyUtil.s_add_event_handler),[new _Sk.pyStr("x-anvil-write-back-"+e.property),n]),o.push((()=>{(0,_Sk.pyCall)(a.tp$getattr(_pyUtil.s_remove_event_handler),[new _Sk.pyStr("x-anvil-write-back-"+e.property),n])}))}};for(var s of i)l(s)};for(var[a,l]of Object.entries(t))i(a,l);return()=>{for(var e of o)e()}},refreshDataBindings=(e,t,n)=>{var r=[],o=[],i=function(n,i){var a=void 0;if(n)a=t.$d.quick$lookup(new _Sk.pyStr(n));else if(e.layout){if(!t._withLayout.pyLayout)return"continue";a=t._withLayout.pyLayout}else a=t;r.push(...i.map((r=>{var{property:i,code:l,pyUpdate:s,pyClear:c}=r,p=()=>s&&(0,_Sk.pyCallOrSuspend)(s,[t,a]),u=r=>{if(r instanceof _Sk.pyKeyError)return c&&(0,_Sk.pyCallOrSuspend)(c,[t,a]);if(!(r instanceof _Sk.pyBaseException&&r.args.v[0]instanceof _Sk.pyStr))throw r;r.traceback.pop(),(0,_errorHandling.isCustomAnvilError)(r)&&r._anvil.errorObj.bindingErrors?(o.push(...r._anvil.errorObj.bindingErrors),1===o.length&&(o[0].exception=r)):o.push({exception:r,traceback:r.traceback,message:r.args.v[0].toString(),formName:e.class_name,binding:{component_name:n,property:i,code:l}})};return()=>(0,_Sk.tryCatchOrSuspend)(p,u)})))};for(var[a,l]of Object.entries(n))i(a,l);return r.push((()=>{if(1===o.length){var e=o[0].exception;throw e._anvil?e._anvil.errorObj||(e._anvil.errorObj={type:e.tp$name}):e._anvil={errorObj:{type:e.tp$name}},e._anvil.errorObj.bindingErrors=o,delete o[0].exception,e}if(o.length>0){var t=new Sk.builtin.RuntimeError("Data Binding update failed with ".concat(o.length," error").concat(o.length>1?"s":""));for(var n of(t._anvil={errorObj:{type:"Exception",bindingErrors:o}},o))delete n.exception;throw t}})),(0,_Sk.chainOrSuspend)(null,...r,(()=>_Sk.pyNone))},getComponentNames=e=>{var t=new Set;return walkComponents(e,(e=>t.add(e.name))),t},FORM_SHOW_EVENT={name:"show",description:"When the form is shown on the page",parameters:[],important:!0};exports.FORM_SHOW_EVENT=FORM_SHOW_EVENT;var FORM_HIDE_EVENT={name:"hide",description:"When the form is removed from the page",parameters:[],important:!0};exports.FORM_HIDE_EVENT=FORM_HIDE_EVENT;var FORM_REFRESH_DATA_BINDINGS_EVENT={name:"refreshing_data_bindings",important:!0,parameters:[],description:"When refresh_data_bindings is called"};exports.FORM_REFRESH_DATA_BINDINGS_EVENT=FORM_REFRESH_DATA_BINDINGS_EVENT;var FORM_REFRESH_DATA_BINDINGS_EVENT_HIDDEN=_objectSpread(_objectSpread({},FORM_REFRESH_DATA_BINDINGS_EVENT),{},{hidden:!0}),FORM_EVENTS=[FORM_SHOW_EVENT,FORM_HIDE_EVENT,FORM_REFRESH_DATA_BINDINGS_EVENT];exports.FORM_EVENTS=FORM_EVENTS;var FORM_EVENT_NAMES=FORM_EVENTS.map((e=>{var{name:t}=e;return t}));exports.FORM_EVENT_NAMES=FORM_EVENT_NAMES;var FORM_EVENTS_BY_NAME=Object.fromEntries(FORM_EVENTS.map((e=>[e.name,e]))),ITEM_PROPERTY={name:"item",type:"dict",description:"A dictionary-like object connected to this form"};
/*!componentProp(form)!1*/function setupDropHooks(e,t){var n=t.anvil$hooks.enableDropMode;if(e.custom_component_container){var r=new _pythonObjects.Slot((()=>t),0);(0,_Sk.retryOptionalSuspensionOrThrow)(r._slotState.fillCache());var o=r.tp$getattr(_pyUtil.s_add_component);t.$d.mp$ass_subscript(_pyUtil.s_add_component,o),t.anvil$hooks.enableDropMode=(e,t)=>{var o;return(null!==(o=null==n?void 0:n(e,t))&&void 0!==o?o:[]).filter((e=>{var{dropInfo:{minChildIdx:t}={}}=e;return void 0===t||t<=r._slotState.components.length}))}}else t.anvil$hooks.enableDropMode=(e,t)=>{var r;return(null==t?void 0:t.asComponent)?[]:null!==(r=null==n?void 0:n(e,t))&&void 0!==r?r:[]}}function setupPassiveHooks(e,t){}exports.ITEM_PROPERTY=ITEM_PROPERTY;var MetaCustomComponent=(0,_Sk.buildNativeClass)("anvil.MetaCustomComponent",{constructor:function(){},base:_Sk.pyType,slots:{tp$call(e,t){var n=this.prototype.anvil$customPropsDefaults;if(n){var r=(0,_pyUtil.kwToObj)(t);for(var o in n)o in r||(r[o]=n[o]);t=(0,_pyUtil.objToKw)(r)}return _Sk.pyType.prototype.tp$call.call(this,e,t)}}}),createFormTemplateClass=(e,t,n,r)=>{var o,i=e.container?(0,_instantiation.getAnvilComponentClass)(r,e.container.type)||(0,_Sk.retryOptionalSuspensionOrThrow)((0,_instantiation.getFormClassObject)((0,_instantiation.resolveFormSpec)(e.container.type.substring(5),t))):_pythonObjects.WithLayout,a={},l=[],s=[ITEM_PROPERTY];(e.custom_component||e.slots)&&(l.push(...cleanEventDescriptions(e.events)),s.push(...cleanPropertyDescriptions(e.properties))),l.some((e=>{var{name:t}=e;return"refreshing_data_bindings"===t}))||l.push(FORM_REFRESH_DATA_BINDINGS_EVENT_HIDDEN);var c=setupDataBindings(e),p=getComponentNames(e),u=i.$typeLookup(_pyUtil.s_item),d=[];e.layout&&d.push("layout",{type:e.layout.type,defaultDepId:t}),(e.custom_component||e.slots)&&d.push("metaclass",MetaCustomComponent);var f=(0,_Sk.buildPyClass)(r,((n,o)=>{var d=[];if(!e.container){var v=new _Sk.pyBuiltinFunctionOrMethod({$meth(t,n){var r;(0,_componentCreation.addEventHandlers)(t,n,"",e.layout.event_bindings);var o={"":null!==(r=c[""])&&void 0!==r?r:[]};return n.anvil$formState.removeDataBindingWritebackListeners=setupDataBindingWritebackListeners(n,o,!0),(0,_Sk.chainOrSuspend)(null,(()=>refreshDataBindings(e,n,o)),(()=>(0,_componentCreation.addFormComponentsToLayout)(e,n,t)),(()=>_Sk.pyNone))},$flags:{MinArgs:2,MaxArgs:2}}),m=new _Sk.pyBuiltinFunctionOrMethod({$meth(t,n){var r,o;return(0,_componentCreation.removeEventHandlers)(t,n,e.layout),null===(r=(o=n.anvil$formState).removeDataBindingWritebackListeners)||void 0===r||r.call(o),_Sk.pyNone},$flags:{MinArgs:2,MaxArgs:2}});d.push(v,m)}var h=e.container||e.layout,g=(0,_pyUtil.objectToKwargs)(_objectSpread({__ignore_property_exceptions:!0},h.properties||{})),_=Sk.abstr.typeLookup(i,Sk.builtin.str.$new),y=e=>(0,_Sk.pyCallOrSuspend)(_,[e,...d],g),b=(t,n)=>(t._anvil&&(Object.assign(t._anvil,a),t._anvil.props.item=new Sk.builtin.dict([])),t.anvil$formState={refreshOnItemSet:!0,dataBindings:[],slotDict:new _Sk.pyDict},(0,_Sk.chainOrSuspend)(n(t),(()=>(setupDataBindingWritebackListeners(t,c,!!e.layout),t))));o.__new__=new Sk.builtin.func(PyDefUtils.withRawKwargs(((n,r)=>(0,_Sk.chainOrSuspend)(y(r),(n=>{var r=(0,_componentCreation.getAndCheckNextCreationStack)(e.class_name,t);return b(n,(n=>(0,_Sk.chainOrSuspend)((0,_componentCreation.setupFormComponents)(e,n,t,r),(t=>{if(t.slots)for(var[r,o]of Object.entries(t.slots))n.anvil$formState.slotDict.mp$ass_subscript(new _Sk.pyStr(r),o);setupDropHooks(e,n)}))))}))))),o.__new_deserialized__=PyDefUtils.mkNewDeserializedPreservingIdentity(((t,n,r)=>{var o=n.mp$subscript(new Sk.builtin.str("c")),i=n.mp$subscript(new Sk.builtin.str("d")),a=n.mp$subscript(new Sk.builtin.str("a"));return b(t,(function(t){var n=t.tp$getattr(_pyUtil.s_add_component);return Sk.misceval.chain(Sk.misceval.iterFor(Sk.abstr.iter(o),(e=>{var[t,r]=e.v;return Sk.misceval.apply(n,r,void 0,[],[t])})),(()=>{var n,r=t.$d.tp$getattr(new _Sk.pyStr("update"));function o(e,n){var r=e.tp$getattr(_pyUtil.s_add_event_handler);for(var o in n.event_bindings){var i=t.tp$getattr(new _Sk.pyStr(n.event_bindings[o]));i&&(0,_Sk.pyCall)(r,[new _Sk.pyStr(o),i])}}(0,_Sk.pyCall)(r,[i]),e.container&&o(t,e.container),function e(n){for(var r of n||[]){o(t.tp$getattr(new _Sk.pyStr(r.name)),r),r.components&&e(r.components)}}(null!==(n=e.components)&&void 0!==n?n:[]),setupDataBindingWritebackListeners(t,c,!!e.layout)}),(()=>{var e=a.tp$getattr(new _Sk.pyStr("items"));return(0,_Sk.iterForOrSuspend)((0,_Sk.pyIter)((0,_Sk.pyCall)(e)),(e=>{var[n,r]=e.v;return t.tp$setattr(n,r,!0)}))}))}))}),y),o.__serialize__=PyDefUtils.mkSerializePreservingIdentity((function(e){var t,n=null!==(t=(0,_Sk.lookupSpecial)(e,_Sk.pyStr.$dict))&&void 0!==t?t:new _Sk.pyDict;try{Sk.abstr.objectDelItem(n,new Sk.builtin.str("_serialization_key"))}catch(e){}var r=new Sk.builtin.dict,o=[];if(e._anvil){for(var i in e._anvil.props)r.mp$ass_subscript(new Sk.builtin.str(i),e._anvil.props[i]);o=e._anvil.components.map((e=>new Sk.builtin.tuple([e.component,(0,_Sk.toPy)(e.layoutProperties)])))}return new Sk.builtin.dict([new Sk.builtin.str("d"),n,new Sk.builtin.str("a"),r,new Sk.builtin.str("c"),new Sk.builtin.list(o)])})),o.init_components=o.__init__=PyDefUtils.funcFastCall((function(t,n){(0,_Sk.checkOneArg)("init_components",t);var r,o=t[0],a=i.tp$getattr(_Sk.pyStr.$init),l=new Set(["item"]),s=(0,_pyUtil.kwToObj)(n);if(e.custom_component||e.slots)for(var{name:c}of null!==(p=e.properties)&&void 0!==p?p:[]){var p;l.add(c)}var u=e=>{var t,n;return"__ignore_property_exceptions"!==e&&(!!l.has(e)||(null!==(t=r)&&void 0!==t||(r=null!==(n=o.anvil$hooks.properties)&&void 0!==n?n:[]),!!r.some((t=>{var{name:n}=t;return n===e}))||(console.log("Ignoring form constructor kwarg: ",e),!1)))},d=[];for(var[f,v]of Object.entries(s))u(f)&&d.push([f,v]);return Sk.misceval.chain((0,_Sk.pyCallOrSuspend)(a,[o]),(()=>{o.anvil$formState.refreshOnItemSet=!1}),...d.map((e=>{var[t,n]=e;return()=>o.tp$setattr(new Sk.builtin.str(t),n,!0)})),(()=>{o.anvil$formState.refreshOnItemSet=!0}),(()=>Sk.misceval.tryCatch((()=>PyDefUtils.pyCallOrSuspend(o.tp$getattr(new Sk.builtin.str("refresh_data_bindings")))),(e=>{throw e instanceof Sk.builtin.BaseException&&e.args.v[0]instanceof Sk.builtin.str&&(e.args.v[0]=new Sk.builtin.str(e.args.v[0].v+". Did you initialise all data binding sources before initialising this component?")),e}))))})),(e.custom_component||e.slots)&&(e.properties||[]).forEach((e=>{o[e.name]=PyDefUtils.pyCall(r.CustomComponentProperty,[new _Sk.pyStr(e.name),(0,_Sk.toPy)(e.default_value||null)])})),e.slots&&(o.slots=new Sk.builtin.property(new Sk.builtin.func((e=>e.anvil$formState.slotDict)))),o.raise_event=PyDefUtils.funcFastCall(((t,n)=>{var r,[o,i]=t;(0,_Sk.checkArgsLen)("raise_event",t,2,2);var a=String(i),l=new _Sk.pySuper(f,o).tp$getattr(_pyUtil.s_raise_event);if(!e.custom_component&&!e.slots)return(0,_Sk.pyCallOrSuspend)(l,[i],n);var s=(null!==(r=e.properties)&&void 0!==r?r:[]).filter((e=>{var t;return(null!==(t=e.binding_writeback_events)&&void 0!==t?t:[]).includes(a)})).map((e=>()=>(0,_Component.raiseWritebackEventOrSuspend)(o,new _Sk.pyStr(e.name))));return(0,_Sk.chainOrSuspend)(_Sk.pyNone,...s,(()=>(0,_Sk.pyCallOrSuspend)(l,[i],n)))})),o.refresh_data_bindings=new Sk.builtin.func((function(t){var n,r=[()=>(0,_Sk.pyCallOrSuspend)(t.tp$getattr(_pyUtil.s_raise_event),[_pyUtil.s_refreshing_data_bindings])];return(null===(n=t._anvil)||void 0===n?void 0:n.onRefreshDataBindings)&&r.push(t._anvil.onRefreshDataBindings),(0,_Sk.chainOrSuspend)(null,...r,(()=>refreshDataBindings(e,t,c)),(()=>_Sk.pyNone))}));var k=Sk.abstr.buildNativeClass("ItemDescriptor",{constructor:function(){},slots:{tp$descr_get(e,t){var n;return null==e?this:null!==(n=e.anvil$itemValue)&&void 0!==n?n:e.anvil$itemValue=new Sk.builtin.dict},tp$descr_set(e,t,n){var r;e.anvil$itemValue=t;var i=(0,_Sk.chainOrSuspend)(null==u||null===(r=u.tp$descr_set)||void 0===r?void 0:r.call(u,e,t),(()=>e.anvil$formState.refreshOnItemSet&&(0,_Sk.pyCallOrSuspend)(o.refresh_data_bindings,[e])));return n?i:(0,_Sk.retryOptionalSuspensionOrThrow)(i)}}});o.item=new k,o.__setattr__=new Sk.builtin.func((function(e,t,n){var r=Sk.ffi.toJs(t);if(p.has(r))throw new Sk.builtin.AttributeError("Cannot set attribute '"+r+"' on '"+e.tp$name+"' form. There is already a component with this name.");return(0,_Sk.chainOrSuspend)(Sk.generic.setAttr.call(e,t,n,!0),(()=>_Sk.pyNone))}));var S=Sk.abstr.typeLookup(Sk.builtin.object,Sk.builtin.str.$getattribute);o.__getattribute__=new Sk.builtin.func((function(e,t){var n=Sk.ffi.toJs(t);if(p.has(n)){var r=e.$d,o=r&&r.quick$lookup(t);if(void 0!==o)return o}return PyDefUtils.pyCallOrSuspend(S,[e,t])})),o[_pyUtil.s_anvil_get_interactions.toString()]=(0,_pyUtil.funcFastCall)((()=>new _Sk.pyList([]))),o[_pyUtil.s_anvil_properties.toString()]=(0,_Sk.toPy)(s),o[_pyUtil.s_anvil_events.toString()]=(0,_Sk.toPy)(l)}),n,[i],void 0,d);return f.prototype.anvil$customPropsDefaults=Object.fromEntries((null!==(o=e.properties)&&void 0!==o?o:[]).filter((e=>"object"!==e.type)).map((e=>[e.name,(0,_Sk.toPy)(e.default_value)]))),f};exports.createFormTemplateClass=createFormTemplateClass},function(e,t,n){"use strict";var r=n(12),o=n(349),i=n(31),a=n(17),l=n(36),s=n(162);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),n=a(t.length),r=s(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:l(e)),r}})},function(e,t,n){"use strict";var r=n(123),o=n(17),i=n(45),a=function(e,t,n,l,s,c,p,u){for(var d,f=s,v=0,m=!!p&&i(p,u,3);v<l;){if(v in n){if(d=m?m(n[v],v,t):n[v],c>0&&r(d))f=a(e,t,d,o(d.length),f,c-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=d}f++}v++}return f};e.exports=a},function(e,t,n){n(160)("flat")},function(e,t,n){"use strict";n(0),n(227),n(39),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.mkInvalidComponent=v,t.removeEventHandlers=function(e,t,n){var o,i=n.event_bindings||{};for(var[l,s]of Object.entries(i)){var c;null!==(c=o)&&void 0!==c||(o=Sk.abstr.gattr(e,a.s_remove_event_handler));var p=Sk.generic.getAttr.call(t,new r.pyStr(s));(0,r.pyCall)(o,[new r.pyStr(l),p])}},t.addEventHandlers=m,t.setupFormComponents=function(e,t,n,o){var c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5?arguments[5]:void 0,d=Sk.abstr.lookupSpecial(t,r.pyStr.$dict);return(0,r.chainOrSuspend)(function(e,t,n,o,c,u){var d={requestingComponent:t,fromYaml:!0,defaultDepId:n},f={components:{},orphanedComponents:[],form:t},_=(n,i,l,u,y)=>(0,r.chainOrSuspend)((0,r.tryCatchOrSuspend)((()=>g(d,n.type,p({__ignore_property_exceptions:!0},n.properties),c,n.name)),(e=>(console.error("Error instantiating ".concat(null==n?void 0:n.name),": ",e,"YAML:",n,"\n",(0,a.strError)(e)),window.onerror(null,null,null,null,e),v('Error instantiating "'.concat(null==n?void 0:n.name,'": ').concat((0,a.strError)(e)))))),(i=>(0,r.tryCatchOrSuspend)((()=>{if(n.name&&(n.name in f.components&&(0,s.warn)("Warning: detected ".concat(e.class_name,' has two components named "').concat(n.name,"\". This shouldn't happen.")),f.components[n.name]={component:i,layoutProperties:n.layout_properties||{},index:u,ancestors:l,targetSlot:y}),o&&m(i,t,n.name,n.event_bindings),n.components&&!(0,r.isTrue)((0,r.pyIsInstance)(i,a.anvilMod.InvalidComponent))){var c=h;try{c=Sk.abstr.gattr(i,a.s_add_component)}catch(e){}return(0,r.chainOrSuspend)(null,...n.components.map(((e,t)=>()=>_(e,c,[i,...l],t))),(()=>i))}return i}),(e=>(console.error("Error setting up component '".concat(null==n?void 0:n.name,"' on ").concat(null==t?void 0:t.tp$name,":"),e,"\nYAML: ",n,"Python err: ",(0,a.strError)(e)),window.onerror(null,null,null,null,e),v('Error setting up component "'.concat(null==n?void 0:n.name,'": ').concat((0,a.strError)(e))))))),(e=>{var t=[];if(n.layout_properties)for(var[o,a]of Object.entries(n.layout_properties))t.push(new r.pyStr(o),(0,r.toPy)(a));return i&&(0,r.tryCatchOrSuspend)((()=>(0,r.pyCallOrSuspend)(i,[e],t)),(e=>(f.orphanedComponents.push(n.name),r.pyNone)))}));window.anvilCurrentlyConstructingForms.push({name:e.class_name,pyForm:t});var y=()=>{if(e.slots){f.slots={};var o={container:{},slot:{}},s=Object.entries(e.slots).sort(((e,t)=>{var[n,{index:r}]=e,[o,{index:i}]=t;return r===i?n.localeCompare(o,"en"):r-i})),c=function(e,s,c,u,d,v){var m,h,g=void 0;if("container"===d.type){var _=d.name?f.components[d.name].component:t;if(!_)throw'No such target container "'.concat(d.name,'" for slot "').concat(e,'"');g=()=>_}else g=()=>(0,r.chainOrSuspend)(Sk.abstr.gattr(t,a.s_layout,!0),(e=>Sk.abstr.gattr(e,a.s_slots,!0)),(t=>{var n=t.quick$lookup(new r.pyStr(d.name));if(!n)throw"No such target slot ".concat(d.name," for slot ").concat(e);return n}));var y=void 0;u&&(y={component:p(p({},u),{},{type:u.type.startsWith("form:")?(0,i.resolveFormSpec)(u.type.substring(5),n).qualifiedClassName:"anvil.".concat(u.type)}),title:"Template"});var b=new l.Slot(g,v||0,s,!!c,y);f.slots[e]=b;var k=(m=o[d.type])[h=d.name]||(m[h]=[]);b._slotState.earlierSlots.push(...k),k.push(b)};for(var[u,{set_layout_properties:d,one_component:v,template:m,target:h,index:g}]of s)c(u,d,v,m,h,g)}return window.anvilCurrentlyConstructingForms.pop(),f};var b,k;if(e.layout)return m(t,t,"",e.layout.form_event_bindings),(0,r.chainOrSuspend)(void 0,...Object.entries(null!==(b=e.components_by_slot)&&void 0!==b?b:[]).map(((e,t)=>{var[n,o]=e;return()=>(0,r.chainOrSuspend)(null,...o.map((e=>()=>_(e,null,[u],t,n))))})),y);o&&m(t,t,"",e.container.event_bindings);var S=h;try{S=Sk.abstr.gattr(t,a.s_add_component)}catch(e){}return(0,r.chainOrSuspend)(null,...(null!==(k=e.components)&&void 0!==k?k:[]).map(((e,t)=>()=>_(e,S,[u],t))),y)}(e,t,n,c,o,u),(e=>{for(var[n,{component:o}]of Object.entries(e.components)){var i=new r.pyStr(n);(0,r.isTrue)((0,r.pyHasAttr)(t,i))&&Sk.builtin.print([new r.pyStr("Warning: ".concat(t.tp$name," has a method or attribute '").concat(n,"' and a component called '").concat(n,"'. The method or attribute will be inaccessible. This is probably not what you want."))]),d&&d.mp$ass_subscript(i,o)}return e}))},t.addFormComponentsToLayout=function(e,t,n){var o,i=Sk.abstr.lookupSpecial(t,r.pyStr.$dict),l=Sk.abstr.gattr(n,a.s_slots),s=[];return(0,r.chainOrSuspend)(null,...Object.entries(null!==(o=e.components_by_slot)&&void 0!==o?o:[]).map((e=>{var[t,n]=e;return()=>{var e;try{e=l.mp$subscript(new r.pyStr(t))}catch(e){if(e instanceof Sk.builtin.KeyError)return window.onerror(null,null,null,null,new r.pyException("Could not add components to slot '".concat(t,"': Slot not found"))),void s.push(...n.map((e=>{var{name:t}=e;return t})));throw e}var o=Sk.abstr.gattr(e,a.s_add_component);return(0,r.chainOrSuspend)(null,...n.map((e=>{var{name:t,layout_properties:n}=e;return()=>(0,r.pyCallOrSuspend)(o,[i.mp$subscript(new r.pyStr(t))],(0,a.objectToKwargs)(n))})))}})),(()=>s))},t.instantiateComponentFromYamlSpec=t.getAndCheckNextCreationStack=t.setNextCreationStack=void 0;var r=n(6),o=n(28),i=n(129),a=n(8),l=n(219),s=n(130);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,f=new Set;t.setNextCreationStack=e=>{d=e};function v(e){return(0,r.pyCall)(a.anvilMod.InvalidComponent,[],["text",new r.pyStr(e)])}function m(e,t,n,o){var i=null,l=o||{};for(var[c,p]of Object.entries(l)){var u;null!==(u=i)&&void 0!==u||(i=Sk.abstr.gattr(e,a.s_add_event_handler));var d=Sk.generic.getAttr.call(t,new r.pyStr(p));if(Sk.builtin.checkCallable(d))try{(0,r.pyCall)(i,[new r.pyStr(c),d])}catch(e){if(!(e instanceof Sk.builtin.ValueError))throw e}else{var v="".concat(t.tp$name,".").concat(n,".").concat(c);if(!f.has(v)){f.add(v);var m=void 0;m=void 0===d?'Warning: No method "'.concat(p,'" in form ').concat(t.tp$name,": cannot set the '").concat(c,"' event handler of self").concat(n?"."+n:"","."):'Warning: "'.concat(p,'" in form ').concat(t.tp$name," is not a method: cannot set the '").concat(c,"' event handler of self").concat(n?"."+n:"",". Expected a callable function, (found type '").concat(Sk.abstr.typeName(d),"')."),(0,s.warn)(m)}}}}t.getAndCheckNextCreationStack=(e,t)=>{var n,o,i=d;d=void 0,(null===(n=i)||void 0===n?void 0:n.formSpec.formName)===e&&i.formSpec.depId===t||(i=void 0);for(var a=null===(o=i)||void 0===o?void 0:o.prev;a;){if(a.formSpec.formName===e&&a.formSpec.depId===t)throw new r.pyRecursionError("Cannot nest ".concat(e," inside itself"));a=a.prev}return i};var h=new Sk.builtin.func((()=>{throw new Sk.builtin.Exception})),g=(e,t,n,l,s)=>{if(t.startsWith("form:")){var c=(0,i.resolveFormSpec)(t.substring(5),e.defaultDepId);return(0,r.chainOrSuspend)((0,i.getNamedFormInstantiator)(c,e.requestingComponent),(t=>((0,o.setDefaultDepIdForNextComponent)(e.defaultDepId),d={formSpec:c,prev:l},t((0,a.objectToKwargs)(n),s))))}var p=(0,i.getAnvilComponentInstantiator)(e,t);return(0,o.setDefaultDepIdForNextComponent)(e.defaultDepId),p((0,a.objectToKwargs)(n),s)};t.instantiateComponentFromYamlSpec=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notifyMounted",{enumerable:!0,get:function(){return a.notifyMounted}}),Object.defineProperty(t,"notifyUnmounted",{enumerable:!0,get:function(){return a.notifyUnmounted}}),Object.defineProperty(t,"notifyVisibilityChange",{enumerable:!0,get:function(){return a.notifyVisibilityChange}}),Object.defineProperty(t,"raiseAnvilEvent",{enumerable:!0,get:function(){return a.raiseAnvilEvent}}),Object.defineProperty(t,"registerJsComponent",{enumerable:!0,get:function(){return a.registerJsComponent}}),Object.defineProperty(t,"registerToolboxSection",{enumerable:!0,get:function(){return a.registerToolboxSection}}),Object.defineProperty(t,"subscribeAnvilEvent",{enumerable:!0,get:function(){return a.subscribeAnvilEvent}}),t.propertyUtils=t.designerApi=t.openForm=void 0;var r=n(1),o=n(6),i=n(8),a=n(353),l=p(n(354));t.designerApi=l;var s=p(n(355));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}t.propertyUtils=s;t.openForm=e=>(0,r.asyncToPromise)((()=>(0,o.pyCallOrSuspend)(i.anvilMod.open_form,[(0,o.toPy)(e)])))},function(e,t,n){"use strict";n(0),n(19),n(56),n(34),n(39),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.notifyMounted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,p.toPyComponent)(e);return(0,l.asyncToPromise)((()=>(0,o.notifyComponentMounted)(n,t)))},t.notifyUnmounted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,p.toPyComponent)(e);return(0,l.asyncToPromise)((()=>(0,o.notifyComponentUnmounted)(n,t)))},t.notifyVisibilityChange=function(e,t){var n=(0,p.toPyComponent)(e);return(0,l.asyncToPromise)((()=>(0,o.notifyVisibilityChange)(n,t)))},t.raiseAnvilEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[];for(var[a,s]of Object.entries(n))i.push(a,(0,r.toPy)(s));return(0,l.asyncToPromise)((()=>(0,o.raiseEventOrSuspend)((0,p.toPyComponent)(e),new r.pyStr(t),i)))},t.subscribeAnvilEvent=function(e,t,n){var o=l.default.funcFastCall((function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=(0,a.kwargsToJsObject)(r);return o.sender=e,(0,p.returnToPy)(n(o))})),i=(0,p.toPyComponent)(e),s=i.tp$getattr(a.s_add_event_handler),c=i.tp$getattr(a.s_remove_event_handler),u=new r.pyStr(t);return(0,l.pyCall)(s,[u,o]),()=>{(0,l.pyCall)(c,[u,o])}},t.registerJsComponent=function(e,t){var{name:n}=t,l=n.match(/^(.*)\.([^.]+)$/);if(!l)return void Sk.builtin.print(["Cannot register JS component with invalid name: ".concat(n)]);var[u,f,m]=l,b=function(e,t){var{container:n,name:l}=t,s=function(e){var t=e.prototype,n=[];for(;t&&t!==g&&t!==_;)n.push(t),t=Object.getPrototypeOf(t);var r={};for(var o of n){var i=Object.getOwnPropertyDescriptors(o);Object.assign(r,i)}return Object.entries(r)}(e),u=s.filter((e=>{var[,t]=e;return t.get||t.set})),f=s.filter((e=>{var[t,n]=e;return!t.startsWith("_")&&"constructor"!==t&&"function"==typeof n.value})),m=n?i.Container:o.Component,y=(0,r.buildNativeClass)(l,{constructor:function(){},slots:{tp$new(t,n){var r=m.prototype.tp$new.call(this,[]);return(r[c.JS_COMPONENT]=new e)[c.PY_COMPONENT]=r,r},tp$init(e,t){var n=this;if(e.length)throw new Sk.builtin.TypeError("Component constructor takes keyword arguments only");var o=[],i=!0;if(t)for(var a=function(e){var a=t[e],l=t[e+1];"__ignore_property_exceptions"!==a?o.push((()=>(0,r.tryCatchOrSuspend)((()=>n.tp$setattr(new r.pyStr(a),l,!0)),(e=>{if(i)throw e})))):i=!1},l=0;l<t.length;l+=2)a(l);if(o.length)return(0,r.chainOrSuspend)(null,...o)}},base:m,getsets:Object.fromEntries(u.map((e=>{var[t,n]=e,o={$get(){var e;return(0,p.returnToPy)(null===(e=n.get)||void 0===e?void 0:e.call(this[c.JS_COMPONENT]))}};return n.set&&(o.$set=function(e){var t;return(0,p.returnToPy)(null===(t=n.set)||void 0===t?void 0:t.call(this[c.JS_COMPONENT],(0,r.toJs)(e)))}),[t,o]}))),methods:v(v({},Object.fromEntries(f.map((e=>{var[t,n]=e;return[t,{$meth(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,p.returnToPy)(n.value.apply(this[c.JS_COMPONENT],t.map(r.toJs)))},$flags:{MinArgs:0}}]})))),n?{add_component:{$meth(e,t){var n=this,[r]=e;(0,i.validateChild)(r);var o=(0,a.kwargsToJsObject)(t),l=this[c.JS_COMPONENT],s=function(){var e,t=(e=function*(){var{onRemove:e,setVisibility:t,isMounted:i=!0}=yield l._anvilAddComponent((0,p.asJsComponent)(r),o);return r.anvilComponent$setParent(n,{onRemove:()=>(0,p.maybeSuspend)(e()),setVisibility:t,isMounted:i})},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,p.returnToPy)(s())},$flags:{FastCall:!0}},get_components:{$meth(){return new r.pyList(this[c.JS_COMPONENT]._anvilGetComponents().map((e=>(0,p.toPyComponent)(e))))},$flags:{NoArgs:!0}}}:{}),flags:{sk$klass:!0},proto:{anvil$hookSpec:h(t)}});return(0,a.initNativeSubclass)(y),y}(e,t);return(0,s.addJsModuleHook)((()=>{var e=new r.pyModule,o=new r.pyStr(n);e.init$dict(o,r.pyNone),e.$d[m]=b,Sk.sysmodules.mp$ass_subscript(o,e);try{Sk.importModule(f,!1,!1),Sk.sysmodules.mp$subscript((0,r.toPy)(f)).tp$setattr((0,r.toPy)(m),e)}catch(e){console.error(e),Sk.builtin.print(["Failed to import parent module '".concat(f,"' when registering JS component '").concat(n,"'")])}s.jsCustomComponents[n]={pyMod:e,spec:y(t)}})),b},t.registerToolboxSection=void 0;var r=n(6),o=n(28),i=n(30),a=n(8),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1)),s=n(335),c=n(337),p=n(338);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=e=>{var t={setupDom(){return(0,p.maybeSuspend)(this[c.JS_COMPONENT]._anvilSetupDom())},getDomElement(){return this[c.JS_COMPONENT]._anvilDomElement},getProperties(){var t;return null!==(t=e.properties)&&void 0!==t?t:[]},getEvents(){var t;return null!==(t=e.events)&&void 0!==t?t:[]},updateDesignName(e){var t,n;return null===(t=(n=this[c.JS_COMPONENT])._anvilUpdateDesignName)||void 0===t?void 0:t.call(n,e)},getInteractions(){var e,t,n,r,o,i,a;return"_anvilGetDesignInfo"in this[c.JS_COMPONENT]?(console.warn("DEPRECATED _anvilGetDesignInfo - instead use _anvilGetInteractions"),null!==(r=null===(o=(i=this[c.JS_COMPONENT])._anvilGetDesignInfo)||void 0===o||null===(a=o.call(i))||void 0===a?void 0:a.interactions)&&void 0!==r?r:[]):null!==(e=null===(t=(n=this[c.JS_COMPONENT])._anvilGetInteractions)||void 0===t?void 0:t.call(n))&&void 0!==e?e:[]},getSections(){var e,t;return null===(e=(t=this[c.JS_COMPONENT])._anvilGetSections)||void 0===e?void 0:e.call(t)},getSectionDomElement(e){var t,n;return null===(t=(n=this[c.JS_COMPONENT])._anvilGetSectionDomElement)||void 0===t?void 0:t.call(n,e)},setSectionPropertyValues(e,t){var n,r;return(0,p.maybeSuspend)(null===(n=(r=this[c.JS_COMPONENT])._anvilSetSectionPropertyValues)||void 0===n?void 0:n.call(r,e,null!=t?t:{}))}};if(e.container){var n={getContainerDesignInfo(e){var t,n,r;return null!==(t=null===(n=(r=this[c.JS_COMPONENT])._anvilGetContainerDesignInfo)||void 0===n?void 0:n.call(r,(0,p.asJsComponent)(e)))&&void 0!==t?t:{layoutPropertyDescriptions:[]}},updateLayoutProperties(e,t){var n,r;return(0,p.maybeSuspend)(null===(n=(r=this[c.JS_COMPONENT])._anvilUpdateLayoutProperties)||void 0===n?void 0:n.call(r,(0,p.asJsComponent)(e),t))},enableDropMode(e,t){var n,o,i;return e.pyLayoutProperties&&(e.layoutProperties=(0,r.toJs)(e.pyLayoutProperties)),null!==(n=null===(o=(i=this[c.JS_COMPONENT])._anvilEnableDropMode)||void 0===o?void 0:o.call(i,e,t))&&void 0!==n?n:[]},disableDropMode(){var e,t;return null===(e=(t=this[c.JS_COMPONENT])._anvilDisableDropMode)||void 0===e?void 0:e.call(t)}};Object.assign(t,n)}return t},g=Object.prototype,_=Function.prototype;var y=e=>{var{name:t,properties:n,events:r,layoutProperties:o,container:i,showInToolbox:a}=e;return{name:t,properties:n,events:r,layoutProperties:o,container:i,showInToolbox:a}};t.registerToolboxSection=e=>{s.customToolboxSections.push(e)}},function(e,t,n){"use strict";n(10),Object.defineProperty(t,"__esModule",{value:!0}),t.getDesignName=function(e){return r.designerApi.getDesignName((0,o.toPyComponent)(e))},t.updateComponentProperties=function(e,t,n){return r.designerApi.updateComponentProperties((0,o.toPyComponent)(e),t,n)},t.updateComponentSections=function(e,t){r.designerApi.updateComponentSections((0,o.toPyComponent)(e),t)},t.startEditingSubform=function(e){r.designerApi.startEditingSubform((0,o.toPyComponent)(e))},t.startEditingForm=function(e,t){(0,o.assert)("string"==typeof t,"formPropertyValue must be a string"),r.designerApi.startEditingForm((0,o.toPyComponent)(e),t)},t.registerInteraction=function(e,t){return l.apply(this,arguments)},t.notifyInteractionsChanged=function(e){r.designerApi.notifyInteractionsChanged((0,o.toPyComponent)(e))},t.notifyDomNodeChanged=function(e){r.designerApi.notifyDomNodeChanged((0,o.toPyComponent)(e))},t.getConstructorForFormProperty=function(){},t.getDesignComponent=function(e){return r.designerApi.getDesignComponent(e)},t.requestFormPropertyChange=function(){},t.startInlineEditing=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r.designerApi.startInlineEditing((0,o.toPyComponent)(e),t,n,i)},t.inDesigner=void 0;var r=n(208),o=n(338);function i(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var a=window.anvilInDesigner;function l(){var e;return e=function*(e,t){var{event:n="dblclick",callback:i,element:a}=t;if("dblclick"===n)return a||(a=yield e._anvilSetupDom()),r.designerApi.registerInteraction((0,o.toPyComponent)(e),a,n,i)},l=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))},l.apply(this,arguments)}t.inDesigner=a},function(e,t,n){"use strict";n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.setElementSpacing=t.setElementPadding=t.setElementMargin=t.getSpacingStyles=t.getPaddingStyles=t.getMarginStyles=void 0;var r=n(336);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=e=>(0,r.getSpacingObject)(e,"margin");t.getMarginStyles=l;var s=e=>(0,r.getSpacingObject)(e,"padding");t.getPaddingStyles=s;var c=e=>i(i({},(0,r.getSpacingObject)(e.margin,"margin")),(0,r.getSpacingObject)(e.padding,"padding"));t.getSpacingStyles=c;t.setElementMargin=(e,t)=>Object.assign(e.style,l(t));t.setElementPadding=(e,t)=>Object.assign(e.style,s(t));t.setElementSpacing=(e,t)=>Object.assign(e.style,c(t))},function(e,t,n){"use strict";n(0),n(19),n(56),n(10),n(34),n(20),n(2),Object.defineProperty(t,"__esModule",{value:!0}),t.solidComponents=t.registerSolidComponent=void 0;var r=n(6),o=n(28),i=n(30),a=n(1),l=n(8),s=n(335);function c(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["<div class=","\n            ref=","\n        ></div>"]);return c=function(){return e},e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var v={},m=!1;function h(){var e;return e=function*(){if(!m){var e=new Function("url","return import(url);");Object.assign(v,yield e("https://cdn.skypack.dev/solid-js"),{web:yield e("https://cdn.skypack.dev/solid-js/web"),store:yield e("https://cdn.skypack.dev/solid-js/store"),html:(yield e("https://cdn.skypack.dev/solid-js/html")).default}),m=!0}},h=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)}))},h.apply(this,arguments)}var g=(0,r.typeLookup)(o.Component,l.s_raise_event);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];for(var[o,i]of Object.entries(t))n.push(o,(0,r.toPy)(i));return(0,r.suspensionToPromise)((()=>(0,r.pyCallOrSuspend)(g,[this,new r.pyStr(e)],n)))}function y(e){var{name:t,events:n=[],properties:s=[],component:c=(()=>{}),container:p=!1}=e,d=(0,r.toPy)(n||[]),f=t.match(/[^.]+$/),m=Object.fromEntries(s.map((e=>{var{name:t,defaultValue:n}=e;return[t,n]}))),g=(0,r.buildNativeClass)(t+"."+f,{base:p?i.Container:o.Component,constructor:function(){var e={raiseEvent:_.bind(this)},[t,n]=v.store.createStore(u({},m)),[r,o]=v.createSignal(null),[i,a]=v.store.createStore([]);Object.assign(this,{components:i,setComponents:a,props:t,setProps:n,dropZones:{},dropState:r,setDropState:o}),Object.defineProperty(this,"rootElement",{get(){return delete this.rootElement,this.rootElement=v.createRoot((()=>c({actions:e,props:t,dropState:r,components:i})))},configurable:!0})},slots:{tp$new(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function(){return h.apply(this,arguments)}().then((()=>{for(var n=o.Component.prototype.tp$new.call(this,e,t),i=0;i<t.length;i+=2){var a=t[i],l=t[i+1];"__ignore_property_exceptions"!==a&&n.tp$setattr(new r.pyStr(a),l)}return n}));return(0,a.suspensionFromPromise)(n)}},methods:{add_component:{$meth(e,t){if(1!==e.length||!(e[0]instanceof o.Component))throw new r.pyTypeError("add_component() takes only one positional argument, which must be a Component");var n=e[0];n.anvilComponent$setParent(this,{onRemove:()=>{this.setComponents(this.components.filter((e=>e.component!==n)))}});var i=(0,l.kwargsToJsObject)(t);return(0,r.chainOrSuspend)(n.anvil$hooks.setupDom(),(e=>(this.setComponents(this.components.length,{component:n,element:e,layoutProperties:i}),r.pyNone)))},$flags:{FastCall:!0}}},getsets:Object.fromEntries(s.map((e=>{var{name:t}=e;return[t,{$get(){return(0,r.toPy)(this.props[t])},$set(e){this.setProps(t,(0,r.toJs)(e))}}]}))),flags:{sk$klass:!0},proto:{anvil$events:d,anvil$hookSpec:{setupDom(){return this.rootElement},getDomElement(){return this.rootElement},getProperties:()=>s,getEvents:()=>n,getInteractions(){var e;return(null===(e=this.getInteractions)||void 0===e?void 0:e.call(this))||[]},getContainerDesignInfo:()=>({layoutPropertyDescriptions:[{name:"classes",type:"string",isLayoutProperty:!0}]}),updateLayoutProperties(e,t){var n=this.components.findIndex((t=>{var{component:n}=t;return n===e}));return this.setComponents(n,(e=>u(u({},e),{},{layoutProperties:u(u({},e.layoutProperties),t)}))),t},enableDropMode(e){return p?(this.setDropState({registerDropElement(e,t){this.dropZones[e]=t}}),Object.values(this.dropZones).map((e=>{var{element:t,expandable:n,dropInfo:r}=e;return{element:t,expandable:n,dropInfo:r}}))):[]},disableDropMode(){this.setDropState(null),this.dropZones={}}}}});return(0,l.initNativeSubclass)(g),g}function b(e){return"function"==typeof e?e():e}t.registerSolidComponent=e=>{var t=e.name.replace(/^.*\./,"");(0,s.registerModule)(e.name,{[t]:y(e)},(e=>{var{name:t,events:n,container:r,layoutProperties:o,properties:i,showInToolbox:a}=e;return{name:t,events:n,container:r,layoutProperties:o,properties:i,showInToolbox:a}})(e))};var k={DropZone:function(e){return()=>{var t=b(e.dropState);return t&&v.html(c(),(()=>{var t;return null!==(t=b(e.class))&&void 0!==t?t:""}),(n=>t.registerDropElement(b(e.dropId),{element:n,expandable:b(e.expandable),dropInfo:b(e.dropInfo)})))}}};t.solidComponents=k}]);
//# sourceMappingURL=runner2.bundle.js.map